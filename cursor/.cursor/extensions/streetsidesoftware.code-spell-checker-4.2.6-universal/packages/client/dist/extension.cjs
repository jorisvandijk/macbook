"use strict";var Pj=Object.create;var Ql=Object.defineProperty;var Rj=Object.getOwnPropertyDescriptor;var Aj=Object.getOwnPropertyNames;var Ij=Object.getPrototypeOf,_j=Object.prototype.hasOwnProperty;var Nj=(t,e)=>()=>(t&&(e=t(t=0)),e);var P=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),mm=(t,e)=>{for(var n in e)Ql(t,n,{get:e[n],enumerable:!0})},Yl=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Aj(e))!_j.call(t,i)&&i!==n&&Ql(t,i,{get:()=>e[i],enumerable:!(r=Rj(e,i))||r.enumerable});return t},DE=(t,e,n)=>(Yl(t,e,"default"),n&&Yl(n,e,"default")),Ue=(t,e,n)=>(n=t!=null?Pj(Ij(t)):{},Yl(e||!t||!t.__esModule?Ql(n,"default",{value:t,enumerable:!0}):n,t)),wE=t=>Yl(Ql({},"__esModule",{value:!0}),t);var pk=P((Bc,Wm)=>{(function(e,n){typeof Bc=="object"&&typeof Wm=="object"?Wm.exports=n():typeof define=="function"&&define.amd?define([],n):typeof Bc=="object"?Bc.esprima=n():e.esprima=n()})(Bc,function(){return(function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)})([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(3),s=n(8),o=n(15);function a(p,l,d){var h=null,m=function(j,re){d&&d(j,re),h&&h.visit(j,re)},C=typeof d=="function"?m:null,D=!1;if(l){D=typeof l.comment=="boolean"&&l.comment;var T=typeof l.attachComment=="boolean"&&l.attachComment;(D||T)&&(h=new r.CommentHandler,h.attach=T,l.comment=!0,C=m)}var k=!1;l&&typeof l.sourceType=="string"&&(k=l.sourceType==="module");var I;l&&typeof l.jsx=="boolean"&&l.jsx?I=new i.JSXParser(p,l,C):I=new s.Parser(p,l,C);var B=k?I.parseModule():I.parseScript(),W=B;return D&&h&&(W.comments=h.comments),I.config.tokens&&(W.tokens=I.tokens),I.config.tolerant&&(W.errors=I.errorHandler.errors),W}e.parse=a;function c(p,l,d){var h=l||{};return h.sourceType="module",a(p,h,d)}e.parseModule=c;function u(p,l,d){var h=l||{};return h.sourceType="script",a(p,h,d)}e.parseScript=u;function f(p,l,d){var h=new o.Tokenizer(p,l),m;m=[];try{for(;;){var C=h.getNextToken();if(!C)break;d&&(C=d(C)),m.push(C)}}catch(D){h.errorHandler.tolerate(D)}return h.errorHandler.tolerant&&(m.errors=h.errors()),m}e.tokenize=f;var g=n(2);e.Syntax=g.Syntax,e.version="4.0.1"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=(function(){function s(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return s.prototype.insertInnerComments=function(o,a){if(o.type===r.Syntax.BlockStatement&&o.body.length===0){for(var c=[],u=this.leading.length-1;u>=0;--u){var f=this.leading[u];a.end.offset>=f.start&&(c.unshift(f.comment),this.leading.splice(u,1),this.trailing.splice(u,1))}c.length&&(o.innerComments=c)}},s.prototype.findTrailingComments=function(o){var a=[];if(this.trailing.length>0){for(var c=this.trailing.length-1;c>=0;--c){var u=this.trailing[c];u.start>=o.end.offset&&a.unshift(u.comment)}return this.trailing.length=0,a}var f=this.stack[this.stack.length-1];if(f&&f.node.trailingComments){var g=f.node.trailingComments[0];g&&g.range[0]>=o.end.offset&&(a=f.node.trailingComments,delete f.node.trailingComments)}return a},s.prototype.findLeadingComments=function(o){for(var a=[],c;this.stack.length>0;){var u=this.stack[this.stack.length-1];if(u&&u.start>=o.start.offset)c=u.node,this.stack.pop();else break}if(c){for(var f=c.leadingComments?c.leadingComments.length:0,g=f-1;g>=0;--g){var p=c.leadingComments[g];p.range[1]<=o.start.offset&&(a.unshift(p),c.leadingComments.splice(g,1))}return c.leadingComments&&c.leadingComments.length===0&&delete c.leadingComments,a}for(var g=this.leading.length-1;g>=0;--g){var u=this.leading[g];u.start<=o.start.offset&&(a.unshift(u.comment),this.leading.splice(g,1))}return a},s.prototype.visitNode=function(o,a){if(!(o.type===r.Syntax.Program&&o.body.length>0)){this.insertInnerComments(o,a);var c=this.findTrailingComments(a),u=this.findLeadingComments(a);u.length>0&&(o.leadingComments=u),c.length>0&&(o.trailingComments=c),this.stack.push({node:o,start:a.start.offset})}},s.prototype.visitComment=function(o,a){var c=o.type[0]==="L"?"Line":"Block",u={type:c,value:o.value};if(o.range&&(u.range=o.range),o.loc&&(u.loc=o.loc),this.comments.push(u),this.attach){var f={comment:{type:c,value:o.value,range:[a.start.offset,a.end.offset]},start:a.start.offset};o.loc&&(f.comment.loc=o.loc),o.type=c,this.leading.push(f),this.trailing.push(f)}},s.prototype.visit=function(o,a){o.type==="LineComment"?this.visitComment(o,a):o.type==="BlockComment"?this.visitComment(o,a):this.attach&&this.visitNode(o,a)},s})();e.CommentHandler=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(t,e,n){"use strict";var r=this&&this.__extends||(function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var m in h)h.hasOwnProperty(m)&&(d[m]=h[m])};return function(d,h){l(d,h);function m(){this.constructor=d}d.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}})();Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),s=n(5),o=n(6),a=n(7),c=n(8),u=n(13),f=n(14);u.TokenName[100]="JSXIdentifier",u.TokenName[101]="JSXText";function g(l){var d;switch(l.type){case o.JSXSyntax.JSXIdentifier:var h=l;d=h.name;break;case o.JSXSyntax.JSXNamespacedName:var m=l;d=g(m.namespace)+":"+g(m.name);break;case o.JSXSyntax.JSXMemberExpression:var C=l;d=g(C.object)+"."+g(C.property);break;default:break}return d}var p=(function(l){r(d,l);function d(h,m,C){return l.call(this,h,m,C)||this}return d.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():l.prototype.parsePrimaryExpression.call(this)},d.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},d.prototype.finishJSX=function(){this.nextToken()},d.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},d.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},d.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},d.prototype.scanXHTMLEntity=function(h){for(var m="&",C=!0,D=!1,T=!1,k=!1;!this.scanner.eof()&&C&&!D;){var I=this.scanner.source[this.scanner.index];if(I===h)break;if(D=I===";",m+=I,++this.scanner.index,!D)switch(m.length){case 2:T=I==="#";break;case 3:T&&(k=I==="x",C=k||i.Character.isDecimalDigit(I.charCodeAt(0)),T=T&&!k);break;default:C=C&&!(T&&!i.Character.isDecimalDigit(I.charCodeAt(0))),C=C&&!(k&&!i.Character.isHexDigit(I.charCodeAt(0)));break}}if(C&&D&&m.length>2){var B=m.substr(1,m.length-2);T&&B.length>1?m=String.fromCharCode(parseInt(B.substr(1),10)):k&&B.length>2?m=String.fromCharCode(parseInt("0"+B.substr(1),16)):!T&&!k&&f.XHTMLEntities[B]&&(m=f.XHTMLEntities[B])}return m},d.prototype.lexJSX=function(){var h=this.scanner.source.charCodeAt(this.scanner.index);if(h===60||h===62||h===47||h===58||h===61||h===123||h===125){var m=this.scanner.source[this.scanner.index++];return{type:7,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(h===34||h===39){for(var C=this.scanner.index,D=this.scanner.source[this.scanner.index++],T="";!this.scanner.eof();){var k=this.scanner.source[this.scanner.index++];if(k===D)break;k==="&"?T+=this.scanXHTMLEntity(D):T+=k}return{type:8,value:T,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}if(h===46){var I=this.scanner.source.charCodeAt(this.scanner.index+1),B=this.scanner.source.charCodeAt(this.scanner.index+2),m=I===46&&B===46?"...":".",C=this.scanner.index;return this.scanner.index+=m.length,{type:7,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}if(h===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(i.Character.isIdentifierStart(h)&&h!==92){var C=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var k=this.scanner.source.charCodeAt(this.scanner.index);if(i.Character.isIdentifierPart(k)&&k!==92)++this.scanner.index;else if(k===45)++this.scanner.index;else break}var W=this.scanner.source.slice(C,this.scanner.index);return{type:100,value:W,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:C,end:this.scanner.index}}return this.scanner.lex()},d.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var h=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(h)),h},d.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var h=this.scanner.index,m="";!this.scanner.eof();){var C=this.scanner.source[this.scanner.index];if(C==="{"||C==="<")break;++this.scanner.index,m+=C,i.Character.isLineTerminator(C.charCodeAt(0))&&(++this.scanner.lineNumber,C==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var D={type:101,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:h,end:this.scanner.index};return m.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(D)),D},d.prototype.peekJSXToken=function(){var h=this.scanner.saveState();this.scanner.scanComments();var m=this.lexJSX();return this.scanner.restoreState(h),m},d.prototype.expectJSX=function(h){var m=this.nextJSXToken();(m.type!==7||m.value!==h)&&this.throwUnexpectedToken(m)},d.prototype.matchJSX=function(h){var m=this.peekJSXToken();return m.type===7&&m.value===h},d.prototype.parseJSXIdentifier=function(){var h=this.createJSXNode(),m=this.nextJSXToken();return m.type!==100&&this.throwUnexpectedToken(m),this.finalize(h,new s.JSXIdentifier(m.value))},d.prototype.parseJSXElementName=function(){var h=this.createJSXNode(),m=this.parseJSXIdentifier();if(this.matchJSX(":")){var C=m;this.expectJSX(":");var D=this.parseJSXIdentifier();m=this.finalize(h,new s.JSXNamespacedName(C,D))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var T=m;this.expectJSX(".");var k=this.parseJSXIdentifier();m=this.finalize(h,new s.JSXMemberExpression(T,k))}return m},d.prototype.parseJSXAttributeName=function(){var h=this.createJSXNode(),m,C=this.parseJSXIdentifier();if(this.matchJSX(":")){var D=C;this.expectJSX(":");var T=this.parseJSXIdentifier();m=this.finalize(h,new s.JSXNamespacedName(D,T))}else m=C;return m},d.prototype.parseJSXStringLiteralAttribute=function(){var h=this.createJSXNode(),m=this.nextJSXToken();m.type!==8&&this.throwUnexpectedToken(m);var C=this.getTokenRaw(m);return this.finalize(h,new a.Literal(m.value,C))},d.prototype.parseJSXExpressionAttribute=function(){var h=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var m=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(h,new s.JSXExpressionContainer(m))},d.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},d.prototype.parseJSXNameValueAttribute=function(){var h=this.createJSXNode(),m=this.parseJSXAttributeName(),C=null;return this.matchJSX("=")&&(this.expectJSX("="),C=this.parseJSXAttributeValue()),this.finalize(h,new s.JSXAttribute(m,C))},d.prototype.parseJSXSpreadAttribute=function(){var h=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var m=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(h,new s.JSXSpreadAttribute(m))},d.prototype.parseJSXAttributes=function(){for(var h=[];!this.matchJSX("/")&&!this.matchJSX(">");){var m=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();h.push(m)}return h},d.prototype.parseJSXOpeningElement=function(){var h=this.createJSXNode();this.expectJSX("<");var m=this.parseJSXElementName(),C=this.parseJSXAttributes(),D=this.matchJSX("/");return D&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(h,new s.JSXOpeningElement(m,D,C))},d.prototype.parseJSXBoundaryElement=function(){var h=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var m=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(h,new s.JSXClosingElement(m))}var C=this.parseJSXElementName(),D=this.parseJSXAttributes(),T=this.matchJSX("/");return T&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(h,new s.JSXOpeningElement(C,T,D))},d.prototype.parseJSXEmptyExpression=function(){var h=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(h,new s.JSXEmptyExpression)},d.prototype.parseJSXExpressionContainer=function(){var h=this.createJSXNode();this.expectJSX("{");var m;return this.matchJSX("}")?(m=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),m=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(h,new s.JSXExpressionContainer(m))},d.prototype.parseJSXChildren=function(){for(var h=[];!this.scanner.eof();){var m=this.createJSXChildNode(),C=this.nextJSXText();if(C.start<C.end){var D=this.getTokenRaw(C),T=this.finalize(m,new s.JSXText(C.value,D));h.push(T)}if(this.scanner.source[this.scanner.index]==="{"){var k=this.parseJSXExpressionContainer();h.push(k)}else break}return h},d.prototype.parseComplexJSXElement=function(h){for(var m=[];!this.scanner.eof();){h.children=h.children.concat(this.parseJSXChildren());var C=this.createJSXChildNode(),D=this.parseJSXBoundaryElement();if(D.type===o.JSXSyntax.JSXOpeningElement){var T=D;if(T.selfClosing){var k=this.finalize(C,new s.JSXElement(T,[],null));h.children.push(k)}else m.push(h),h={node:C,opening:T,closing:null,children:[]}}if(D.type===o.JSXSyntax.JSXClosingElement){h.closing=D;var I=g(h.opening.name),B=g(h.closing.name);if(I!==B&&this.tolerateError("Expected corresponding JSX closing tag for %0",I),m.length>0){var k=this.finalize(h.node,new s.JSXElement(h.opening,h.children,h.closing));h=m[m.length-1],h.children.push(k),m.pop()}else break}}return h},d.prototype.parseJSXElement=function(){var h=this.createJSXNode(),m=this.parseJSXOpeningElement(),C=[],D=null;if(!m.selfClosing){var T=this.parseComplexJSXElement({node:h,opening:m,closing:D,children:C});C=T.children,D=T.closing}return this.finalize(h,new s.JSXElement(m,C,D))},d.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var h=this.parseJSXElement();return this.finishJSX(),h},d.prototype.isStartOfExpression=function(){return l.prototype.isStartOfExpression.call(this)||this.match("<")},d})(c.Parser);e.JSXParser=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};e.Character={fromCodePoint:function(r){return r<65536?String.fromCharCode(r):String.fromCharCode(55296+(r-65536>>10))+String.fromCharCode(56320+(r-65536&1023))},isWhiteSpace:function(r){return r===32||r===9||r===11||r===12||r===160||r>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(r)>=0},isLineTerminator:function(r){return r===10||r===13||r===8232||r===8233},isIdentifierStart:function(r){return r===36||r===95||r>=65&&r<=90||r>=97&&r<=122||r===92||r>=128&&n.NonAsciiIdentifierStart.test(e.Character.fromCodePoint(r))},isIdentifierPart:function(r){return r===36||r===95||r>=65&&r<=90||r>=97&&r<=122||r>=48&&r<=57||r===92||r>=128&&n.NonAsciiIdentifierPart.test(e.Character.fromCodePoint(r))},isDecimalDigit:function(r){return r>=48&&r<=57},isHexDigit:function(r){return r>=48&&r<=57||r>=65&&r<=70||r>=97&&r<=102},isOctalDigit:function(r){return r>=48&&r<=55}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=(function(){function h(m){this.type=r.JSXSyntax.JSXClosingElement,this.name=m}return h})();e.JSXClosingElement=i;var s=(function(){function h(m,C,D){this.type=r.JSXSyntax.JSXElement,this.openingElement=m,this.children=C,this.closingElement=D}return h})();e.JSXElement=s;var o=(function(){function h(){this.type=r.JSXSyntax.JSXEmptyExpression}return h})();e.JSXEmptyExpression=o;var a=(function(){function h(m){this.type=r.JSXSyntax.JSXExpressionContainer,this.expression=m}return h})();e.JSXExpressionContainer=a;var c=(function(){function h(m){this.type=r.JSXSyntax.JSXIdentifier,this.name=m}return h})();e.JSXIdentifier=c;var u=(function(){function h(m,C){this.type=r.JSXSyntax.JSXMemberExpression,this.object=m,this.property=C}return h})();e.JSXMemberExpression=u;var f=(function(){function h(m,C){this.type=r.JSXSyntax.JSXAttribute,this.name=m,this.value=C}return h})();e.JSXAttribute=f;var g=(function(){function h(m,C){this.type=r.JSXSyntax.JSXNamespacedName,this.namespace=m,this.name=C}return h})();e.JSXNamespacedName=g;var p=(function(){function h(m,C,D){this.type=r.JSXSyntax.JSXOpeningElement,this.name=m,this.selfClosing=C,this.attributes=D}return h})();e.JSXOpeningElement=p;var l=(function(){function h(m){this.type=r.JSXSyntax.JSXSpreadAttribute,this.argument=m}return h})();e.JSXSpreadAttribute=l;var d=(function(){function h(m,C){this.type=r.JSXSyntax.JSXText,this.value=m,this.raw=C}return h})();e.JSXText=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=(function(){function O(M){this.type=r.Syntax.ArrayExpression,this.elements=M}return O})();e.ArrayExpression=i;var s=(function(){function O(M){this.type=r.Syntax.ArrayPattern,this.elements=M}return O})();e.ArrayPattern=s;var o=(function(){function O(M,Y,Ee){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=M,this.body=Y,this.generator=!1,this.expression=Ee,this.async=!1}return O})();e.ArrowFunctionExpression=o;var a=(function(){function O(M,Y,Ee){this.type=r.Syntax.AssignmentExpression,this.operator=M,this.left=Y,this.right=Ee}return O})();e.AssignmentExpression=a;var c=(function(){function O(M,Y){this.type=r.Syntax.AssignmentPattern,this.left=M,this.right=Y}return O})();e.AssignmentPattern=c;var u=(function(){function O(M,Y,Ee){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=M,this.body=Y,this.generator=!1,this.expression=Ee,this.async=!0}return O})();e.AsyncArrowFunctionExpression=u;var f=(function(){function O(M,Y,Ee){this.type=r.Syntax.FunctionDeclaration,this.id=M,this.params=Y,this.body=Ee,this.generator=!1,this.expression=!1,this.async=!0}return O})();e.AsyncFunctionDeclaration=f;var g=(function(){function O(M,Y,Ee){this.type=r.Syntax.FunctionExpression,this.id=M,this.params=Y,this.body=Ee,this.generator=!1,this.expression=!1,this.async=!0}return O})();e.AsyncFunctionExpression=g;var p=(function(){function O(M){this.type=r.Syntax.AwaitExpression,this.argument=M}return O})();e.AwaitExpression=p;var l=(function(){function O(M,Y,Ee){var Bt=M==="||"||M==="&&";this.type=Bt?r.Syntax.LogicalExpression:r.Syntax.BinaryExpression,this.operator=M,this.left=Y,this.right=Ee}return O})();e.BinaryExpression=l;var d=(function(){function O(M){this.type=r.Syntax.BlockStatement,this.body=M}return O})();e.BlockStatement=d;var h=(function(){function O(M){this.type=r.Syntax.BreakStatement,this.label=M}return O})();e.BreakStatement=h;var m=(function(){function O(M,Y){this.type=r.Syntax.CallExpression,this.callee=M,this.arguments=Y}return O})();e.CallExpression=m;var C=(function(){function O(M,Y){this.type=r.Syntax.CatchClause,this.param=M,this.body=Y}return O})();e.CatchClause=C;var D=(function(){function O(M){this.type=r.Syntax.ClassBody,this.body=M}return O})();e.ClassBody=D;var T=(function(){function O(M,Y,Ee){this.type=r.Syntax.ClassDeclaration,this.id=M,this.superClass=Y,this.body=Ee}return O})();e.ClassDeclaration=T;var k=(function(){function O(M,Y,Ee){this.type=r.Syntax.ClassExpression,this.id=M,this.superClass=Y,this.body=Ee}return O})();e.ClassExpression=k;var I=(function(){function O(M,Y){this.type=r.Syntax.MemberExpression,this.computed=!0,this.object=M,this.property=Y}return O})();e.ComputedMemberExpression=I;var B=(function(){function O(M,Y,Ee){this.type=r.Syntax.ConditionalExpression,this.test=M,this.consequent=Y,this.alternate=Ee}return O})();e.ConditionalExpression=B;var W=(function(){function O(M){this.type=r.Syntax.ContinueStatement,this.label=M}return O})();e.ContinueStatement=W;var j=(function(){function O(){this.type=r.Syntax.DebuggerStatement}return O})();e.DebuggerStatement=j;var re=(function(){function O(M,Y){this.type=r.Syntax.ExpressionStatement,this.expression=M,this.directive=Y}return O})();e.Directive=re;var ne=(function(){function O(M,Y){this.type=r.Syntax.DoWhileStatement,this.body=M,this.test=Y}return O})();e.DoWhileStatement=ne;var V=(function(){function O(){this.type=r.Syntax.EmptyStatement}return O})();e.EmptyStatement=V;var N=(function(){function O(M){this.type=r.Syntax.ExportAllDeclaration,this.source=M}return O})();e.ExportAllDeclaration=N;var $=(function(){function O(M){this.type=r.Syntax.ExportDefaultDeclaration,this.declaration=M}return O})();e.ExportDefaultDeclaration=$;var te=(function(){function O(M,Y,Ee){this.type=r.Syntax.ExportNamedDeclaration,this.declaration=M,this.specifiers=Y,this.source=Ee}return O})();e.ExportNamedDeclaration=te;var K=(function(){function O(M,Y){this.type=r.Syntax.ExportSpecifier,this.exported=Y,this.local=M}return O})();e.ExportSpecifier=K;var G=(function(){function O(M){this.type=r.Syntax.ExpressionStatement,this.expression=M}return O})();e.ExpressionStatement=G;var Q=(function(){function O(M,Y,Ee){this.type=r.Syntax.ForInStatement,this.left=M,this.right=Y,this.body=Ee,this.each=!1}return O})();e.ForInStatement=Q;var ae=(function(){function O(M,Y,Ee){this.type=r.Syntax.ForOfStatement,this.left=M,this.right=Y,this.body=Ee}return O})();e.ForOfStatement=ae;var se=(function(){function O(M,Y,Ee,Bt){this.type=r.Syntax.ForStatement,this.init=M,this.test=Y,this.update=Ee,this.body=Bt}return O})();e.ForStatement=se;var ie=(function(){function O(M,Y,Ee,Bt){this.type=r.Syntax.FunctionDeclaration,this.id=M,this.params=Y,this.body=Ee,this.generator=Bt,this.expression=!1,this.async=!1}return O})();e.FunctionDeclaration=ie;var ye=(function(){function O(M,Y,Ee,Bt){this.type=r.Syntax.FunctionExpression,this.id=M,this.params=Y,this.body=Ee,this.generator=Bt,this.expression=!1,this.async=!1}return O})();e.FunctionExpression=ye;var ve=(function(){function O(M){this.type=r.Syntax.Identifier,this.name=M}return O})();e.Identifier=ve;var $e=(function(){function O(M,Y,Ee){this.type=r.Syntax.IfStatement,this.test=M,this.consequent=Y,this.alternate=Ee}return O})();e.IfStatement=$e;var ke=(function(){function O(M,Y){this.type=r.Syntax.ImportDeclaration,this.specifiers=M,this.source=Y}return O})();e.ImportDeclaration=ke;var ht=(function(){function O(M){this.type=r.Syntax.ImportDefaultSpecifier,this.local=M}return O})();e.ImportDefaultSpecifier=ht;var Tt=(function(){function O(M){this.type=r.Syntax.ImportNamespaceSpecifier,this.local=M}return O})();e.ImportNamespaceSpecifier=Tt;var zn=(function(){function O(M,Y){this.type=r.Syntax.ImportSpecifier,this.local=M,this.imported=Y}return O})();e.ImportSpecifier=zn;var Ln=(function(){function O(M,Y){this.type=r.Syntax.LabeledStatement,this.label=M,this.body=Y}return O})();e.LabeledStatement=Ln;var Mn=(function(){function O(M,Y){this.type=r.Syntax.Literal,this.value=M,this.raw=Y}return O})();e.Literal=Mn;var Un=(function(){function O(M,Y){this.type=r.Syntax.MetaProperty,this.meta=M,this.property=Y}return O})();e.MetaProperty=Un;var Gn=(function(){function O(M,Y,Ee,Bt,b){this.type=r.Syntax.MethodDefinition,this.key=M,this.computed=Y,this.value=Ee,this.kind=Bt,this.static=b}return O})();e.MethodDefinition=Gn;var nt=(function(){function O(M){this.type=r.Syntax.Program,this.body=M,this.sourceType="module"}return O})();e.Module=nt;var dr=(function(){function O(M,Y){this.type=r.Syntax.NewExpression,this.callee=M,this.arguments=Y}return O})();e.NewExpression=dr;var qn=(function(){function O(M){this.type=r.Syntax.ObjectExpression,this.properties=M}return O})();e.ObjectExpression=qn;var nn=(function(){function O(M){this.type=r.Syntax.ObjectPattern,this.properties=M}return O})();e.ObjectPattern=nn;var Fr=(function(){function O(M,Y,Ee,Bt,b,H){this.type=r.Syntax.Property,this.key=Y,this.computed=Ee,this.value=Bt,this.kind=M,this.method=b,this.shorthand=H}return O})();e.Property=Fr;var an=(function(){function O(M,Y,Ee,Bt){this.type=r.Syntax.Literal,this.value=M,this.raw=Y,this.regex={pattern:Ee,flags:Bt}}return O})();e.RegexLiteral=an;var Jn=(function(){function O(M){this.type=r.Syntax.RestElement,this.argument=M}return O})();e.RestElement=Jn;var dt=(function(){function O(M){this.type=r.Syntax.ReturnStatement,this.argument=M}return O})();e.ReturnStatement=dt;var xt=(function(){function O(M){this.type=r.Syntax.Program,this.body=M,this.sourceType="script"}return O})();e.Script=xt;var Vt=(function(){function O(M){this.type=r.Syntax.SequenceExpression,this.expressions=M}return O})();e.SequenceExpression=Vt;var gn=(function(){function O(M){this.type=r.Syntax.SpreadElement,this.argument=M}return O})();e.SpreadElement=gn;var jt=(function(){function O(M,Y){this.type=r.Syntax.MemberExpression,this.computed=!1,this.object=M,this.property=Y}return O})();e.StaticMemberExpression=jt;var jn=(function(){function O(){this.type=r.Syntax.Super}return O})();e.Super=jn;var Xn=(function(){function O(M,Y){this.type=r.Syntax.SwitchCase,this.test=M,this.consequent=Y}return O})();e.SwitchCase=Xn;var mn=(function(){function O(M,Y){this.type=r.Syntax.SwitchStatement,this.discriminant=M,this.cases=Y}return O})();e.SwitchStatement=mn;var Yn=(function(){function O(M,Y){this.type=r.Syntax.TaggedTemplateExpression,this.tag=M,this.quasi=Y}return O})();e.TaggedTemplateExpression=Yn;var Et=(function(){function O(M,Y){this.type=r.Syntax.TemplateElement,this.value=M,this.tail=Y}return O})();e.TemplateElement=Et;var v=(function(){function O(M,Y){this.type=r.Syntax.TemplateLiteral,this.quasis=M,this.expressions=Y}return O})();e.TemplateLiteral=v;var F=(function(){function O(){this.type=r.Syntax.ThisExpression}return O})();e.ThisExpression=F;var U=(function(){function O(M){this.type=r.Syntax.ThrowStatement,this.argument=M}return O})();e.ThrowStatement=U;var z=(function(){function O(M,Y,Ee){this.type=r.Syntax.TryStatement,this.block=M,this.handler=Y,this.finalizer=Ee}return O})();e.TryStatement=z;var Ce=(function(){function O(M,Y){this.type=r.Syntax.UnaryExpression,this.operator=M,this.argument=Y,this.prefix=!0}return O})();e.UnaryExpression=Ce;var ge=(function(){function O(M,Y,Ee){this.type=r.Syntax.UpdateExpression,this.operator=M,this.argument=Y,this.prefix=Ee}return O})();e.UpdateExpression=ge;var Te=(function(){function O(M,Y){this.type=r.Syntax.VariableDeclaration,this.declarations=M,this.kind=Y}return O})();e.VariableDeclaration=Te;var xe=(function(){function O(M,Y){this.type=r.Syntax.VariableDeclarator,this.id=M,this.init=Y}return O})();e.VariableDeclarator=xe;var ue=(function(){function O(M,Y){this.type=r.Syntax.WhileStatement,this.test=M,this.body=Y}return O})();e.WhileStatement=ue;var Se=(function(){function O(M,Y){this.type=r.Syntax.WithStatement,this.object=M,this.body=Y}return O})();e.WithStatement=Se;var de=(function(){function O(M,Y){this.type=r.Syntax.YieldExpression,this.argument=M,this.delegate=Y}return O})();e.YieldExpression=de},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=n(10),s=n(11),o=n(7),a=n(12),c=n(2),u=n(13),f="ArrowParameterPlaceHolder",g=(function(){function p(l,d,h){d===void 0&&(d={}),this.config={range:typeof d.range=="boolean"&&d.range,loc:typeof d.loc=="boolean"&&d.loc,source:null,tokens:typeof d.tokens=="boolean"&&d.tokens,comment:typeof d.comment=="boolean"&&d.comment,tolerant:typeof d.tolerant=="boolean"&&d.tolerant},this.config.loc&&d.source&&d.source!==null&&(this.config.source=String(d.source)),this.delegate=h,this.errorHandler=new i.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new a.Scanner(l,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return p.prototype.throwError=function(l){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var m=Array.prototype.slice.call(arguments,1),C=l.replace(/%(\d)/g,function(I,B){return r.assert(B<m.length,"Message reference must be in range"),m[B]}),D=this.lastMarker.index,T=this.lastMarker.line,k=this.lastMarker.column+1;throw this.errorHandler.createError(D,T,k,C)},p.prototype.tolerateError=function(l){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];var m=Array.prototype.slice.call(arguments,1),C=l.replace(/%(\d)/g,function(I,B){return r.assert(B<m.length,"Message reference must be in range"),m[B]}),D=this.lastMarker.index,T=this.scanner.lineNumber,k=this.lastMarker.column+1;this.errorHandler.tolerateError(D,T,k,C)},p.prototype.unexpectedTokenError=function(l,d){var h=d||s.Messages.UnexpectedToken,m;if(l?(d||(h=l.type===2?s.Messages.UnexpectedEOS:l.type===3?s.Messages.UnexpectedIdentifier:l.type===6?s.Messages.UnexpectedNumber:l.type===8?s.Messages.UnexpectedString:l.type===10?s.Messages.UnexpectedTemplate:s.Messages.UnexpectedToken,l.type===4&&(this.scanner.isFutureReservedWord(l.value)?h=s.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(l.value)&&(h=s.Messages.StrictReservedWord))),m=l.value):m="ILLEGAL",h=h.replace("%0",m),l&&typeof l.lineNumber=="number"){var C=l.start,D=l.lineNumber,T=this.lastMarker.index-this.lastMarker.column,k=l.start-T+1;return this.errorHandler.createError(C,D,k,h)}else{var C=this.lastMarker.index,D=this.lastMarker.line,k=this.lastMarker.column+1;return this.errorHandler.createError(C,D,k,h)}},p.prototype.throwUnexpectedToken=function(l,d){throw this.unexpectedTokenError(l,d)},p.prototype.tolerateUnexpectedToken=function(l,d){this.errorHandler.tolerate(this.unexpectedTokenError(l,d))},p.prototype.collectComments=function(){if(!this.config.comment)this.scanner.scanComments();else{var l=this.scanner.scanComments();if(l.length>0&&this.delegate)for(var d=0;d<l.length;++d){var h=l[d],m=void 0;m={type:h.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(h.slice[0],h.slice[1])},this.config.range&&(m.range=h.range),this.config.loc&&(m.loc=h.loc);var C={start:{line:h.loc.start.line,column:h.loc.start.column,offset:h.range[0]},end:{line:h.loc.end.line,column:h.loc.end.column,offset:h.range[1]}};this.delegate(m,C)}}},p.prototype.getTokenRaw=function(l){return this.scanner.source.slice(l.start,l.end)},p.prototype.convertToken=function(l){var d={type:u.TokenName[l.type],value:this.getTokenRaw(l)};if(this.config.range&&(d.range=[l.start,l.end]),this.config.loc&&(d.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),l.type===9){var h=l.pattern,m=l.flags;d.regex={pattern:h,flags:m}}return d},p.prototype.nextToken=function(){var l=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var d=this.scanner.lex();return this.hasLineTerminator=l.lineNumber!==d.lineNumber,d&&this.context.strict&&d.type===3&&this.scanner.isStrictModeReservedWord(d.value)&&(d.type=4),this.lookahead=d,this.config.tokens&&d.type!==2&&this.tokens.push(this.convertToken(d)),l},p.prototype.nextRegexToken=function(){this.collectComments();var l=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(l))),this.lookahead=l,this.nextToken(),l},p.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},p.prototype.startNode=function(l,d){d===void 0&&(d=0);var h=l.start-l.lineStart,m=l.lineNumber;return h<0&&(h+=d,m--),{index:l.start,line:m,column:h}},p.prototype.finalize=function(l,d){if(this.config.range&&(d.range=[l.index,this.lastMarker.index]),this.config.loc&&(d.loc={start:{line:l.line,column:l.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(d.loc.source=this.config.source)),this.delegate){var h={start:{line:l.line,column:l.column,offset:l.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(d,h)}return d},p.prototype.expect=function(l){var d=this.nextToken();(d.type!==7||d.value!==l)&&this.throwUnexpectedToken(d)},p.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var l=this.lookahead;l.type===7&&l.value===","?this.nextToken():l.type===7&&l.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(l)):this.tolerateUnexpectedToken(l,s.Messages.UnexpectedToken)}else this.expect(",")},p.prototype.expectKeyword=function(l){var d=this.nextToken();(d.type!==4||d.value!==l)&&this.throwUnexpectedToken(d)},p.prototype.match=function(l){return this.lookahead.type===7&&this.lookahead.value===l},p.prototype.matchKeyword=function(l){return this.lookahead.type===4&&this.lookahead.value===l},p.prototype.matchContextualKeyword=function(l){return this.lookahead.type===3&&this.lookahead.value===l},p.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var l=this.lookahead.value;return l==="="||l==="*="||l==="**="||l==="/="||l==="%="||l==="+="||l==="-="||l==="<<="||l===">>="||l===">>>="||l==="&="||l==="^="||l==="|="},p.prototype.isolateCoverGrammar=function(l){var d=this.context.isBindingElement,h=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=l.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=d,this.context.isAssignmentTarget=h,this.context.firstCoverInitializedNameError=m,C},p.prototype.inheritCoverGrammar=function(l){var d=this.context.isBindingElement,h=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var C=l.call(this);return this.context.isBindingElement=this.context.isBindingElement&&d,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&h,this.context.firstCoverInitializedNameError=m||this.context.firstCoverInitializedNameError,C},p.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type!==2&&!this.match("}")&&this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},p.prototype.parsePrimaryExpression=function(){var l=this.createNode(),d,h,m;switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),d=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(l,new o.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),m=this.getTokenRaw(h),d=this.finalize(l,new o.Literal(h.value,m));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),m=this.getTokenRaw(h),d=this.finalize(l,new o.Literal(h.value==="true",m));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken(),m=this.getTokenRaw(h),d=this.finalize(l,new o.Literal(null,m));break;case 10:d=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,d=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":d=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":d=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,h=this.nextRegexToken(),m=this.getTokenRaw(h),d=this.finalize(l,new o.RegexLiteral(h.regex,m,h.pattern,h.flags));break;default:d=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?d=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?d=this.finalize(l,new o.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?d=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),d=this.finalize(l,new o.ThisExpression)):this.matchKeyword("class")?d=this.parseClassExpression():d=this.throwUnexpectedToken(this.nextToken()));break;default:d=this.throwUnexpectedToken(this.nextToken())}return d},p.prototype.parseSpreadElement=function(){var l=this.createNode();this.expect("...");var d=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(l,new o.SpreadElement(d))},p.prototype.parseArrayInitializer=function(){var l=this.createNode(),d=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),d.push(null);else if(this.match("...")){var h=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),d.push(h)}else d.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(l,new o.ArrayExpression(d))},p.prototype.parsePropertyMethod=function(l){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var d=this.context.strict,h=this.context.allowStrictDirective;this.context.allowStrictDirective=l.simple;var m=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&l.firstRestricted&&this.tolerateUnexpectedToken(l.firstRestricted,l.message),this.context.strict&&l.stricted&&this.tolerateUnexpectedToken(l.stricted,l.message),this.context.strict=d,this.context.allowStrictDirective=h,m},p.prototype.parsePropertyMethodFunction=function(){var l=!1,d=this.createNode(),h=this.context.allowYield;this.context.allowYield=!0;var m=this.parseFormalParameters(),C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(d,new o.FunctionExpression(null,m.params,C,l))},p.prototype.parsePropertyMethodAsyncFunction=function(){var l=this.createNode(),d=this.context.allowYield,h=this.context.await;this.context.allowYield=!1,this.context.await=!0;var m=this.parseFormalParameters(),C=this.parsePropertyMethod(m);return this.context.allowYield=d,this.context.await=h,this.finalize(l,new o.AsyncFunctionExpression(null,m.params,C))},p.prototype.parseObjectPropertyKey=function(){var l=this.createNode(),d=this.nextToken(),h;switch(d.type){case 8:case 6:this.context.strict&&d.octal&&this.tolerateUnexpectedToken(d,s.Messages.StrictOctalLiteral);var m=this.getTokenRaw(d);h=this.finalize(l,new o.Literal(d.value,m));break;case 3:case 1:case 5:case 4:h=this.finalize(l,new o.Identifier(d.value));break;case 7:d.value==="["?(h=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):h=this.throwUnexpectedToken(d);break;default:h=this.throwUnexpectedToken(d)}return h},p.prototype.isPropertyKey=function(l,d){return l.type===c.Syntax.Identifier&&l.name===d||l.type===c.Syntax.Literal&&l.value===d},p.prototype.parseObjectProperty=function(l){var d=this.createNode(),h=this.lookahead,m,C=null,D=null,T=!1,k=!1,I=!1,B=!1;if(h.type===3){var W=h.value;this.nextToken(),T=this.match("["),B=!this.hasLineTerminator&&W==="async"&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","),C=B?this.parseObjectPropertyKey():this.finalize(d,new o.Identifier(W))}else this.match("*")?this.nextToken():(T=this.match("["),C=this.parseObjectPropertyKey());var j=this.qualifiedPropertyName(this.lookahead);if(h.type===3&&!B&&h.value==="get"&&j)m="get",T=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,D=this.parseGetterMethod();else if(h.type===3&&!B&&h.value==="set"&&j)m="set",T=this.match("["),C=this.parseObjectPropertyKey(),D=this.parseSetterMethod();else if(h.type===7&&h.value==="*"&&j)m="init",T=this.match("["),C=this.parseObjectPropertyKey(),D=this.parseGeneratorMethod(),k=!0;else if(C||this.throwUnexpectedToken(this.lookahead),m="init",this.match(":")&&!B)!T&&this.isPropertyKey(C,"__proto__")&&(l.value&&this.tolerateError(s.Messages.DuplicateProtoProperty),l.value=!0),this.nextToken(),D=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))D=B?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),k=!0;else if(h.type===3){var W=this.finalize(d,new o.Identifier(h.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),I=!0;var re=this.isolateCoverGrammar(this.parseAssignmentExpression);D=this.finalize(d,new o.AssignmentPattern(W,re))}else I=!0,D=W}else this.throwUnexpectedToken(this.nextToken());return this.finalize(d,new o.Property(m,C,T,D,k,I))},p.prototype.parseObjectInitializer=function(){var l=this.createNode();this.expect("{");for(var d=[],h={value:!1};!this.match("}");)d.push(this.parseObjectProperty(h)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(l,new o.ObjectExpression(d))},p.prototype.parseTemplateHead=function(){r.assert(this.lookahead.head,"Template literal must start with a template head");var l=this.createNode(),d=this.nextToken(),h=d.value,m=d.cooked;return this.finalize(l,new o.TemplateElement({raw:h,cooked:m},d.tail))},p.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var l=this.createNode(),d=this.nextToken(),h=d.value,m=d.cooked;return this.finalize(l,new o.TemplateElement({raw:h,cooked:m},d.tail))},p.prototype.parseTemplateLiteral=function(){var l=this.createNode(),d=[],h=[],m=this.parseTemplateHead();for(h.push(m);!m.tail;)d.push(this.parseExpression()),m=this.parseTemplateElement(),h.push(m);return this.finalize(l,new o.TemplateLiteral(h,d))},p.prototype.reinterpretExpressionAsPattern=function(l){switch(l.type){case c.Syntax.Identifier:case c.Syntax.MemberExpression:case c.Syntax.RestElement:case c.Syntax.AssignmentPattern:break;case c.Syntax.SpreadElement:l.type=c.Syntax.RestElement,this.reinterpretExpressionAsPattern(l.argument);break;case c.Syntax.ArrayExpression:l.type=c.Syntax.ArrayPattern;for(var d=0;d<l.elements.length;d++)l.elements[d]!==null&&this.reinterpretExpressionAsPattern(l.elements[d]);break;case c.Syntax.ObjectExpression:l.type=c.Syntax.ObjectPattern;for(var d=0;d<l.properties.length;d++)this.reinterpretExpressionAsPattern(l.properties[d].value);break;case c.Syntax.AssignmentExpression:l.type=c.Syntax.AssignmentPattern,delete l.operator,this.reinterpretExpressionAsPattern(l.left);break;default:break}},p.prototype.parseGroupExpression=function(){var l;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),l={type:f,params:[],async:!1};else{var d=this.lookahead,h=[];if(this.match("..."))l=this.parseRestElement(h),this.expect(")"),this.match("=>")||this.expect("=>"),l={type:f,params:[l],async:!1};else{var m=!1;if(this.context.isBindingElement=!0,l=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var C=[];for(this.context.isAssignmentTarget=!1,C.push(l);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var D=0;D<C.length;D++)this.reinterpretExpressionAsPattern(C[D]);m=!0,l={type:f,params:C,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),C.push(this.parseRestElement(h)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var D=0;D<C.length;D++)this.reinterpretExpressionAsPattern(C[D]);m=!0,l={type:f,params:C,async:!1}}else C.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(m)break}m||(l=this.finalize(this.startNode(d),new o.SequenceExpression(C)))}if(!m){if(this.expect(")"),this.match("=>")&&(l.type===c.Syntax.Identifier&&l.name==="yield"&&(m=!0,l={type:f,params:[l],async:!1}),!m)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),l.type===c.Syntax.SequenceExpression)for(var D=0;D<l.expressions.length;D++)this.reinterpretExpressionAsPattern(l.expressions[D]);else this.reinterpretExpressionAsPattern(l);var T=l.type===c.Syntax.SequenceExpression?l.expressions:[l];l={type:f,params:T,async:!1}}this.context.isBindingElement=!1}}}return l},p.prototype.parseArguments=function(){this.expect("(");var l=[];if(!this.match(")"))for(;;){var d=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(l.push(d),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),l},p.prototype.isIdentifierName=function(l){return l.type===3||l.type===4||l.type===1||l.type===5},p.prototype.parseIdentifierName=function(){var l=this.createNode(),d=this.nextToken();return this.isIdentifierName(d)||this.throwUnexpectedToken(d),this.finalize(l,new o.Identifier(d.value))},p.prototype.parseNewExpression=function(){var l=this.createNode(),d=this.parseIdentifierName();r.assert(d.name==="new","New expression must start with `new`");var h;if(this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var m=this.parseIdentifierName();h=new o.MetaProperty(d,m)}else this.throwUnexpectedToken(this.lookahead);else{var C=this.isolateCoverGrammar(this.parseLeftHandSideExpression),D=this.match("(")?this.parseArguments():[];h=new o.NewExpression(C,D),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(l,h)},p.prototype.parseAsyncArgument=function(){var l=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,l},p.prototype.parseAsyncArguments=function(){this.expect("(");var l=[];if(!this.match(")"))for(;;){var d=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(l.push(d),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),l},p.prototype.parseLeftHandSideExpressionAllowCall=function(){var l=this.lookahead,d=this.matchContextualKeyword("async"),h=this.context.allowIn;this.context.allowIn=!0;var m;for(this.matchKeyword("super")&&this.context.inFunctionBody?(m=this.createNode(),this.nextToken(),m=this.finalize(m,new o.Super),!this.match("(")&&!this.match(".")&&!this.match("[")&&this.throwUnexpectedToken(this.lookahead)):m=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var C=this.parseIdentifierName();m=this.finalize(this.startNode(l),new o.StaticMemberExpression(m,C))}else if(this.match("(")){var D=d&&l.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var T=D?this.parseAsyncArguments():this.parseArguments();if(m=this.finalize(this.startNode(l),new o.CallExpression(m,T)),D&&this.match("=>")){for(var k=0;k<T.length;++k)this.reinterpretExpressionAsPattern(T[k]);m={type:f,params:T,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var C=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),m=this.finalize(this.startNode(l),new o.ComputedMemberExpression(m,C))}else if(this.lookahead.type===10&&this.lookahead.head){var I=this.parseTemplateLiteral();m=this.finalize(this.startNode(l),new o.TaggedTemplateExpression(m,I))}else break;return this.context.allowIn=h,m},p.prototype.parseSuper=function(){var l=this.createNode();return this.expectKeyword("super"),!this.match("[")&&!this.match(".")&&this.throwUnexpectedToken(this.lookahead),this.finalize(l,new o.Super)},p.prototype.parseLeftHandSideExpression=function(){r.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var l=this.startNode(this.lookahead),d=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var h=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),d=this.finalize(l,new o.ComputedMemberExpression(d,h))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var h=this.parseIdentifierName();d=this.finalize(l,new o.StaticMemberExpression(d,h))}else if(this.lookahead.type===10&&this.lookahead.head){var m=this.parseTemplateLiteral();d=this.finalize(l,new o.TaggedTemplateExpression(d,m))}else break;return d},p.prototype.parseUpdateExpression=function(){var l,d=this.lookahead;if(this.match("++")||this.match("--")){var h=this.startNode(d),m=this.nextToken();l=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&l.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(l.name)&&this.tolerateError(s.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment);var C=!0;l=this.finalize(h,new o.UpdateExpression(m.value,l,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(l=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&l.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(l.name)&&this.tolerateError(s.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var D=this.nextToken().value,C=!1;l=this.finalize(this.startNode(d),new o.UpdateExpression(D,l,C))}return l},p.prototype.parseAwaitExpression=function(){var l=this.createNode();this.nextToken();var d=this.parseUnaryExpression();return this.finalize(l,new o.AwaitExpression(d))},p.prototype.parseUnaryExpression=function(){var l;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var d=this.startNode(this.lookahead),h=this.nextToken();l=this.inheritCoverGrammar(this.parseUnaryExpression),l=this.finalize(d,new o.UnaryExpression(h.value,l)),this.context.strict&&l.operator==="delete"&&l.argument.type===c.Syntax.Identifier&&this.tolerateError(s.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else this.context.await&&this.matchContextualKeyword("await")?l=this.parseAwaitExpression():l=this.parseUpdateExpression();return l},p.prototype.parseExponentiationExpression=function(){var l=this.lookahead,d=this.inheritCoverGrammar(this.parseUnaryExpression);if(d.type!==c.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var h=d,m=this.isolateCoverGrammar(this.parseExponentiationExpression);d=this.finalize(this.startNode(l),new o.BinaryExpression("**",h,m))}return d},p.prototype.binaryPrecedence=function(l){var d=l.value,h;return l.type===7?h=this.operatorPrecedence[d]||0:l.type===4?h=d==="instanceof"||this.context.allowIn&&d==="in"?7:0:h=0,h},p.prototype.parseBinaryExpression=function(){var l=this.lookahead,d=this.inheritCoverGrammar(this.parseExponentiationExpression),h=this.lookahead,m=this.binaryPrecedence(h);if(m>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var C=[l,this.lookahead],D=d,T=this.isolateCoverGrammar(this.parseExponentiationExpression),k=[D,h.value,T],I=[m];m=this.binaryPrecedence(this.lookahead),!(m<=0);){for(;k.length>2&&m<=I[I.length-1];){T=k.pop();var B=k.pop();I.pop(),D=k.pop(),C.pop();var W=this.startNode(C[C.length-1]);k.push(this.finalize(W,new o.BinaryExpression(B,D,T)))}k.push(this.nextToken().value),I.push(m),C.push(this.lookahead),k.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var j=k.length-1;d=k[j];for(var re=C.pop();j>1;){var ne=C.pop(),V=re&&re.lineStart,W=this.startNode(ne,V),B=k[j-1];d=this.finalize(W,new o.BinaryExpression(B,k[j-2],d)),j-=2,re=ne}}return d},p.prototype.parseConditionalExpression=function(){var l=this.lookahead,d=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var h=this.context.allowIn;this.context.allowIn=!0;var m=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=h,this.expect(":");var C=this.isolateCoverGrammar(this.parseAssignmentExpression);d=this.finalize(this.startNode(l),new o.ConditionalExpression(d,m,C)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return d},p.prototype.checkPatternParam=function(l,d){switch(d.type){case c.Syntax.Identifier:this.validateParam(l,d,d.name);break;case c.Syntax.RestElement:this.checkPatternParam(l,d.argument);break;case c.Syntax.AssignmentPattern:this.checkPatternParam(l,d.left);break;case c.Syntax.ArrayPattern:for(var h=0;h<d.elements.length;h++)d.elements[h]!==null&&this.checkPatternParam(l,d.elements[h]);break;case c.Syntax.ObjectPattern:for(var h=0;h<d.properties.length;h++)this.checkPatternParam(l,d.properties[h].value);break;default:break}l.simple=l.simple&&d instanceof o.Identifier},p.prototype.reinterpretAsCoverFormalsList=function(l){var d=[l],h,m=!1;switch(l.type){case c.Syntax.Identifier:break;case f:d=l.params,m=l.async;break;default:return null}h={simple:!0,paramSet:{}};for(var C=0;C<d.length;++C){var D=d[C];D.type===c.Syntax.AssignmentPattern?D.right.type===c.Syntax.YieldExpression&&(D.right.argument&&this.throwUnexpectedToken(this.lookahead),D.right.type=c.Syntax.Identifier,D.right.name="yield",delete D.right.argument,delete D.right.delegate):m&&D.type===c.Syntax.Identifier&&D.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(h,D),d[C]=D}if(this.context.strict||!this.context.allowYield)for(var C=0;C<d.length;++C){var D=d[C];D.type===c.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(h.message===s.Messages.StrictParamDupe){var T=this.context.strict?h.stricted:h.firstRestricted;this.throwUnexpectedToken(T,h.message)}return{simple:h.simple,params:d,stricted:h.stricted,firstRestricted:h.firstRestricted,message:h.message}},p.prototype.parseAssignmentExpression=function(){var l;if(!this.context.allowYield&&this.matchKeyword("yield"))l=this.parseYieldExpression();else{var d=this.lookahead,h=d;if(l=this.parseConditionalExpression(),h.type===3&&h.lineNumber===this.lookahead.lineNumber&&h.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var m=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(m),l={type:f,params:[m],async:!0}}if(l.type===f||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var C=l.async,D=this.reinterpretAsCoverFormalsList(l);if(D){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var T=this.context.strict,k=this.context.allowStrictDirective;this.context.allowStrictDirective=D.simple;var I=this.context.allowYield,B=this.context.await;this.context.allowYield=!0,this.context.await=C;var W=this.startNode(d);this.expect("=>");var j=void 0;if(this.match("{")){var re=this.context.allowIn;this.context.allowIn=!0,j=this.parseFunctionSourceElements(),this.context.allowIn=re}else j=this.isolateCoverGrammar(this.parseAssignmentExpression);var ne=j.type!==c.Syntax.BlockStatement;this.context.strict&&D.firstRestricted&&this.throwUnexpectedToken(D.firstRestricted,D.message),this.context.strict&&D.stricted&&this.tolerateUnexpectedToken(D.stricted,D.message),l=C?this.finalize(W,new o.AsyncArrowFunctionExpression(D.params,j,ne)):this.finalize(W,new o.ArrowFunctionExpression(D.params,j,ne)),this.context.strict=T,this.context.allowStrictDirective=k,this.context.allowYield=I,this.context.await=B}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.strict&&l.type===c.Syntax.Identifier){var V=l;this.scanner.isRestrictedWord(V.name)&&this.tolerateUnexpectedToken(h,s.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(V.name)&&this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(l):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),h=this.nextToken();var N=h.value,$=this.isolateCoverGrammar(this.parseAssignmentExpression);l=this.finalize(this.startNode(d),new o.AssignmentExpression(N,l,$)),this.context.firstCoverInitializedNameError=null}}return l},p.prototype.parseExpression=function(){var l=this.lookahead,d=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var h=[];for(h.push(d);this.lookahead.type!==2&&this.match(",");)this.nextToken(),h.push(this.isolateCoverGrammar(this.parseAssignmentExpression));d=this.finalize(this.startNode(l),new o.SequenceExpression(h))}return d},p.prototype.parseStatementListItem=function(){var l;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalExportDeclaration),l=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalImportDeclaration),l=this.parseImportDeclaration();break;case"const":l=this.parseLexicalDeclaration({inFor:!1});break;case"function":l=this.parseFunctionDeclaration();break;case"class":l=this.parseClassDeclaration();break;case"let":l=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:l=this.parseStatement();break}else l=this.parseStatement();return l},p.prototype.parseBlock=function(){var l=this.createNode();this.expect("{");for(var d=[];!this.match("}");)d.push(this.parseStatementListItem());return this.expect("}"),this.finalize(l,new o.BlockStatement(d))},p.prototype.parseLexicalBinding=function(l,d){var h=this.createNode(),m=[],C=this.parsePattern(m,l);this.context.strict&&C.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(C.name)&&this.tolerateError(s.Messages.StrictVarName);var D=null;return l==="const"?!this.matchKeyword("in")&&!this.matchContextualKeyword("of")&&(this.match("=")?(this.nextToken(),D=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(s.Messages.DeclarationMissingInitializer,"const")):(!d.inFor&&C.type!==c.Syntax.Identifier||this.match("="))&&(this.expect("="),D=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(h,new o.VariableDeclarator(C,D))},p.prototype.parseBindingList=function(l,d){for(var h=[this.parseLexicalBinding(l,d)];this.match(",");)this.nextToken(),h.push(this.parseLexicalBinding(l,d));return h},p.prototype.isLexicalDeclaration=function(){var l=this.scanner.saveState();this.scanner.scanComments();var d=this.scanner.lex();return this.scanner.restoreState(l),d.type===3||d.type===7&&d.value==="["||d.type===7&&d.value==="{"||d.type===4&&d.value==="let"||d.type===4&&d.value==="yield"},p.prototype.parseLexicalDeclaration=function(l){var d=this.createNode(),h=this.nextToken().value;r.assert(h==="let"||h==="const","Lexical declaration must be either let or const");var m=this.parseBindingList(h,l);return this.consumeSemicolon(),this.finalize(d,new o.VariableDeclaration(m,h))},p.prototype.parseBindingRestElement=function(l,d){var h=this.createNode();this.expect("...");var m=this.parsePattern(l,d);return this.finalize(h,new o.RestElement(m))},p.prototype.parseArrayPattern=function(l,d){var h=this.createNode();this.expect("[");for(var m=[];!this.match("]");)if(this.match(","))this.nextToken(),m.push(null);else{if(this.match("...")){m.push(this.parseBindingRestElement(l,d));break}else m.push(this.parsePatternWithDefault(l,d));this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(h,new o.ArrayPattern(m))},p.prototype.parsePropertyPattern=function(l,d){var h=this.createNode(),m=!1,C=!1,D=!1,T,k;if(this.lookahead.type===3){var I=this.lookahead;T=this.parseVariableIdentifier();var B=this.finalize(h,new o.Identifier(I.value));if(this.match("=")){l.push(I),C=!0,this.nextToken();var W=this.parseAssignmentExpression();k=this.finalize(this.startNode(I),new o.AssignmentPattern(B,W))}else this.match(":")?(this.expect(":"),k=this.parsePatternWithDefault(l,d)):(l.push(I),C=!0,k=B)}else m=this.match("["),T=this.parseObjectPropertyKey(),this.expect(":"),k=this.parsePatternWithDefault(l,d);return this.finalize(h,new o.Property("init",T,m,k,D,C))},p.prototype.parseObjectPattern=function(l,d){var h=this.createNode(),m=[];for(this.expect("{");!this.match("}");)m.push(this.parsePropertyPattern(l,d)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(h,new o.ObjectPattern(m))},p.prototype.parsePattern=function(l,d){var h;return this.match("[")?h=this.parseArrayPattern(l,d):this.match("{")?h=this.parseObjectPattern(l,d):(this.matchKeyword("let")&&(d==="const"||d==="let")&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.LetInLexicalBinding),l.push(this.lookahead),h=this.parseVariableIdentifier(d)),h},p.prototype.parsePatternWithDefault=function(l,d){var h=this.lookahead,m=this.parsePattern(l,d);if(this.match("=")){this.nextToken();var C=this.context.allowYield;this.context.allowYield=!0;var D=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=C,m=this.finalize(this.startNode(h),new o.AssignmentPattern(m,D))}return m},p.prototype.parseVariableIdentifier=function(l){var d=this.createNode(),h=this.nextToken();return h.type===4&&h.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(h):h.type!==3?this.context.strict&&h.type===4&&this.scanner.isStrictModeReservedWord(h.value)?this.tolerateUnexpectedToken(h,s.Messages.StrictReservedWord):(this.context.strict||h.value!=="let"||l!=="var")&&this.throwUnexpectedToken(h):(this.context.isModule||this.context.await)&&h.type===3&&h.value==="await"&&this.tolerateUnexpectedToken(h),this.finalize(d,new o.Identifier(h.value))},p.prototype.parseVariableDeclaration=function(l){var d=this.createNode(),h=[],m=this.parsePattern(h,"var");this.context.strict&&m.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(m.name)&&this.tolerateError(s.Messages.StrictVarName);var C=null;return this.match("=")?(this.nextToken(),C=this.isolateCoverGrammar(this.parseAssignmentExpression)):m.type!==c.Syntax.Identifier&&!l.inFor&&this.expect("="),this.finalize(d,new o.VariableDeclarator(m,C))},p.prototype.parseVariableDeclarationList=function(l){var d={inFor:l.inFor},h=[];for(h.push(this.parseVariableDeclaration(d));this.match(",");)this.nextToken(),h.push(this.parseVariableDeclaration(d));return h},p.prototype.parseVariableStatement=function(){var l=this.createNode();this.expectKeyword("var");var d=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(l,new o.VariableDeclaration(d,"var"))},p.prototype.parseEmptyStatement=function(){var l=this.createNode();return this.expect(";"),this.finalize(l,new o.EmptyStatement)},p.prototype.parseExpressionStatement=function(){var l=this.createNode(),d=this.parseExpression();return this.consumeSemicolon(),this.finalize(l,new o.ExpressionStatement(d))},p.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(s.Messages.StrictFunction),this.parseStatement()},p.prototype.parseIfStatement=function(){var l=this.createNode(),d,h=null;this.expectKeyword("if"),this.expect("(");var m=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),d=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),h=this.parseIfClause())),this.finalize(l,new o.IfStatement(m,d,h))},p.prototype.parseDoWhileStatement=function(){var l=this.createNode();this.expectKeyword("do");var d=this.context.inIteration;this.context.inIteration=!0;var h=this.parseStatement();this.context.inIteration=d,this.expectKeyword("while"),this.expect("(");var m=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(l,new o.DoWhileStatement(h,m))},p.prototype.parseWhileStatement=function(){var l=this.createNode(),d;this.expectKeyword("while"),this.expect("(");var h=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var m=this.context.inIteration;this.context.inIteration=!0,d=this.parseStatement(),this.context.inIteration=m}return this.finalize(l,new o.WhileStatement(h,d))},p.prototype.parseForStatement=function(){var l=null,d=null,h=null,m=!0,C,D,T=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){l=this.createNode(),this.nextToken();var k=this.context.allowIn;this.context.allowIn=!1;var I=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=k,I.length===1&&this.matchKeyword("in")){var B=I[0];B.init&&(B.id.type===c.Syntax.ArrayPattern||B.id.type===c.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(s.Messages.ForInOfLoopInitializer,"for-in"),l=this.finalize(l,new o.VariableDeclaration(I,"var")),this.nextToken(),C=l,D=this.parseExpression(),l=null}else I.length===1&&I[0].init===null&&this.matchContextualKeyword("of")?(l=this.finalize(l,new o.VariableDeclaration(I,"var")),this.nextToken(),C=l,D=this.parseAssignmentExpression(),l=null,m=!1):(l=this.finalize(l,new o.VariableDeclaration(I,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){l=this.createNode();var W=this.nextToken().value;if(!this.context.strict&&this.lookahead.value==="in")l=this.finalize(l,new o.Identifier(W)),this.nextToken(),C=l,D=this.parseExpression(),l=null;else{var k=this.context.allowIn;this.context.allowIn=!1;var I=this.parseBindingList(W,{inFor:!0});this.context.allowIn=k,I.length===1&&I[0].init===null&&this.matchKeyword("in")?(l=this.finalize(l,new o.VariableDeclaration(I,W)),this.nextToken(),C=l,D=this.parseExpression(),l=null):I.length===1&&I[0].init===null&&this.matchContextualKeyword("of")?(l=this.finalize(l,new o.VariableDeclaration(I,W)),this.nextToken(),C=l,D=this.parseAssignmentExpression(),l=null,m=!1):(this.consumeSemicolon(),l=this.finalize(l,new o.VariableDeclaration(I,W)))}}else{var j=this.lookahead,k=this.context.allowIn;if(this.context.allowIn=!1,l=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=k,this.matchKeyword("in"))(!this.context.isAssignmentTarget||l.type===c.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(l),C=l,D=this.parseExpression(),l=null;else if(this.matchContextualKeyword("of"))(!this.context.isAssignmentTarget||l.type===c.Syntax.AssignmentExpression)&&this.tolerateError(s.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(l),C=l,D=this.parseAssignmentExpression(),l=null,m=!1;else{if(this.match(",")){for(var re=[l];this.match(",");)this.nextToken(),re.push(this.isolateCoverGrammar(this.parseAssignmentExpression));l=this.finalize(this.startNode(j),new o.SequenceExpression(re))}this.expect(";")}}typeof C>"u"&&(this.match(";")||(d=this.parseExpression()),this.expect(";"),this.match(")")||(h=this.parseExpression()));var ne;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),ne=this.finalize(this.createNode(),new o.EmptyStatement);else{this.expect(")");var V=this.context.inIteration;this.context.inIteration=!0,ne=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=V}return typeof C>"u"?this.finalize(T,new o.ForStatement(l,d,h,ne)):m?this.finalize(T,new o.ForInStatement(C,D,ne)):this.finalize(T,new o.ForOfStatement(C,D,ne))},p.prototype.parseContinueStatement=function(){var l=this.createNode();this.expectKeyword("continue");var d=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var h=this.parseVariableIdentifier();d=h;var m="$"+h.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,m)||this.throwError(s.Messages.UnknownLabel,h.name)}return this.consumeSemicolon(),d===null&&!this.context.inIteration&&this.throwError(s.Messages.IllegalContinue),this.finalize(l,new o.ContinueStatement(d))},p.prototype.parseBreakStatement=function(){var l=this.createNode();this.expectKeyword("break");var d=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var h=this.parseVariableIdentifier(),m="$"+h.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,m)||this.throwError(s.Messages.UnknownLabel,h.name),d=h}return this.consumeSemicolon(),d===null&&!this.context.inIteration&&!this.context.inSwitch&&this.throwError(s.Messages.IllegalBreak),this.finalize(l,new o.BreakStatement(d))},p.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(s.Messages.IllegalReturn);var l=this.createNode();this.expectKeyword("return");var d=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&this.lookahead.type!==2||this.lookahead.type===8||this.lookahead.type===10,h=d?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(l,new o.ReturnStatement(h))},p.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(s.Messages.StrictModeWith);var l=this.createNode(),d;this.expectKeyword("with"),this.expect("(");var h=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new o.EmptyStatement)):(this.expect(")"),d=this.parseStatement()),this.finalize(l,new o.WithStatement(h,d))},p.prototype.parseSwitchCase=function(){var l=this.createNode(),d;this.matchKeyword("default")?(this.nextToken(),d=null):(this.expectKeyword("case"),d=this.parseExpression()),this.expect(":");for(var h=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)h.push(this.parseStatementListItem());return this.finalize(l,new o.SwitchCase(d,h))},p.prototype.parseSwitchStatement=function(){var l=this.createNode();this.expectKeyword("switch"),this.expect("(");var d=this.parseExpression();this.expect(")");var h=this.context.inSwitch;this.context.inSwitch=!0;var m=[],C=!1;for(this.expect("{");!this.match("}");){var D=this.parseSwitchCase();D.test===null&&(C&&this.throwError(s.Messages.MultipleDefaultsInSwitch),C=!0),m.push(D)}return this.expect("}"),this.context.inSwitch=h,this.finalize(l,new o.SwitchStatement(d,m))},p.prototype.parseLabelledStatement=function(){var l=this.createNode(),d=this.parseExpression(),h;if(d.type===c.Syntax.Identifier&&this.match(":")){this.nextToken();var m=d,C="$"+m.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,C)&&this.throwError(s.Messages.Redeclaration,"Label",m.name),this.context.labelSet[C]=!0;var D=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),D=this.parseClassDeclaration();else if(this.matchKeyword("function")){var T=this.lookahead,k=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(T,s.Messages.StrictFunction):k.generator&&this.tolerateUnexpectedToken(T,s.Messages.GeneratorInLegacyContext),D=k}else D=this.parseStatement();delete this.context.labelSet[C],h=new o.LabeledStatement(m,D)}else this.consumeSemicolon(),h=new o.ExpressionStatement(d);return this.finalize(l,h)},p.prototype.parseThrowStatement=function(){var l=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(s.Messages.NewlineAfterThrow);var d=this.parseExpression();return this.consumeSemicolon(),this.finalize(l,new o.ThrowStatement(d))},p.prototype.parseCatchClause=function(){var l=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var d=[],h=this.parsePattern(d),m={},C=0;C<d.length;C++){var D="$"+d[C].value;Object.prototype.hasOwnProperty.call(m,D)&&this.tolerateError(s.Messages.DuplicateBinding,d[C].value),m[D]=!0}this.context.strict&&h.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(h.name)&&this.tolerateError(s.Messages.StrictCatchVariable),this.expect(")");var T=this.parseBlock();return this.finalize(l,new o.CatchClause(h,T))},p.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},p.prototype.parseTryStatement=function(){var l=this.createNode();this.expectKeyword("try");var d=this.parseBlock(),h=this.matchKeyword("catch")?this.parseCatchClause():null,m=this.matchKeyword("finally")?this.parseFinallyClause():null;return!h&&!m&&this.throwError(s.Messages.NoCatchOrFinally),this.finalize(l,new o.TryStatement(d,h,m))},p.prototype.parseDebuggerStatement=function(){var l=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(l,new o.DebuggerStatement)},p.prototype.parseStatement=function(){var l;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:l=this.parseExpressionStatement();break;case 7:var d=this.lookahead.value;d==="{"?l=this.parseBlock():d==="("?l=this.parseExpressionStatement():d===";"?l=this.parseEmptyStatement():l=this.parseExpressionStatement();break;case 3:l=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":l=this.parseBreakStatement();break;case"continue":l=this.parseContinueStatement();break;case"debugger":l=this.parseDebuggerStatement();break;case"do":l=this.parseDoWhileStatement();break;case"for":l=this.parseForStatement();break;case"function":l=this.parseFunctionDeclaration();break;case"if":l=this.parseIfStatement();break;case"return":l=this.parseReturnStatement();break;case"switch":l=this.parseSwitchStatement();break;case"throw":l=this.parseThrowStatement();break;case"try":l=this.parseTryStatement();break;case"var":l=this.parseVariableStatement();break;case"while":l=this.parseWhileStatement();break;case"with":l=this.parseWithStatement();break;default:l=this.parseExpressionStatement();break}break;default:l=this.throwUnexpectedToken(this.lookahead)}return l},p.prototype.parseFunctionSourceElements=function(){var l=this.createNode();this.expect("{");var d=this.parseDirectivePrologues(),h=this.context.labelSet,m=this.context.inIteration,C=this.context.inSwitch,D=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)d.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=h,this.context.inIteration=m,this.context.inSwitch=C,this.context.inFunctionBody=D,this.finalize(l,new o.BlockStatement(d))},p.prototype.validateParam=function(l,d,h){var m="$"+h;this.context.strict?(this.scanner.isRestrictedWord(h)&&(l.stricted=d,l.message=s.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(l.paramSet,m)&&(l.stricted=d,l.message=s.Messages.StrictParamDupe)):l.firstRestricted||(this.scanner.isRestrictedWord(h)?(l.firstRestricted=d,l.message=s.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(h)?(l.firstRestricted=d,l.message=s.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(l.paramSet,m)&&(l.stricted=d,l.message=s.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(l.paramSet,m,{value:!0,enumerable:!0,writable:!0,configurable:!0}):l.paramSet[m]=!0},p.prototype.parseRestElement=function(l){var d=this.createNode();this.expect("...");var h=this.parsePattern(l);return this.match("=")&&this.throwError(s.Messages.DefaultRestParameter),this.match(")")||this.throwError(s.Messages.ParameterAfterRestParameter),this.finalize(d,new o.RestElement(h))},p.prototype.parseFormalParameter=function(l){for(var d=[],h=this.match("...")?this.parseRestElement(d):this.parsePatternWithDefault(d),m=0;m<d.length;m++)this.validateParam(l,d[m],d[m].value);l.simple=l.simple&&h instanceof o.Identifier,l.params.push(h)},p.prototype.parseFormalParameters=function(l){var d;if(d={simple:!0,params:[],firstRestricted:l},this.expect("("),!this.match(")"))for(d.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(d),!(this.match(")")||(this.expect(","),this.match(")")))););return this.expect(")"),{simple:d.simple,params:d.params,stricted:d.stricted,firstRestricted:d.firstRestricted,message:d.message}},p.prototype.matchAsyncFunction=function(){var l=this.matchContextualKeyword("async");if(l){var d=this.scanner.saveState();this.scanner.scanComments();var h=this.scanner.lex();this.scanner.restoreState(d),l=d.lineNumber===h.lineNumber&&h.type===4&&h.value==="function"}return l},p.prototype.parseFunctionDeclaration=function(l){var d=this.createNode(),h=this.matchContextualKeyword("async");h&&this.nextToken(),this.expectKeyword("function");var m=h?!1:this.match("*");m&&this.nextToken();var C,D=null,T=null;if(!l||!this.match("(")){var k=this.lookahead;D=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(k.value)&&this.tolerateUnexpectedToken(k,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(k.value)?(T=k,C=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(k.value)&&(T=k,C=s.Messages.StrictReservedWord)}var I=this.context.await,B=this.context.allowYield;this.context.await=h,this.context.allowYield=!m;var W=this.parseFormalParameters(T),j=W.params,re=W.stricted;T=W.firstRestricted,W.message&&(C=W.message);var ne=this.context.strict,V=this.context.allowStrictDirective;this.context.allowStrictDirective=W.simple;var N=this.parseFunctionSourceElements();return this.context.strict&&T&&this.throwUnexpectedToken(T,C),this.context.strict&&re&&this.tolerateUnexpectedToken(re,C),this.context.strict=ne,this.context.allowStrictDirective=V,this.context.await=I,this.context.allowYield=B,h?this.finalize(d,new o.AsyncFunctionDeclaration(D,j,N)):this.finalize(d,new o.FunctionDeclaration(D,j,N,m))},p.prototype.parseFunctionExpression=function(){var l=this.createNode(),d=this.matchContextualKeyword("async");d&&this.nextToken(),this.expectKeyword("function");var h=d?!1:this.match("*");h&&this.nextToken();var m,C=null,D,T=this.context.await,k=this.context.allowYield;if(this.context.await=d,this.context.allowYield=!h,!this.match("(")){var I=this.lookahead;C=!this.context.strict&&!h&&this.matchKeyword("yield")?this.parseIdentifierName():this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(I.value)&&this.tolerateUnexpectedToken(I,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(I.value)?(D=I,m=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(I.value)&&(D=I,m=s.Messages.StrictReservedWord)}var B=this.parseFormalParameters(D),W=B.params,j=B.stricted;D=B.firstRestricted,B.message&&(m=B.message);var re=this.context.strict,ne=this.context.allowStrictDirective;this.context.allowStrictDirective=B.simple;var V=this.parseFunctionSourceElements();return this.context.strict&&D&&this.throwUnexpectedToken(D,m),this.context.strict&&j&&this.tolerateUnexpectedToken(j,m),this.context.strict=re,this.context.allowStrictDirective=ne,this.context.await=T,this.context.allowYield=k,d?this.finalize(l,new o.AsyncFunctionExpression(C,W,V)):this.finalize(l,new o.FunctionExpression(C,W,V,h))},p.prototype.parseDirective=function(){var l=this.lookahead,d=this.createNode(),h=this.parseExpression(),m=h.type===c.Syntax.Literal?this.getTokenRaw(l).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(d,m?new o.Directive(h,m):new o.ExpressionStatement(h))},p.prototype.parseDirectivePrologues=function(){for(var l=null,d=[];;){var h=this.lookahead;if(h.type!==8)break;var m=this.parseDirective();d.push(m);var C=m.directive;if(typeof C!="string")break;C==="use strict"?(this.context.strict=!0,l&&this.tolerateUnexpectedToken(l,s.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(h,s.Messages.IllegalLanguageModeDirective)):!l&&h.octal&&(l=h)}return d},p.prototype.qualifiedPropertyName=function(l){switch(l.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return l.value==="[";default:break}return!1},p.prototype.parseGetterMethod=function(){var l=this.createNode(),d=!1,h=this.context.allowYield;this.context.allowYield=!d;var m=this.parseFormalParameters();m.params.length>0&&this.tolerateError(s.Messages.BadGetterArity);var C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(l,new o.FunctionExpression(null,m.params,C,d))},p.prototype.parseSetterMethod=function(){var l=this.createNode(),d=!1,h=this.context.allowYield;this.context.allowYield=!d;var m=this.parseFormalParameters();m.params.length!==1?this.tolerateError(s.Messages.BadSetterArity):m.params[0]instanceof o.RestElement&&this.tolerateError(s.Messages.BadSetterRestParameter);var C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(l,new o.FunctionExpression(null,m.params,C,d))},p.prototype.parseGeneratorMethod=function(){var l=this.createNode(),d=!0,h=this.context.allowYield;this.context.allowYield=!0;var m=this.parseFormalParameters();this.context.allowYield=!1;var C=this.parsePropertyMethod(m);return this.context.allowYield=h,this.finalize(l,new o.FunctionExpression(null,m.params,C,d))},p.prototype.isStartOfExpression=function(){var l=!0,d=this.lookahead.value;switch(this.lookahead.type){case 7:l=d==="["||d==="("||d==="{"||d==="+"||d==="-"||d==="!"||d==="~"||d==="++"||d==="--"||d==="/"||d==="/=";break;case 4:l=d==="class"||d==="delete"||d==="function"||d==="let"||d==="new"||d==="super"||d==="this"||d==="typeof"||d==="void"||d==="yield";break;default:break}return l},p.prototype.parseYieldExpression=function(){var l=this.createNode();this.expectKeyword("yield");var d=null,h=!1;if(!this.hasLineTerminator){var m=this.context.allowYield;this.context.allowYield=!1,h=this.match("*"),h?(this.nextToken(),d=this.parseAssignmentExpression()):this.isStartOfExpression()&&(d=this.parseAssignmentExpression()),this.context.allowYield=m}return this.finalize(l,new o.YieldExpression(d,h))},p.prototype.parseClassElement=function(l){var d=this.lookahead,h=this.createNode(),m="",C=null,D=null,T=!1,k=!1,I=!1,B=!1;if(this.match("*"))this.nextToken();else{T=this.match("["),C=this.parseObjectPropertyKey();var W=C;if(W.name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(d=this.lookahead,I=!0,T=this.match("["),this.match("*")?this.nextToken():C=this.parseObjectPropertyKey()),d.type===3&&!this.hasLineTerminator&&d.value==="async"){var j=this.lookahead.value;j!==":"&&j!=="("&&j!=="*"&&(B=!0,d=this.lookahead,C=this.parseObjectPropertyKey(),d.type===3&&d.value==="constructor"&&this.tolerateUnexpectedToken(d,s.Messages.ConstructorIsAsync))}}var re=this.qualifiedPropertyName(this.lookahead);return d.type===3?d.value==="get"&&re?(m="get",T=this.match("["),C=this.parseObjectPropertyKey(),this.context.allowYield=!1,D=this.parseGetterMethod()):d.value==="set"&&re&&(m="set",T=this.match("["),C=this.parseObjectPropertyKey(),D=this.parseSetterMethod()):d.type===7&&d.value==="*"&&re&&(m="init",T=this.match("["),C=this.parseObjectPropertyKey(),D=this.parseGeneratorMethod(),k=!0),!m&&C&&this.match("(")&&(m="init",D=B?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),k=!0),m||this.throwUnexpectedToken(this.lookahead),m==="init"&&(m="method"),T||(I&&this.isPropertyKey(C,"prototype")&&this.throwUnexpectedToken(d,s.Messages.StaticPrototype),!I&&this.isPropertyKey(C,"constructor")&&((m!=="method"||!k||D&&D.generator)&&this.throwUnexpectedToken(d,s.Messages.ConstructorSpecialMethod),l.value?this.throwUnexpectedToken(d,s.Messages.DuplicateConstructor):l.value=!0,m="constructor")),this.finalize(h,new o.MethodDefinition(C,T,D,m,I))},p.prototype.parseClassElementList=function(){var l=[],d={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():l.push(this.parseClassElement(d));return this.expect("}"),l},p.prototype.parseClassBody=function(){var l=this.createNode(),d=this.parseClassElementList();return this.finalize(l,new o.ClassBody(d))},p.prototype.parseClassDeclaration=function(l){var d=this.createNode(),h=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var m=l&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),C=null;this.matchKeyword("extends")&&(this.nextToken(),C=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var D=this.parseClassBody();return this.context.strict=h,this.finalize(d,new o.ClassDeclaration(m,C,D))},p.prototype.parseClassExpression=function(){var l=this.createNode(),d=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var h=this.lookahead.type===3?this.parseVariableIdentifier():null,m=null;this.matchKeyword("extends")&&(this.nextToken(),m=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var C=this.parseClassBody();return this.context.strict=d,this.finalize(l,new o.ClassExpression(h,m,C))},p.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var l=this.createNode(),d=this.parseDirectivePrologues();this.lookahead.type!==2;)d.push(this.parseStatementListItem());return this.finalize(l,new o.Module(d))},p.prototype.parseScript=function(){for(var l=this.createNode(),d=this.parseDirectivePrologues();this.lookahead.type!==2;)d.push(this.parseStatementListItem());return this.finalize(l,new o.Script(d))},p.prototype.parseModuleSpecifier=function(){var l=this.createNode();this.lookahead.type!==8&&this.throwError(s.Messages.InvalidModuleSpecifier);var d=this.nextToken(),h=this.getTokenRaw(d);return this.finalize(l,new o.Literal(d.value,h))},p.prototype.parseImportSpecifier=function(){var l=this.createNode(),d,h;return this.lookahead.type===3?(d=this.parseVariableIdentifier(),h=d,this.matchContextualKeyword("as")&&(this.nextToken(),h=this.parseVariableIdentifier())):(d=this.parseIdentifierName(),h=d,this.matchContextualKeyword("as")?(this.nextToken(),h=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(l,new o.ImportSpecifier(h,d))},p.prototype.parseNamedImports=function(){this.expect("{");for(var l=[];!this.match("}");)l.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),l},p.prototype.parseImportDefaultSpecifier=function(){var l=this.createNode(),d=this.parseIdentifierName();return this.finalize(l,new o.ImportDefaultSpecifier(d))},p.prototype.parseImportNamespaceSpecifier=function(){var l=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(s.Messages.NoAsAfterImportNamespace),this.nextToken();var d=this.parseIdentifierName();return this.finalize(l,new o.ImportNamespaceSpecifier(d))},p.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalImportDeclaration);var l=this.createNode();this.expectKeyword("import");var d,h=[];if(this.lookahead.type===8)d=this.parseModuleSpecifier();else{if(this.match("{")?h=h.concat(this.parseNamedImports()):this.match("*")?h.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(h.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?h.push(this.parseImportNamespaceSpecifier()):this.match("{")?h=h.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}this.nextToken(),d=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(l,new o.ImportDeclaration(h,d))},p.prototype.parseExportSpecifier=function(){var l=this.createNode(),d=this.parseIdentifierName(),h=d;return this.matchContextualKeyword("as")&&(this.nextToken(),h=this.parseIdentifierName()),this.finalize(l,new o.ExportSpecifier(d,h))},p.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalExportDeclaration);var l=this.createNode();this.expectKeyword("export");var d;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var h=this.parseFunctionDeclaration(!0);d=this.finalize(l,new o.ExportDefaultDeclaration(h))}else if(this.matchKeyword("class")){var h=this.parseClassDeclaration(!0);d=this.finalize(l,new o.ExportDefaultDeclaration(h))}else if(this.matchContextualKeyword("async")){var h=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();d=this.finalize(l,new o.ExportDefaultDeclaration(h))}else{this.matchContextualKeyword("from")&&this.throwError(s.Messages.UnexpectedToken,this.lookahead.value);var h=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),d=this.finalize(l,new o.ExportDefaultDeclaration(h))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}this.nextToken();var C=this.parseModuleSpecifier();this.consumeSemicolon(),d=this.finalize(l,new o.ExportAllDeclaration(C))}else if(this.lookahead.type===4){var h=void 0;switch(this.lookahead.value){case"let":case"const":h=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":h=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}d=this.finalize(l,new o.ExportNamedDeclaration(h,[],null))}else if(this.matchAsyncFunction()){var h=this.parseFunctionDeclaration();d=this.finalize(l,new o.ExportNamedDeclaration(h,[],null))}else{var D=[],T=null,k=!1;for(this.expect("{");!this.match("}");)k=k||this.matchKeyword("default"),D.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),T=this.parseModuleSpecifier(),this.consumeSemicolon();else if(k){var m=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(m,this.lookahead.value)}else this.consumeSemicolon();d=this.finalize(l,new o.ExportNamedDeclaration(null,D,T))}return d},p})();e.Parser=g},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(r,i){if(!r)throw new Error("ASSERT: "+i)}e.assert=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(function(){function r(){this.errors=[],this.tolerant=!1}return r.prototype.recordError=function(i){this.errors.push(i)},r.prototype.tolerate=function(i){if(this.tolerant)this.recordError(i);else throw i},r.prototype.constructError=function(i,s){var o=new Error(i);try{throw o}catch(a){Object.create&&Object.defineProperty&&(o=Object.create(a),Object.defineProperty(o,"column",{value:s}))}return o},r.prototype.createError=function(i,s,o,a){var c="Line "+s+": "+a,u=this.constructError(c,o);return u.index=i,u.lineNumber=s,u.description=a,u},r.prototype.throwError=function(i,s,o,a){throw this.createError(i,s,o,a)},r.prototype.tolerateError=function(i,s,o,a){var c=this.createError(i,s,o,a);if(this.tolerant)this.recordError(c);else throw c},r})();e.ErrorHandler=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),i=n(4),s=n(11);function o(u){return"0123456789abcdef".indexOf(u.toLowerCase())}function a(u){return"01234567".indexOf(u)}var c=(function(){function u(f,g){this.source=f,this.errorHandler=g,this.trackComment=!1,this.isModule=!1,this.length=f.length,this.index=0,this.lineNumber=f.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return u.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},u.prototype.restoreState=function(f){this.index=f.index,this.lineNumber=f.lineNumber,this.lineStart=f.lineStart},u.prototype.eof=function(){return this.index>=this.length},u.prototype.throwUnexpectedToken=function(f){return f===void 0&&(f=s.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,f)},u.prototype.tolerateUnexpectedToken=function(f){f===void 0&&(f=s.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,f)},u.prototype.skipSingleLineComment=function(f){var g=[],p,l;for(this.trackComment&&(g=[],p=this.index-f,l={start:{line:this.lineNumber,column:this.index-this.lineStart-f},end:{}});!this.eof();){var d=this.source.charCodeAt(this.index);if(++this.index,i.Character.isLineTerminator(d)){if(this.trackComment){l.end={line:this.lineNumber,column:this.index-this.lineStart-1};var h={multiLine:!1,slice:[p+f,this.index-1],range:[p,this.index-1],loc:l};g.push(h)}return d===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,g}}if(this.trackComment){l.end={line:this.lineNumber,column:this.index-this.lineStart};var h={multiLine:!1,slice:[p+f,this.index],range:[p,this.index],loc:l};g.push(h)}return g},u.prototype.skipMultiLineComment=function(){var f=[],g,p;for(this.trackComment&&(f=[],g=this.index-2,p={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var l=this.source.charCodeAt(this.index);if(i.Character.isLineTerminator(l))l===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(l===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){p.end={line:this.lineNumber,column:this.index-this.lineStart};var d={multiLine:!0,slice:[g+2,this.index-2],range:[g,this.index],loc:p};f.push(d)}return f}++this.index}else++this.index}if(this.trackComment){p.end={line:this.lineNumber,column:this.index-this.lineStart};var d={multiLine:!0,slice:[g+2,this.index],range:[g,this.index],loc:p};f.push(d)}return this.tolerateUnexpectedToken(),f},u.prototype.scanComments=function(){var f;this.trackComment&&(f=[]);for(var g=this.index===0;!this.eof();){var p=this.source.charCodeAt(this.index);if(i.Character.isWhiteSpace(p))++this.index;else if(i.Character.isLineTerminator(p))++this.index,p===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,g=!0;else if(p===47)if(p=this.source.charCodeAt(this.index+1),p===47){this.index+=2;var l=this.skipSingleLineComment(2);this.trackComment&&(f=f.concat(l)),g=!0}else if(p===42){this.index+=2;var l=this.skipMultiLineComment();this.trackComment&&(f=f.concat(l))}else break;else if(g&&p===45)if(this.source.charCodeAt(this.index+1)===45&&this.source.charCodeAt(this.index+2)===62){this.index+=3;var l=this.skipSingleLineComment(3);this.trackComment&&(f=f.concat(l))}else break;else if(p===60&&!this.isModule)if(this.source.slice(this.index+1,this.index+4)==="!--"){this.index+=4;var l=this.skipSingleLineComment(4);this.trackComment&&(f=f.concat(l))}else break;else break}return f},u.prototype.isFutureReservedWord=function(f){switch(f){case"enum":case"export":case"import":case"super":return!0;default:return!1}},u.prototype.isStrictModeReservedWord=function(f){switch(f){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},u.prototype.isRestrictedWord=function(f){return f==="eval"||f==="arguments"},u.prototype.isKeyword=function(f){switch(f.length){case 2:return f==="if"||f==="in"||f==="do";case 3:return f==="var"||f==="for"||f==="new"||f==="try"||f==="let";case 4:return f==="this"||f==="else"||f==="case"||f==="void"||f==="with"||f==="enum";case 5:return f==="while"||f==="break"||f==="catch"||f==="throw"||f==="const"||f==="yield"||f==="class"||f==="super";case 6:return f==="return"||f==="typeof"||f==="delete"||f==="switch"||f==="export"||f==="import";case 7:return f==="default"||f==="finally"||f==="extends";case 8:return f==="function"||f==="continue"||f==="debugger";case 10:return f==="instanceof";default:return!1}},u.prototype.codePointAt=function(f){var g=this.source.charCodeAt(f);if(g>=55296&&g<=56319){var p=this.source.charCodeAt(f+1);if(p>=56320&&p<=57343){var l=g;g=(l-55296)*1024+p-56320+65536}}return g},u.prototype.scanHexEscape=function(f){for(var g=f==="u"?4:2,p=0,l=0;l<g;++l)if(!this.eof()&&i.Character.isHexDigit(this.source.charCodeAt(this.index)))p=p*16+o(this.source[this.index++]);else return null;return String.fromCharCode(p)},u.prototype.scanUnicodeCodePointEscape=function(){var f=this.source[this.index],g=0;for(f==="}"&&this.throwUnexpectedToken();!this.eof()&&(f=this.source[this.index++],!!i.Character.isHexDigit(f.charCodeAt(0)));)g=g*16+o(f);return(g>1114111||f!=="}")&&this.throwUnexpectedToken(),i.Character.fromCodePoint(g)},u.prototype.getIdentifier=function(){for(var f=this.index++;!this.eof();){var g=this.source.charCodeAt(this.index);if(g===92)return this.index=f,this.getComplexIdentifier();if(g>=55296&&g<57343)return this.index=f,this.getComplexIdentifier();if(i.Character.isIdentifierPart(g))++this.index;else break}return this.source.slice(f,this.index)},u.prototype.getComplexIdentifier=function(){var f=this.codePointAt(this.index),g=i.Character.fromCodePoint(f);this.index+=g.length;var p;for(f===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,p=this.scanUnicodeCodePointEscape()):(p=this.scanHexEscape("u"),(p===null||p==="\\"||!i.Character.isIdentifierStart(p.charCodeAt(0)))&&this.throwUnexpectedToken()),g=p);!this.eof()&&(f=this.codePointAt(this.index),!!i.Character.isIdentifierPart(f));)p=i.Character.fromCodePoint(f),g+=p,this.index+=p.length,f===92&&(g=g.substr(0,g.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,p=this.scanUnicodeCodePointEscape()):(p=this.scanHexEscape("u"),(p===null||p==="\\"||!i.Character.isIdentifierPart(p.charCodeAt(0)))&&this.throwUnexpectedToken()),g+=p);return g},u.prototype.octalToDecimal=function(f){var g=f!=="0",p=a(f);return!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(g=!0,p=p*8+a(this.source[this.index++]),"0123".indexOf(f)>=0&&!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(p=p*8+a(this.source[this.index++]))),{code:p,octal:g}},u.prototype.scanIdentifier=function(){var f,g=this.index,p=this.source.charCodeAt(g)===92?this.getComplexIdentifier():this.getIdentifier();if(p.length===1?f=3:this.isKeyword(p)?f=4:p==="null"?f=5:p==="true"||p==="false"?f=1:f=3,f!==3&&g+p.length!==this.index){var l=this.index;this.index=g,this.tolerateUnexpectedToken(s.Messages.InvalidEscapedReservedWord),this.index=l}return{type:f,value:p,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}},u.prototype.scanPunctuator=function(){var f=this.index,g=this.source[this.index];switch(g){case"(":case"{":g==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,g="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:g=this.source.substr(this.index,4),g===">>>="?this.index+=4:(g=g.substr(0,3),g==="==="||g==="!=="||g===">>>"||g==="<<="||g===">>="||g==="**="?this.index+=3:(g=g.substr(0,2),g==="&&"||g==="||"||g==="=="||g==="!="||g==="+="||g==="-="||g==="*="||g==="/="||g==="++"||g==="--"||g==="<<"||g===">>"||g==="&="||g==="|="||g==="^="||g==="%="||g==="<="||g===">="||g==="=>"||g==="**"?this.index+=2:(g=this.source[this.index],"<>=!+-*%&|^/".indexOf(g)>=0&&++this.index)))}return this.index===f&&this.throwUnexpectedToken(),{type:7,value:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanHexLiteral=function(f){for(var g="";!this.eof()&&i.Character.isHexDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];return g.length===0&&this.throwUnexpectedToken(),i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+g,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanBinaryLiteral=function(f){for(var g="",p;!this.eof()&&(p=this.source[this.index],!(p!=="0"&&p!=="1"));)g+=this.source[this.index++];return g.length===0&&this.throwUnexpectedToken(),this.eof()||(p=this.source.charCodeAt(this.index),(i.Character.isIdentifierStart(p)||i.Character.isDecimalDigit(p))&&this.throwUnexpectedToken()),{type:6,value:parseInt(g,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanOctalLiteral=function(f,g){var p="",l=!1;for(i.Character.isOctalDigit(f.charCodeAt(0))?(l=!0,p="0"+this.source[this.index++]):++this.index;!this.eof()&&i.Character.isOctalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];return!l&&p.length===0&&this.throwUnexpectedToken(),(i.Character.isIdentifierStart(this.source.charCodeAt(this.index))||i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(p,8),octal:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}},u.prototype.isImplicitOctalLiteral=function(){for(var f=this.index+1;f<this.length;++f){var g=this.source[f];if(g==="8"||g==="9")return!1;if(!i.Character.isOctalDigit(g.charCodeAt(0)))return!0}return!0},u.prototype.scanNumericLiteral=function(){var f=this.index,g=this.source[f];r.assert(i.Character.isDecimalDigit(g.charCodeAt(0))||g===".","Numeric literal must start with a decimal digit or a decimal point");var p="";if(g!=="."){if(p=this.source[this.index++],g=this.source[this.index],p==="0"){if(g==="x"||g==="X")return++this.index,this.scanHexLiteral(f);if(g==="b"||g==="B")return++this.index,this.scanBinaryLiteral(f);if(g==="o"||g==="O")return this.scanOctalLiteral(g,f);if(g&&i.Character.isOctalDigit(g.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(g,f)}for(;i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];g=this.source[this.index]}if(g==="."){for(p+=this.source[this.index++];i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];g=this.source[this.index]}if(g==="e"||g==="E")if(p+=this.source[this.index++],g=this.source[this.index],(g==="+"||g==="-")&&(p+=this.source[this.index++]),i.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;i.Character.isDecimalDigit(this.source.charCodeAt(this.index));)p+=this.source[this.index++];else this.throwUnexpectedToken();return i.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(p),lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanStringLiteral=function(){var f=this.index,g=this.source[f];r.assert(g==="'"||g==='"',"String literal must starts with a quote"),++this.index;for(var p=!1,l="";!this.eof();){var d=this.source[this.index++];if(d===g){g="";break}else if(d==="\\")if(d=this.source[this.index++],!d||!i.Character.isLineTerminator(d.charCodeAt(0)))switch(d){case"u":if(this.source[this.index]==="{")++this.index,l+=this.scanUnicodeCodePointEscape();else{var h=this.scanHexEscape(d);h===null&&this.throwUnexpectedToken(),l+=h}break;case"x":var m=this.scanHexEscape(d);m===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),l+=m;break;case"n":l+=`
`;break;case"r":l+="\r";break;case"t":l+="	";break;case"b":l+="\b";break;case"f":l+="\f";break;case"v":l+="\v";break;case"8":case"9":l+=d,this.tolerateUnexpectedToken();break;default:if(d&&i.Character.isOctalDigit(d.charCodeAt(0))){var C=this.octalToDecimal(d);p=C.octal||p,l+=String.fromCharCode(C.code)}else l+=d;break}else++this.lineNumber,d==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else{if(i.Character.isLineTerminator(d.charCodeAt(0)))break;l+=d}}return g!==""&&(this.index=f,this.throwUnexpectedToken()),{type:8,value:l,octal:p,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.scanTemplate=function(){var f="",g=!1,p=this.index,l=this.source[p]==="`",d=!1,h=2;for(++this.index;!this.eof();){var m=this.source[this.index++];if(m==="`"){h=1,d=!0,g=!0;break}else if(m==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,g=!0;break}f+=m}else if(m==="\\")if(m=this.source[this.index++],i.Character.isLineTerminator(m.charCodeAt(0)))++this.lineNumber,m==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(m){case"n":f+=`
`;break;case"r":f+="\r";break;case"t":f+="	";break;case"u":if(this.source[this.index]==="{")++this.index,f+=this.scanUnicodeCodePointEscape();else{var C=this.index,D=this.scanHexEscape(m);D!==null?f+=D:(this.index=C,f+=m)}break;case"x":var T=this.scanHexEscape(m);T===null&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),f+=T;break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="\v";break;default:m==="0"?(i.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral),f+="\0"):i.Character.isOctalDigit(m.charCodeAt(0))?this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral):f+=m;break}else i.Character.isLineTerminator(m.charCodeAt(0))?(++this.lineNumber,m==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,f+=`
`):f+=m}return g||this.throwUnexpectedToken(),l||this.curlyStack.pop(),{type:10,value:this.source.slice(p+1,this.index-h),cooked:f,head:l,tail:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:p,end:this.index}},u.prototype.testRegExp=function(f,g){var p="\uFFFF",l=f,d=this;g.indexOf("u")>=0&&(l=l.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(h,m,C){var D=parseInt(m||C,16);return D>1114111&&d.throwUnexpectedToken(s.Messages.InvalidRegExp),D<=65535?String.fromCharCode(D):p}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p));try{RegExp(l)}catch{this.throwUnexpectedToken(s.Messages.InvalidRegExp)}try{return new RegExp(f,g)}catch{return null}},u.prototype.scanRegExpBody=function(){var f=this.source[this.index];r.assert(f==="/","Regular expression literal must start with a slash");for(var g=this.source[this.index++],p=!1,l=!1;!this.eof();)if(f=this.source[this.index++],g+=f,f==="\\")f=this.source[this.index++],i.Character.isLineTerminator(f.charCodeAt(0))&&this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),g+=f;else if(i.Character.isLineTerminator(f.charCodeAt(0)))this.throwUnexpectedToken(s.Messages.UnterminatedRegExp);else if(p)f==="]"&&(p=!1);else if(f==="/"){l=!0;break}else f==="["&&(p=!0);return l||this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),g.substr(1,g.length-2)},u.prototype.scanRegExpFlags=function(){for(var f="",g="";!this.eof();){var p=this.source[this.index];if(!i.Character.isIdentifierPart(p.charCodeAt(0)))break;if(++this.index,p==="\\"&&!this.eof())if(p=this.source[this.index],p==="u"){++this.index;var l=this.index,d=this.scanHexEscape("u");if(d!==null)for(g+=d,f+="\\u";l<this.index;++l)f+=this.source[l];else this.index=l,g+="u",f+="\\u";this.tolerateUnexpectedToken()}else f+="\\",this.tolerateUnexpectedToken();else g+=p,f+=p}return g},u.prototype.scanRegExp=function(){var f=this.index,g=this.scanRegExpBody(),p=this.scanRegExpFlags(),l=this.testRegExp(g,p);return{type:9,value:"",pattern:g,flags:p,regex:l,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}},u.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var f=this.source.charCodeAt(this.index);return i.Character.isIdentifierStart(f)?this.scanIdentifier():f===40||f===41||f===59?this.scanPunctuator():f===39||f===34?this.scanStringLiteral():f===46?i.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():i.Character.isDecimalDigit(f)?this.scanNumericLiteral():f===96||f===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():f>=55296&&f<57343&&i.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},u})();e.Scanner=c},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenName={},e.TokenName[1]="Boolean",e.TokenName[2]="<end>",e.TokenName[3]="Identifier",e.TokenName[4]="Keyword",e.TokenName[5]="Null",e.TokenName[6]="Numeric",e.TokenName[7]="Punctuator",e.TokenName[8]="String",e.TokenName[9]="RegularExpression",e.TokenName[10]="Template"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10),i=n(12),s=n(13),o=(function(){function c(){this.values=[],this.curly=this.paren=-1}return c.prototype.beforeFunctionExpression=function(u){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(u)>=0},c.prototype.isRegexStart=function(){var u=this.values[this.values.length-1],f=u!==null;switch(u){case"this":case"]":f=!1;break;case")":var g=this.values[this.paren-1];f=g==="if"||g==="while"||g==="for"||g==="with";break;case"}":if(f=!1,this.values[this.curly-3]==="function"){var p=this.values[this.curly-4];f=p?!this.beforeFunctionExpression(p):!1}else if(this.values[this.curly-4]==="function"){var p=this.values[this.curly-5];f=p?!this.beforeFunctionExpression(p):!0}break;default:break}return f},c.prototype.push=function(u){u.type===7||u.type===4?(u.value==="{"?this.curly=this.values.length:u.value==="("&&(this.paren=this.values.length),this.values.push(u.value)):this.values.push(null)},c})(),a=(function(){function c(u,f){this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=f?typeof f.tolerant=="boolean"&&f.tolerant:!1,this.scanner=new i.Scanner(u,this.errorHandler),this.scanner.trackComment=f?typeof f.comment=="boolean"&&f.comment:!1,this.trackRange=f?typeof f.range=="boolean"&&f.range:!1,this.trackLoc=f?typeof f.loc=="boolean"&&f.loc:!1,this.buffer=[],this.reader=new o}return c.prototype.errors=function(){return this.errorHandler.errors},c.prototype.getNextToken=function(){if(this.buffer.length===0){var u=this.scanner.scanComments();if(this.scanner.trackComment)for(var f=0;f<u.length;++f){var g=u[f],p=this.scanner.source.slice(g.slice[0],g.slice[1]),l={type:g.multiLine?"BlockComment":"LineComment",value:p};this.trackRange&&(l.range=g.range),this.trackLoc&&(l.loc=g.loc),this.buffer.push(l)}if(!this.scanner.eof()){var d=void 0;this.trackLoc&&(d={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var h=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart(),m=h?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(m);var C={type:s.TokenName[m.type],value:this.scanner.source.slice(m.start,m.end)};if(this.trackRange&&(C.range=[m.start,m.end]),this.trackLoc&&(d.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},C.loc=d),m.type===9){var D=m.pattern,T=m.flags;C.regex={pattern:D,flags:T}}this.buffer.push(C)}}return this.buffer.shift()},c})();e.Tokenizer=a}])})});var yd=P(Dn=>{function XB(t){return Array.isArray?Array.isArray(t):md(t)==="[object Array]"}Dn.isArray=XB;function YB(t){return typeof t=="boolean"}Dn.isBoolean=YB;function QB(t){return t===null}Dn.isNull=QB;function ZB(t){return t==null}Dn.isNullOrUndefined=ZB;function eW(t){return typeof t=="number"}Dn.isNumber=eW;function tW(t){return typeof t=="string"}Dn.isString=tW;function nW(t){return typeof t=="symbol"}Dn.isSymbol=nW;function rW(t){return t===void 0}Dn.isUndefined=rW;function iW(t){return md(t)==="[object RegExp]"}Dn.isRegExp=iW;function sW(t){return typeof t=="object"&&t!==null}Dn.isObject=sW;function oW(t){return md(t)==="[object Date]"}Dn.isDate=oW;function aW(t){return md(t)==="[object Error]"||t instanceof Error}Dn.isError=aW;function cW(t){return typeof t=="function"}Dn.isFunction=cW;function uW(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Dn.isPrimitive=uW;Dn.isBuffer=require("buffer").Buffer.isBuffer;function md(t){return Object.prototype.toString.call(t)}});var bk=P((cte,Sk)=>{var hk=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],be,gk=t=>t<1e5?t<100?t<10?0:1:t<1e4?t<1e3?2:3:4:t<1e7?t<1e6?5:6:t<1e9?t<1e8?7:8:9;function mk(t,e){if(t===e)return 0;if(~~t===t&&~~e===e){if(t===0||e===0)return t<e?-1:1;if(t<0||e<0){if(e>=0)return-1;if(t>=0)return 1;t=-t,e=-e}let i=gk(t),s=gk(e),o=0;return i<s?(t*=hk[s-i-1],e/=10,o=-1):i>s&&(e*=hk[i-s-1],t/=10,o=1),t===e?o:t<e?-1:1}let n=String(t),r=String(e);return n===r?0:n<r?-1:1}function lW(t){let e=0;for(;t>=32;)e|=t&1,t>>=1;return t+e}function yk(t,e,n,r){let i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;Ck(t,e,i),Ck(be,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function Ck(t,e,n){for(n--;e<n;){let r=t[e];t[e++]=t[n],t[n--]=r}}function vk(t,e,n,r,i){for(r===e&&r++;r<n;r++){let s=t[r],o=be[r],a=e,c=r;for(;a<c;){let f=a+c>>>1;i(s,t[f])<0?c=f:a=f+1}let u=r-a;switch(u){case 3:t[a+3]=t[a+2],be[a+3]=be[a+2];case 2:t[a+2]=t[a+1],be[a+2]=be[a+1];case 1:t[a+1]=t[a],be[a+1]=be[a];break;default:for(;u>0;)t[a+u]=t[a+u-1],be[a+u]=be[a+u-1],u--}t[a]=s,be[a]=o}}function Km(t,e,n,r,i,s){let o=0,a=0,c=1;if(s(t,e[n+i])>0){for(a=r-i;c<a&&s(t,e[n+i+c])>0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a),o+=i,c+=i}else{for(a=i+1;c<a&&s(t,e[n+i-c])<=0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a);let u=o;o=i-c,c=i-u}for(o++;o<c;){let u=o+(c-o>>>1);s(t,e[n+u])>0?o=u+1:c=u}return c}function $m(t,e,n,r,i,s){let o=0,a=0,c=1;if(s(t,e[n+i])<0){for(a=i+1;c<a&&s(t,e[n+i-c])<0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a);let u=o;o=i-c,c=i-u}else{for(a=r-i;c<a&&s(t,e[n+i+c])>=0;)o=c,c=(c<<1)+1,c<=0&&(c=a);c>a&&(c=a),o+=i,c+=i}for(o++;o<c;){let u=o+(c-o>>>1);s(t,e[n+u])<0?c=u:o=u+1}return c}var Vm=class{constructor(e,n){this.array=e,this.compare=n;let{length:r}=e;this.length=r,this.minGallop=7,this.tmpStorageLength=r<2*256?r>>>1:256,this.tmp=new Array(this.tmpStorageLength),this.tmpIndex=new Array(this.tmpStorageLength),this.stackLength=r<120?5:r<1542?10:r<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength),this.stackSize=0}pushRun(e,n){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=n,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}}forceMergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}}mergeAt(e){let{compare:n}=this,{array:r}=this,i=this.runStart[e],s=this.runLength[e],o=this.runStart[e+1],a=this.runLength[e+1];this.runLength[e]=s+a,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;let c=$m(r[o],r,i,s,0,n);i+=c,s-=c,s!==0&&(a=Km(r[i+s-1],r,o,a,a-1,n),a!==0&&(s<=a?this.mergeLow(i,s,o,a):this.mergeHigh(i,s,o,a)))}mergeLow(e,n,r,i){let{compare:s}=this,{array:o}=this,{tmp:a}=this,{tmpIndex:c}=this,u=0;for(u=0;u<n;u++)a[u]=o[e+u],c[u]=be[e+u];let f=0,g=r,p=e;if(o[p]=o[g],be[p]=be[g],p++,g++,--i===0){for(u=0;u<n;u++)o[p+u]=a[f+u],be[p+u]=c[f+u];return}if(n===1){for(u=0;u<i;u++)o[p+u]=o[g+u],be[p+u]=be[g+u];o[p+i]=a[f],be[p+i]=c[f];return}let{minGallop:l}=this;for(;;){let d=0,h=0,m=!1;do if(s(o[g],a[f])<0){if(o[p]=o[g],be[p]=be[g],p++,g++,h++,d=0,--i===0){m=!0;break}}else if(o[p]=a[f],be[p]=c[f],p++,f++,d++,h=0,--n===1){m=!0;break}while((d|h)<l);if(m)break;do{if(d=$m(o[g],a,f,n,0,s),d!==0){for(u=0;u<d;u++)o[p+u]=a[f+u],be[p+u]=c[f+u];if(p+=d,f+=d,n-=d,n<=1){m=!0;break}}if(o[p]=o[g],be[p]=be[g],p++,g++,--i===0){m=!0;break}if(h=Km(a[f],o,g,i,0,s),h!==0){for(u=0;u<h;u++)o[p+u]=o[g+u],be[p+u]=be[g+u];if(p+=h,g+=h,i-=h,i===0){m=!0;break}}if(o[p]=a[f],be[p]=c[f],p++,f++,--n===1){m=!0;break}l--}while(d>=7||h>=7);if(m)break;l<0&&(l=0),l+=2}if(this.minGallop=l,l<1&&(this.minGallop=1),n===1){for(u=0;u<i;u++)o[p+u]=o[g+u],be[p+u]=be[g+u];o[p+i]=a[f],be[p+i]=c[f]}else{if(n===0)throw new Error("mergeLow preconditions were not respected");for(u=0;u<n;u++)o[p+u]=a[f+u],be[p+u]=c[f+u]}}mergeHigh(e,n,r,i){let{compare:s}=this,{array:o}=this,{tmp:a}=this,{tmpIndex:c}=this,u=0;for(u=0;u<i;u++)a[u]=o[r+u],c[u]=be[r+u];let f=e+n-1,g=i-1,p=r+i-1,l=0,d=0;if(o[p]=o[f],be[p]=be[f],p--,f--,--n===0){for(l=p-(i-1),u=0;u<i;u++)o[l+u]=a[u],be[l+u]=c[u];return}if(i===1){for(p-=n,f-=n,d=p+1,l=f+1,u=n-1;u>=0;u--)o[d+u]=o[l+u],be[d+u]=be[l+u];o[p]=a[g],be[p]=c[g];return}let{minGallop:h}=this;for(;;){let m=0,C=0,D=!1;do if(s(a[g],o[f])<0){if(o[p]=o[f],be[p]=be[f],p--,f--,m++,C=0,--n===0){D=!0;break}}else if(o[p]=a[g],be[p]=c[g],p--,g--,C++,m=0,--i===1){D=!0;break}while((m|C)<h);if(D)break;do{if(m=n-$m(a[g],o,e,n,n-1,s),m!==0){for(p-=m,f-=m,n-=m,d=p+1,l=f+1,u=m-1;u>=0;u--)o[d+u]=o[l+u],be[d+u]=be[l+u];if(n===0){D=!0;break}}if(o[p]=a[g],be[p]=c[g],p--,g--,--i===1){D=!0;break}if(C=i-Km(o[f],a,0,i,i-1,s),C!==0){for(p-=C,g-=C,i-=C,d=p+1,l=g+1,u=0;u<C;u++)o[d+u]=a[l+u],be[d+u]=c[l+u];if(i<=1){D=!0;break}}if(o[p]=o[f],be[p]=be[f],p--,f--,--n===0){D=!0;break}h--}while(m>=7||C>=7);if(D)break;h<0&&(h=0),h+=2}if(this.minGallop=h,h<1&&(this.minGallop=1),i===1){for(p-=n,f-=n,d=p+1,l=f+1,u=n-1;u>=0;u--)o[d+u]=o[l+u],be[d+u]=be[l+u];o[p]=a[g],be[p]=c[g]}else{if(i===0)throw new Error("mergeHigh preconditions were not respected");for(l=p-(i-1),u=0;u<i;u++)o[l+u]=a[u],be[l+u]=c[u]}}};function dW(t,e,n,r){if(!Array.isArray(t))throw new TypeError(`The "array" argument must be an array. Received ${t}`);be=[];let{length:i}=t,s=0;for(;s<i;)be[s]=s++;e?typeof e!="function"&&(r=n,n=e,e=mk):e=mk,n||(n=0),r||(r=i);let o=r-n;if(o<2)return be;let a=0;if(o<32)return a=yk(t,n,r,e),vk(t,n,r,n+a,e),be;let c=new Vm(t,e),u=lW(o);do{if(a=yk(t,n,r,e),a<u){let f=o;f>u&&(f=u),vk(t,n,n+f,n+a,e),a=f}c.pushRun(n,a),c.mergeRuns(),o-=a,n+=a}while(o!==0);return c.forceMergeRuns(),be}Sk.exports={sort:dW}});var wk=P((ute,Dk)=>{"use strict";var fW=Object.prototype.hasOwnProperty;Dk.exports=(t,e)=>fW.call(t,e)});var Kc=P((lte,Nk)=>{var Gm=wk(),{isObject:Tk,isArray:pW,isString:hW,isNumber:gW}=yd(),Jm="before",Ek="after-prop",kk="after-colon",Fk="after-value",Pk="after",Rk="before-all",Ak="after-all",mW="[",yW="]",CW="{",vW="}",SW=",",bW="",DW="-",Xm=[Jm,Ek,kk,Fk,Pk],wW=[Jm,Rk,Ak].map(Symbol.for),Ik=":",xk=void 0,Wc=(t,e)=>Symbol.for(t+Ik+e),Cd=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),zm=(t,e,n,r,i,s)=>{let o=Wc(i,r);if(!Gm(e,o))return;let a=n===r?o:Wc(i,n);Cd(t,a,e[o]),s&&delete e[o]},_k=(t,e,n,r,i)=>{Xm.forEach(s=>{zm(t,e,n,r,s,i)})},TW=(t,e,n)=>{e!==n&&Xm.forEach(r=>{let i=Wc(r,n);if(!Gm(t,i)){zm(t,t,n,e,r,!0);return}let s=t[i];delete t[i],zm(t,t,n,e,r,!0),Cd(t,Wc(r,e),s)})},Hm=(t,e)=>{wW.forEach(n=>{let r=e[n];r&&Cd(t,n,r)})},xW=(t,e,n)=>(n.forEach(r=>{!hW(r)&&!gW(r)||Gm(e,r)&&(t[r]=e[r],_k(t,e,r,r))}),t);Nk.exports={SYMBOL_PREFIXES:Xm,PREFIX_BEFORE:Jm,PREFIX_AFTER_PROP:Ek,PREFIX_AFTER_COLON:kk,PREFIX_AFTER_VALUE:Fk,PREFIX_AFTER:Pk,PREFIX_BEFORE_ALL:Rk,PREFIX_AFTER_ALL:Ak,BRACKET_OPEN:mW,BRACKET_CLOSE:yW,CURLY_BRACKET_OPEN:CW,CURLY_BRACKET_CLOSE:vW,COLON:Ik,COMMA:SW,MINUS:DW,EMPTY:bW,UNDEFINED:xk,symbol:Wc,define:Cd,copy_comments:_k,swap_comments:TW,assign_non_prop_comments:Hm,assign(t,e,n){if(!Tk(t))throw new TypeError("Cannot convert undefined or null to object");if(!Tk(e))return t;if(n===xk)n=Object.keys(e),Hm(t,e);else if(pW(n))n.length===0&&Hm(t,e);else throw new TypeError("keys must be array or undefined");return xW(t,e,n)}}});var Qm=P((dte,qk)=>{var{isArray:EW}=yd(),{sort:kW}=bk(),{SYMBOL_PREFIXES:FW,UNDEFINED:Ok,symbol:PW,copy_comments:RW,swap_comments:Uk}=Kc(),AW=t=>{let{length:e}=t,n=0,r=e/2;for(;n<r;n++)Uk(t,n,e-n-1)},Lk=(t,e,n,r,i)=>{RW(t,e,n+r,n,i)},ta=(t,e,n,r,i,s)=>{if(i>0){let a=r;for(;a-- >0;)Lk(t,e,n+a,i,s);return}let o=0;for(;o<r;){let a=o++;Lk(t,e,n+a,i,s)}},Mk=(t,e)=>{FW.forEach(n=>{let r=PW(n,e);delete t[r]})},IW=(t,e)=>{let n=e;for(;n in t;)n=t[n];return n},Ym=class t extends Array{splice(...e){let{length:n}=this,r=super.splice(...e),[i,s,...o]=e;i<0&&(i+=n),arguments.length===1?s=n-i:s=Math.min(n-i,s);let{length:a}=o,c=a-s,u=i+s,f=n-u;return ta(this,this,u,f,c,!0),r}slice(...e){let{length:n}=this,r=super.slice(...e);if(!r.length)return new t;let[i,s]=e;return s===Ok?s=n:s<0&&(s+=n),i<0?i+=n:i===Ok&&(i=0),ta(r,this,i,s-i,-i),r}unshift(...e){let{length:n}=this,r=super.unshift(...e),{length:i}=e;return i>0&&ta(this,this,0,n,i,!0),r}shift(){let e=super.shift(),{length:n}=this;return Mk(this,0),ta(this,this,1,n,-1,!0),e}reverse(){return super.reverse(),AW(this),this}pop(){let e=super.pop();return Mk(this,this.length),e}concat(...e){let{length:n}=this,r=super.concat(...e);return e.length&&(ta(r,this,0,this.length,0),e.forEach(i=>{let s=n;n+=EW(i)?i.length:1,i instanceof t&&ta(r,i,0,i.length,s)})),r}sort(...e){let n=kW(this,...e.slice(0,1)),r=Object.create(null);return n.forEach((i,s)=>{if(i===s)return;let o=IW(r,i);o!==s&&(r[s]=o,Uk(this,s,o))}),this}};qk.exports={CommentArray:Ym}});var nF=P((fte,tF)=>{var _W=pk(),{CommentArray:NW}=Qm(),{PREFIX_BEFORE:Sd,PREFIX_AFTER_PROP:OW,PREFIX_AFTER_COLON:LW,PREFIX_AFTER_VALUE:Kk,PREFIX_AFTER:ey,PREFIX_BEFORE_ALL:MW,PREFIX_AFTER_ALL:UW,BRACKET_OPEN:qW,BRACKET_CLOSE:jk,CURLY_BRACKET_OPEN:jW,CURLY_BRACKET_CLOSE:Bk,COLON:$k,COMMA:Vk,MINUS:Wk,EMPTY:BW,UNDEFINED:wd,define:ty,assign_non_prop_comments:WW}=Kc(),Hk=t=>_W.tokenize(t,{comment:!0,loc:!0}),ny=[],rs=null,yi=null,ry=[],is,zk=!1,Gk=!1,$c=null,Vc=null,wn=null,Jk,bd=null,Xk=()=>{ry.length=ny.length=0,Vc=null,is=wd},KW=()=>{Xk(),$c.length=0,yi=rs=$c=Vc=wn=bd=null},iy=t=>Symbol.for(is!==wd?t+$k+is:t),sy=(t,e)=>bd?bd(t,e):e,Yk=()=>{let t=new SyntaxError(`Unexpected token ${wn.value.slice(0,1)}`);throw Object.assign(t,wn.loc.start),t},Qk=()=>{let t=new SyntaxError("Unexpected end of JSON input");throw Object.assign(t,Vc?Vc.loc.end:{line:1,column:0}),t},Ir=()=>{let t=$c[++Jk];Gk=wn&&t&&wn.loc.end.line===t.loc.start.line||!1,Vc=wn,wn=t},Zm=()=>(wn||Qk(),wn.type==="Punctuator"?wn.value:wn.type),so=t=>Zm()===t,vd=t=>{so(t)||Yk()},oy=t=>{ny.push(rs),rs=t},ay=()=>{rs=ny.pop()},Zk=()=>{if(!yi)return;let t=[];for(let n of yi)if(n.inline)t.push(n);else break;let{length:e}=t;e&&(e===yi.length?yi=null:yi.splice(0,e),ty(rs,iy(ey),t))},ns=t=>{yi&&(ty(rs,iy(t),yi),yi=null)},Ci=t=>{let e=[];for(;wn&&(so("LineComment")||so("BlockComment"));){let n={...wn,inline:Gk};e.push(n),Ir()}if(!zk&&e.length){if(t){ty(rs,iy(t),e);return}yi=e}},Dd=(t,e)=>{e&&ry.push(is),is=t},eF=()=>{is=ry.pop()},$W=()=>{let t={};oy(t),Dd(wd,!0);let e=!1,n;for(Ci();!so(Bk)&&!(e&&(ns(Kk),vd(Vk),Ir(),Ci(),Zk(),so(Bk)));)e=!0,vd("String"),n=JSON.parse(wn.value),Dd(n),ns(Sd),Ir(),Ci(OW),vd($k),Ir(),Ci(LW),t[n]=sy(n,cy()),Ci();return e&&ns(ey),Ir(),is=void 0,e||ns(Sd),ay(),eF(),t},VW=()=>{let t=new NW;oy(t),Dd(wd,!0);let e=!1,n=0;for(Ci();!so(jk)&&!(e&&(ns(Kk),vd(Vk),Ir(),Ci(),Zk(),so(jk)));)e=!0,Dd(n),ns(Sd),t[n]=sy(n,cy()),n++,Ci();return e&&ns(ey),Ir(),is=void 0,e||ns(Sd),ay(),eF(),t};function cy(){let t=Zm();if(t===jW)return Ir(),$W();if(t===qW)return Ir(),VW();let e=BW;t===Wk&&(Ir(),t=Zm(),e=Wk);let n;switch(t){case"String":case"Boolean":case"Null":case"Numeric":return n=wn.value,Ir(),JSON.parse(e+n);default:}}var HW=t=>Object(t)===t,zW=(t,e,n)=>{Xk(),$c=Hk(t),bd=e,zk=n,$c.length||Qk(),Jk=-1,Ir(),oy({}),Ci(MW);let r=cy();return Ci(UW),wn&&Yk(),!n&&r!==null&&(HW(r)||(r=new Object(r)),WW(r,rs)),ay(),r=sy("",r),KW(),r};tF.exports={parse:zW,tokenize:Hk}});var iF=P((pte,rF)=>{"use strict";var Oi="",uy;rF.exports=GW;function GW(t,e){if(typeof t!="string")throw new TypeError("expected a string");if(e===1)return t;if(e===2)return t+t;var n=t.length*e;if(uy!==t||typeof uy>"u")uy=t,Oi="";else if(Oi.length>=n)return Oi.substr(0,n);for(;n>Oi.length&&e>1;)e&1&&(Oi+=t),e>>=1,t+=t;return Oi+=t,Oi=Oi.substr(0,n),Oi}});var gF=P((hte,hF)=>{var{isArray:fy,isObject:sF,isFunction:dy,isNumber:JW,isString:XW}=yd(),YW=iF(),{PREFIX_BEFORE_ALL:QW,PREFIX_BEFORE:oF,PREFIX_AFTER_PROP:ZW,PREFIX_AFTER_COLON:eK,PREFIX_AFTER_VALUE:tK,PREFIX_AFTER:py,PREFIX_AFTER_ALL:nK,BRACKET_OPEN:rK,BRACKET_CLOSE:iK,CURLY_BRACKET_OPEN:sK,CURLY_BRACKET_CLOSE:oK,COLON:aK,COMMA:aF,EMPTY:gr,UNDEFINED:cK}=Kc(),ly=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,hy=" ",oo=`
`,cF="null",uF=t=>`${oF}:${t}`,uK=t=>`${ZW}:${t}`,lK=t=>`${eK}:${t}`,lF=t=>`${tK}:${t}`,dF=t=>`${py}:${t}`,dK={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},fK=t=>(ly.lastIndex=0,ly.test(t)?t.replace(ly,e=>{let n=dK[e];return typeof n=="string"?n:e}):t),fF=t=>`"${fK(t)}"`,pK=(t,e)=>e?`//${t}`:`/*${t}*/`,hr=(t,e,n,r)=>{let i=t[Symbol.for(e)];if(!i||!i.length)return gr;let s=!1,o=i.reduce((a,{inline:c,type:u,value:f})=>{let g=c?hy:oo+n;return s=u==="LineComment",a+g+pK(f,s)},gr);return r||s?o+oo+n:o},na=null,zc=gr,hK=()=>{na=null,zc=gr},Hc=(t,e,n)=>t?e?t+e.trim()+oo+n:t.trimRight()+oo+n:e?e.trimRight()+oo+n:gr,pF=(t,e,n)=>{let r=hr(e,oF,n+zc,!0);return Hc(r,t,n)},gK=(t,e)=>{let n=e+zc,{length:r}=t,i=gr,s=gr;for(let o=0;o<r;o++){o!==0&&(i+=aF);let a=Hc(s,hr(t,uF(o),n),n);i+=a||oo+n,i+=gy(o,t,n)||cF,i+=hr(t,lF(o),n),s=hr(t,dF(o),n)}return i+=Hc(s,hr(t,py,n),n),rK+pF(i,t,e)+iK},mK=(t,e)=>{if(!t)return"null";let n=e+zc,r=gr,i=gr,s=!0,o=fy(na)?na:Object.keys(t),a=c=>{let u=gy(c,t,n);if(u===cK)return;s||(r+=aF),s=!1;let f=Hc(i,hr(t,uF(c),n),n);r+=f||oo+n,r+=fF(c)+hr(t,uK(c),n)+aK+hr(t,lK(c),n)+hy+u+hr(t,lF(c),n),i=hr(t,dF(c),n)};return o.forEach(a),r+=Hc(i,hr(t,py,n),n),sK+pF(r,t,e)+oK};function gy(t,e,n){let r=e[t];switch(sF(r)&&dy(r.toJSON)&&(r=r.toJSON(t)),dy(na)&&(r=na.call(e,t,r)),typeof r){case"string":return fF(r);case"number":return Number.isFinite(r)?String(r):cF;case"boolean":case"null":return String(r);case"object":return fy(r)?gK(r,n):mK(r,n);default:}}var yK=t=>XW(t)?t:JW(t)?YW(hy,t):gr,{toString:CK}=Object.prototype,vK=["[object Number]","[object String]","[object Boolean]"],SK=t=>{if(typeof t!="object")return!1;let e=CK.call(t);return vK.includes(e)};hF.exports=(t,e,n)=>{let r=yK(n);if(!r)return JSON.stringify(t,e);!dy(e)&&!fy(e)&&(e=null),na=e,zc=r;let i=SK(t)?JSON.stringify(t):gy("",{"":t},gr);return hK(),sF(t)?hr(t,QW,gr).trimLeft()+i+hr(t,nK,gr).trimRight():i}});var yF=P((gte,mF)=>{var{parse:bK,tokenize:DK}=nF(),wK=gF(),{CommentArray:TK}=Qm(),{assign:xK}=Kc();mF.exports={parse:bK,stringify:wK,tokenize:DK,CommentArray:TK,assign:xK}});var Ye=P(vn=>{"use strict";var my=Symbol.for("yaml.alias"),CF=Symbol.for("yaml.document"),Td=Symbol.for("yaml.map"),vF=Symbol.for("yaml.pair"),yy=Symbol.for("yaml.scalar"),xd=Symbol.for("yaml.seq"),Li=Symbol.for("yaml.node.type"),EK=t=>!!t&&typeof t=="object"&&t[Li]===my,kK=t=>!!t&&typeof t=="object"&&t[Li]===CF,FK=t=>!!t&&typeof t=="object"&&t[Li]===Td,PK=t=>!!t&&typeof t=="object"&&t[Li]===vF,SF=t=>!!t&&typeof t=="object"&&t[Li]===yy,RK=t=>!!t&&typeof t=="object"&&t[Li]===xd;function bF(t){if(t&&typeof t=="object")switch(t[Li]){case Td:case xd:return!0}return!1}function AK(t){if(t&&typeof t=="object")switch(t[Li]){case my:case Td:case yy:case xd:return!0}return!1}var IK=t=>(SF(t)||bF(t))&&!!t.anchor;vn.ALIAS=my;vn.DOC=CF;vn.MAP=Td;vn.NODE_TYPE=Li;vn.PAIR=vF;vn.SCALAR=yy;vn.SEQ=xd;vn.hasAnchor=IK;vn.isAlias=EK;vn.isCollection=bF;vn.isDocument=kK;vn.isMap=FK;vn.isNode=AK;vn.isPair=PK;vn.isScalar=SF;vn.isSeq=RK});var Gc=P(Cy=>{"use strict";var rn=Ye(),Zn=Symbol("break visit"),DF=Symbol("skip children"),vi=Symbol("remove node");function Ed(t,e){let n=wF(e);rn.isDocument(t)?ra(null,t.contents,n,Object.freeze([t]))===vi&&(t.contents=null):ra(null,t,n,Object.freeze([]))}Ed.BREAK=Zn;Ed.SKIP=DF;Ed.REMOVE=vi;function ra(t,e,n,r){let i=TF(t,e,n,r);if(rn.isNode(i)||rn.isPair(i))return xF(t,r,i),ra(t,i,n,r);if(typeof i!="symbol"){if(rn.isCollection(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){let o=ra(s,e.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===Zn)return Zn;o===vi&&(e.items.splice(s,1),s-=1)}}}else if(rn.isPair(e)){r=Object.freeze(r.concat(e));let s=ra("key",e.key,n,r);if(s===Zn)return Zn;s===vi&&(e.key=null);let o=ra("value",e.value,n,r);if(o===Zn)return Zn;o===vi&&(e.value=null)}}return i}async function kd(t,e){let n=wF(e);rn.isDocument(t)?await ia(null,t.contents,n,Object.freeze([t]))===vi&&(t.contents=null):await ia(null,t,n,Object.freeze([]))}kd.BREAK=Zn;kd.SKIP=DF;kd.REMOVE=vi;async function ia(t,e,n,r){let i=await TF(t,e,n,r);if(rn.isNode(i)||rn.isPair(i))return xF(t,r,i),ia(t,i,n,r);if(typeof i!="symbol"){if(rn.isCollection(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){let o=await ia(s,e.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===Zn)return Zn;o===vi&&(e.items.splice(s,1),s-=1)}}}else if(rn.isPair(e)){r=Object.freeze(r.concat(e));let s=await ia("key",e.key,n,r);if(s===Zn)return Zn;s===vi&&(e.key=null);let o=await ia("value",e.value,n,r);if(o===Zn)return Zn;o===vi&&(e.value=null)}}return i}function wF(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function TF(t,e,n,r){if(typeof n=="function")return n(t,e,r);if(rn.isMap(e))return n.Map?.(t,e,r);if(rn.isSeq(e))return n.Seq?.(t,e,r);if(rn.isPair(e))return n.Pair?.(t,e,r);if(rn.isScalar(e))return n.Scalar?.(t,e,r);if(rn.isAlias(e))return n.Alias?.(t,e,r)}function xF(t,e,n){let r=e[e.length-1];if(rn.isCollection(r))r.items[t]=n;else if(rn.isPair(r))t==="key"?r.key=n:r.value=n;else if(rn.isDocument(r))r.contents=n;else{let i=rn.isAlias(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}Cy.visit=Ed;Cy.visitAsync=kd});var vy=P(kF=>{"use strict";var EF=Ye(),_K=Gc(),NK={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},OK=t=>t.replace(/[!,[\]{}]/g,e=>NK[e]),Jc=class t{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},t.defaultYaml,e),this.tags=Object.assign({},t.defaultTags,n)}clone(){let e=new t(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new t(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:t.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},t.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:t.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},t.defaultTags),this.atNextDocument=!1);let r=e.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;let[s,o]=r;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;let[s]=r;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{let o=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}let[,r,i]=e.match(/^(.*!)([^!]*)$/s);i||n(`The ${e} tag has no suffix`);let s=this.tags[r];if(s)try{return s+decodeURIComponent(i)}catch(o){return n(String(o)),null}return r==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[n,r]of Object.entries(this.tags))if(e.startsWith(r))return n+OK(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags),i;if(e&&r.length>0&&EF.isNode(e.contents)){let s={};_K.visit(e.contents,(o,a)=>{EF.isNode(a)&&a.tag&&(s[a.tag]=!0)}),i=Object.keys(s)}else i=[];for(let[s,o]of r)s==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(o)))&&n.push(`%TAG ${s} ${o}`);return n.join(`
`)}};Jc.defaultYaml={explicit:!1,version:"1.2"};Jc.defaultTags={"!!":"tag:yaml.org,2002:"};kF.Directives=Jc});var Fd=P(Xc=>{"use strict";var FF=Ye(),LK=Gc();function MK(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){let n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function PF(t){let e=new Set;return LK.visit(t,{Value(n,r){r.anchor&&e.add(r.anchor)}}),e}function RF(t,e){for(let n=1;;++n){let r=`${t}${n}`;if(!e.has(r))return r}}function UK(t,e){let n=[],r=new Map,i=null;return{onAnchor:s=>{n.push(s),i??(i=PF(t));let o=RF(e,i);return i.add(o),o},setAnchors:()=>{for(let s of n){let o=r.get(s);if(typeof o=="object"&&o.anchor&&(FF.isScalar(o.node)||FF.isCollection(o.node)))o.node.anchor=o.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:r}}Xc.anchorIsValid=MK;Xc.anchorNames=PF;Xc.createNodeAnchors=UK;Xc.findNewAnchor=RF});var Sy=P(AF=>{"use strict";function Yc(t,e,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,s=r.length;i<s;++i){let o=r[i],a=Yc(t,r,String(i),o);a===void 0?delete r[i]:a!==o&&(r[i]=a)}else if(r instanceof Map)for(let i of Array.from(r.keys())){let s=r.get(i),o=Yc(t,r,i,s);o===void 0?r.delete(i):o!==s&&r.set(i,o)}else if(r instanceof Set)for(let i of Array.from(r)){let s=Yc(t,r,i,i);s===void 0?r.delete(i):s!==i&&(r.delete(i),r.add(s))}else for(let[i,s]of Object.entries(r)){let o=Yc(t,r,i,s);o===void 0?delete r[i]:o!==s&&(r[i]=o)}return t.call(e,n,r)}AF.applyReviver=Yc});var ss=P(_F=>{"use strict";var qK=Ye();function IF(t,e,n){if(Array.isArray(t))return t.map((r,i)=>IF(r,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!qK.hasAnchor(t))return t.toJSON(e,n);let r={aliasCount:0,count:1,res:void 0};n.anchors.set(t,r),n.onCreate=s=>{r.res=s,delete n.onCreate};let i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!n?.keep?Number(t):t}_F.toJS=IF});var Pd=P(OF=>{"use strict";var jK=Sy(),NF=Ye(),BK=ss(),by=class{constructor(e){Object.defineProperty(this,NF.NODE_TYPE,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:r,onAnchor:i,reviver:s}={}){if(!NF.isDocument(e))throw new TypeError("A document argument is required");let o={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=BK.toJS(this,"",o);if(typeof i=="function")for(let{count:c,res:u}of o.anchors.values())i(u,c);return typeof s=="function"?jK.applyReviver(s,{"":a},"",a):a}};OF.NodeBase=by});var Qc=P(LF=>{"use strict";var WK=Fd(),KK=Gc(),sa=Ye(),$K=Pd(),VK=ss(),Dy=class extends $K.NodeBase{constructor(e){super(sa.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let r;n?.aliasResolveCache?r=n.aliasResolveCache:(r=[],KK.visit(e,{Node:(s,o)=>{(sa.isAlias(o)||sa.hasAnchor(o))&&r.push(o)}}),n&&(n.aliasResolveCache=r));let i;for(let s of r){if(s===this)break;s.anchor===this.source&&(i=s)}return i}toJSON(e,n){if(!n)return{source:this.source};let{anchors:r,doc:i,maxAliasCount:s}=n,o=this.resolve(i,n);if(!o){let c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let a=r.get(o);if(a||(VK.toJS(o,null,n),a=r.get(o)),!a||a.res===void 0){let c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Rd(i,o,r)),a.count*a.aliasCount>s)){let c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return a.res}toString(e,n,r){let i=`*${this.source}`;if(e){if(WK.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return`${i} `}return i}};function Rd(t,e,n){if(sa.isAlias(e)){let r=e.resolve(t),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(sa.isCollection(e)){let r=0;for(let i of e.items){let s=Rd(t,i,n);s>r&&(r=s)}return r}else if(sa.isPair(e)){let r=Rd(t,e.key,n),i=Rd(t,e.value,n);return Math.max(r,i)}return 1}LF.Alias=Dy});var Xt=P(wy=>{"use strict";var HK=Ye(),zK=Pd(),GK=ss(),JK=t=>!t||typeof t!="function"&&typeof t!="object",os=class extends zK.NodeBase{constructor(e){super(HK.SCALAR),this.value=e}toJSON(e,n){return n?.keep?this.value:GK.toJS(this.value,e,n)}toString(){return String(this.value)}};os.BLOCK_FOLDED="BLOCK_FOLDED";os.BLOCK_LITERAL="BLOCK_LITERAL";os.PLAIN="PLAIN";os.QUOTE_DOUBLE="QUOTE_DOUBLE";os.QUOTE_SINGLE="QUOTE_SINGLE";wy.Scalar=os;wy.isScalarValue=JK});var Zc=P(UF=>{"use strict";var XK=Qc(),ao=Ye(),MF=Xt(),YK="tag:yaml.org,2002:";function QK(t,e,n){if(e){let r=n.filter(s=>s.tag===e),i=r.find(s=>!s.format)??r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(r=>r.identify?.(t)&&!r.format)}function ZK(t,e,n){if(ao.isDocument(t)&&(t=t.contents),ao.isNode(t))return t;if(ao.isPair(t)){let g=n.schema[ao.MAP].createNode?.(n.schema,null,n);return g.items.push(t),g}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());let{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:o,sourceObjects:a}=n,c;if(r&&t&&typeof t=="object"){if(c=a.get(t),c)return c.anchor??(c.anchor=i(t)),new XK.Alias(c.anchor);c={anchor:null,node:null},a.set(t,c)}e?.startsWith("!!")&&(e=YK+e.slice(2));let u=QK(t,e,o.tags);if(!u){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){let g=new MF.Scalar(t);return c&&(c.node=g),g}u=t instanceof Map?o[ao.MAP]:Symbol.iterator in Object(t)?o[ao.SEQ]:o[ao.MAP]}s&&(s(u),delete n.onTagObj);let f=u?.createNode?u.createNode(n.schema,t,n):typeof u?.nodeClass?.from=="function"?u.nodeClass.from(n.schema,t,n):new MF.Scalar(t);return e?f.tag=e:u.default||(f.tag=u.tag),c&&(c.node=f),f}UF.createNode=ZK});var Id=P(Ad=>{"use strict";var e$=Zc(),Si=Ye(),t$=Pd();function Ty(t,e,n){let r=n;for(let i=e.length-1;i>=0;--i){let s=e[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){let o=[];o[s]=r,r=o}else r=new Map([[s,r]])}return e$.createNode(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}var qF=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done,xy=class extends t$.NodeBase{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){let n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(r=>Si.isNode(r)||Si.isPair(r)?r.clone(e):r),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(qF(e))this.add(n);else{let[r,...i]=e,s=this.get(r,!0);if(Si.isCollection(s))s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,Ty(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(e){let[n,...r]=e;if(r.length===0)return this.delete(n);let i=this.get(n,!0);if(Si.isCollection(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(e,n){let[r,...i]=e,s=this.get(r,!0);return i.length===0?!n&&Si.isScalar(s)?s.value:s:Si.isCollection(s)?s.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!Si.isPair(n))return!1;let r=n.value;return r==null||e&&Si.isScalar(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){let[n,...r]=e;if(r.length===0)return this.has(n);let i=this.get(n,!0);return Si.isCollection(i)?i.hasIn(r):!1}setIn(e,n){let[r,...i]=e;if(i.length===0)this.set(r,n);else{let s=this.get(r,!0);if(Si.isCollection(s))s.setIn(i,n);else if(s===void 0&&this.schema)this.set(r,Ty(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}};Ad.Collection=xy;Ad.collectionFromPath=Ty;Ad.isEmptyPath=qF});var eu=P(_d=>{"use strict";var n$=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Ey(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}var r$=(t,e,n)=>t.endsWith(`
`)?Ey(n,e):n.includes(`
`)?`
`+Ey(n,e):(t.endsWith(" ")?"":" ")+n;_d.indentComment=Ey;_d.lineComment=r$;_d.stringifyComment=n$});var BF=P(tu=>{"use strict";var i$="flow",ky="block",Nd="quoted";function s$(t,e,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return t;i<s&&(s=0);let c=Math.max(1+s,1+i-e.length);if(t.length<=c)return t;let u=[],f={},g=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):g=i-r);let p,l,d=!1,h=-1,m=-1,C=-1;n===ky&&(h=jF(t,h,e.length),h!==-1&&(g=h+c));for(let T;T=t[h+=1];){if(n===Nd&&T==="\\"){switch(m=h,t[h+1]){case"x":h+=3;break;case"u":h+=5;break;case"U":h+=9;break;default:h+=1}C=h}if(T===`
`)n===ky&&(h=jF(t,h,e.length)),g=h+e.length+c,p=void 0;else{if(T===" "&&l&&l!==" "&&l!==`
`&&l!=="	"){let k=t[h+1];k&&k!==" "&&k!==`
`&&k!=="	"&&(p=h)}if(h>=g)if(p)u.push(p),g=p+c,p=void 0;else if(n===Nd){for(;l===" "||l==="	";)l=T,T=t[h+=1],d=!0;let k=h>C+1?h-2:m-1;if(f[k])return t;u.push(k),f[k]=!0,g=k+c,p=void 0}else d=!0}l=T}if(d&&a&&a(),u.length===0)return t;o&&o();let D=t.slice(0,u[0]);for(let T=0;T<u.length;++T){let k=u[T],I=u[T+1]||t.length;k===0?D=`
${e}${t.slice(0,I)}`:(n===Nd&&f[k]&&(D+=`${t[k]}\\`),D+=`
${e}${t.slice(k+1,I)}`)}return D}function jF(t,e,n){let r=e,i=e+1,s=t[i];for(;s===" "||s==="	";)if(e<i+n)s=t[++e];else{do s=t[++e];while(s&&s!==`
`);r=e,i=e+1,s=t[i]}return r}tu.FOLD_BLOCK=ky;tu.FOLD_FLOW=i$;tu.FOLD_QUOTED=Nd;tu.foldFlowLines=s$});var ru=P(WF=>{"use strict";var Jr=Xt(),as=BF(),Ld=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Md=t=>/^(%|---|\.\.\.)/m.test(t);function o$(t,e,n){if(!e||e<0)return!1;let r=e-n,i=t.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(t[s]===`
`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1}return!0}function nu(t,e){let n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;let{implicitKey:r}=e,i=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(Md(t)?"  ":""),o="",a=0;for(let c=0,u=n[c];u;u=n[++c])if(u===" "&&n[c+1]==="\\"&&n[c+2]==="n"&&(o+=n.slice(a,c)+"\\ ",c+=1,a=c,u="\\"),u==="\\")switch(n[c+1]){case"u":{o+=n.slice(a,c);let f=n.substr(c+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=n.substr(c,6)}c+=5,a=c+1}break;case"n":if(r||n[c+2]==='"'||n.length<i)c+=1;else{for(o+=n.slice(a,c)+`

`;n[c+2]==="\\"&&n[c+3]==="n"&&n[c+4]!=='"';)o+=`
`,c+=2;o+=s,n[c+2]===" "&&(o+="\\"),c+=1,a=c+1}break;default:c+=1}return o=a?o+n.slice(a):n,r?o:as.foldFlowLines(o,s,as.FOLD_QUOTED,Ld(e,!1))}function Fy(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return nu(t,e);let n=e.indent||(Md(t)?"  ":""),r="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?r:as.foldFlowLines(r,n,as.FOLD_FLOW,Ld(e,!1))}function oa(t,e){let{singleQuote:n}=e.options,r;if(n===!1)r=nu;else{let i=t.includes('"'),s=t.includes("'");i&&!s?r=Fy:s&&!i?r=nu:r=n?Fy:nu}return r(t,e)}var Py;try{Py=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{Py=/\n+(?!\n|$)/g}function Od({comment:t,type:e,value:n},r,i,s){let{blockQuote:o,commentString:a,lineWidth:c}=r.options;if(!o||/\n[\t ]+$/.test(n))return oa(n,r);let u=r.indent||(r.forceBlockIndent||Md(n)?"  ":""),f=o==="literal"?!0:o==="folded"||e===Jr.Scalar.BLOCK_FOLDED?!1:e===Jr.Scalar.BLOCK_LITERAL?!0:!o$(n,c,u.length);if(!n)return f?`|
`:`>
`;let g,p;for(p=n.length;p>0;--p){let I=n[p-1];if(I!==`
`&&I!=="	"&&I!==" ")break}let l=n.substring(p),d=l.indexOf(`
`);d===-1?g="-":n===l||d!==l.length-1?(g="+",s&&s()):g="",l&&(n=n.slice(0,-l.length),l[l.length-1]===`
`&&(l=l.slice(0,-1)),l=l.replace(Py,`$&${u}`));let h=!1,m,C=-1;for(m=0;m<n.length;++m){let I=n[m];if(I===" ")h=!0;else if(I===`
`)C=m;else break}let D=n.substring(0,C<m?C+1:m);D&&(n=n.substring(D.length),D=D.replace(/\n+/g,`$&${u}`));let k=(h?u?"2":"1":"")+g;if(t&&(k+=" "+a(t.replace(/ ?[\r\n]+/g," ")),i&&i()),!f){let I=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`),B=!1,W=Ld(r,!0);o!=="folded"&&e!==Jr.Scalar.BLOCK_FOLDED&&(W.onOverflow=()=>{B=!0});let j=as.foldFlowLines(`${D}${I}${l}`,u,as.FOLD_BLOCK,W);if(!B)return`>${k}
${u}${j}`}return n=n.replace(/\n+/g,`$&${u}`),`|${k}
${u}${D}${n}${l}`}function a$(t,e,n,r){let{type:i,value:s}=t,{actualString:o,implicitKey:a,indent:c,indentStep:u,inFlow:f}=e;if(a&&s.includes(`
`)||f&&/[[\]{},]/.test(s))return oa(s,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||f||!s.includes(`
`)?oa(s,e):Od(t,e,n,r);if(!a&&!f&&i!==Jr.Scalar.PLAIN&&s.includes(`
`))return Od(t,e,n,r);if(Md(s)){if(c==="")return e.forceBlockIndent=!0,Od(t,e,n,r);if(a&&c===u)return oa(s,e)}let g=s.replace(/\n+/g,`$&
${c}`);if(o){let p=h=>h.default&&h.tag!=="tag:yaml.org,2002:str"&&h.test?.test(g),{compat:l,tags:d}=e.doc.schema;if(d.some(p)||l?.some(p))return oa(s,e)}return a?g:as.foldFlowLines(g,c,as.FOLD_FLOW,Ld(e,!1))}function c$(t,e,n,r){let{implicitKey:i,inFlow:s}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)}),{type:a}=t;a!==Jr.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=Jr.Scalar.QUOTE_DOUBLE);let c=f=>{switch(f){case Jr.Scalar.BLOCK_FOLDED:case Jr.Scalar.BLOCK_LITERAL:return i||s?oa(o.value,e):Od(o,e,n,r);case Jr.Scalar.QUOTE_DOUBLE:return nu(o.value,e);case Jr.Scalar.QUOTE_SINGLE:return Fy(o.value,e);case Jr.Scalar.PLAIN:return a$(o,e,n,r);default:return null}},u=c(a);if(u===null){let{defaultKeyType:f,defaultStringType:g}=e.options,p=i&&f||g;if(u=c(p),u===null)throw new Error(`Unsupported default string type ${p}`)}return u}WF.stringifyString=c$});var iu=P(Ry=>{"use strict";var u$=Fd(),cs=Ye(),l$=eu(),d$=ru();function f$(t,e){let n=Object.assign({blockQuote:!0,commentString:l$.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e),r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function p$(t,e){if(e.tag){let i=t.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)??i[0]}let n,r;if(cs.isScalar(e)){r=e.value;let i=t.filter(s=>s.identify?.(r));if(i.length>1){let s=i.filter(o=>o.test);s.length>0&&(i=s)}n=i.find(s=>s.format===e.format)??i.find(s=>!s.format)}else r=e,n=t.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!n){let i=r?.constructor?.name??(r===null?"null":typeof r);throw new Error(`Tag not resolved for ${i} value`)}return n}function h$(t,e,{anchors:n,doc:r}){if(!r.directives)return"";let i=[],s=(cs.isScalar(t)||cs.isCollection(t))&&t.anchor;s&&u$.anchorIsValid(s)&&(n.add(s),i.push(`&${s}`));let o=t.tag??(e.default?null:e.tag);return o&&i.push(r.directives.tagString(o)),i.join(" ")}function g$(t,e,n,r){if(cs.isPair(t))return t.toString(e,n,r);if(cs.isAlias(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i,s=cs.isNode(t)?t:e.doc.createNode(t,{onTagObj:c=>i=c});i??(i=p$(e.doc.schema.tags,s));let o=h$(s,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);let a=typeof i.stringify=="function"?i.stringify(s,e,n,r):cs.isScalar(s)?d$.stringifyString(s,e,n,r):s.toString(e,n,r);return o?cs.isScalar(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}Ry.createStringifyContext=f$;Ry.stringify=g$});var HF=P(VF=>{"use strict";var Mi=Ye(),KF=Xt(),$F=iu(),su=eu();function m$({key:t,value:e},n,r,i){let{allNullValues:s,doc:o,indent:a,indentStep:c,options:{commentString:u,indentSeq:f,simpleKeys:g}}=n,p=Mi.isNode(t)&&t.comment||null;if(g){if(p)throw new Error("With simple keys, key nodes cannot have comments");if(Mi.isCollection(t)||!Mi.isNode(t)&&typeof t=="object"){let W="With simple keys, collection cannot be used as a key value";throw new Error(W)}}let l=!g&&(!t||p&&e==null&&!n.inFlow||Mi.isCollection(t)||(Mi.isScalar(t)?t.type===KF.Scalar.BLOCK_FOLDED||t.type===KF.Scalar.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!l&&(g||!s),indent:a+c});let d=!1,h=!1,m=$F.stringify(t,n,()=>d=!0,()=>h=!0);if(!l&&!n.inFlow&&m.length>1024){if(g)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");l=!0}if(n.inFlow){if(s||e==null)return d&&r&&r(),m===""?"?":l?`? ${m}`:m}else if(s&&!g||e==null&&l)return m=`? ${m}`,p&&!d?m+=su.lineComment(m,n.indent,u(p)):h&&i&&i(),m;d&&(p=null),l?(p&&(m+=su.lineComment(m,n.indent,u(p))),m=`? ${m}
${a}:`):(m=`${m}:`,p&&(m+=su.lineComment(m,n.indent,u(p))));let C,D,T;Mi.isNode(e)?(C=!!e.spaceBefore,D=e.commentBefore,T=e.comment):(C=!1,D=null,T=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!l&&!p&&Mi.isScalar(e)&&(n.indentAtStart=m.length+1),h=!1,!f&&c.length>=2&&!n.inFlow&&!l&&Mi.isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let k=!1,I=$F.stringify(e,n,()=>k=!0,()=>h=!0),B=" ";if(p||C||D){if(B=C?`
`:"",D){let W=u(D);B+=`
${su.indentComment(W,n.indent)}`}I===""&&!n.inFlow?B===`
`&&(B=`

`):B+=`
${n.indent}`}else if(!l&&Mi.isCollection(e)){let W=I[0],j=I.indexOf(`
`),re=j!==-1,ne=n.inFlow??e.flow??e.items.length===0;if(re||!ne){let V=!1;if(re&&(W==="&"||W==="!")){let N=I.indexOf(" ");W==="&"&&N!==-1&&N<j&&I[N+1]==="!"&&(N=I.indexOf(" ",N+1)),(N===-1||j<N)&&(V=!0)}V||(B=`
${n.indent}`)}}else(I===""||I[0]===`
`)&&(B="");return m+=B+I,n.inFlow?k&&r&&r():T&&!k?m+=su.lineComment(m,n.indent,u(T)):h&&i&&i(),m}VF.stringifyPair=m$});var Iy=P(Ay=>{"use strict";var zF=require("process");function y$(t,...e){t==="debug"&&console.log(...e)}function C$(t,e){(t==="debug"||t==="warn")&&(typeof zF.emitWarning=="function"?zF.emitWarning(e):console.warn(e))}Ay.debug=y$;Ay.warn=C$});var Bd=P(jd=>{"use strict";var ou=Ye(),GF=Xt(),Ud="<<",qd={identify:t=>t===Ud||typeof t=="symbol"&&t.description===Ud,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new GF.Scalar(Symbol(Ud)),{addToJSMap:JF}),stringify:()=>Ud},v$=(t,e)=>(qd.identify(e)||ou.isScalar(e)&&(!e.type||e.type===GF.Scalar.PLAIN)&&qd.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===qd.tag&&n.default);function JF(t,e,n){if(n=t&&ou.isAlias(n)?n.resolve(t.doc):n,ou.isSeq(n))for(let r of n.items)_y(t,e,r);else if(Array.isArray(n))for(let r of n)_y(t,e,r);else _y(t,e,n)}function _y(t,e,n){let r=t&&ou.isAlias(n)?n.resolve(t.doc):n;if(!ou.isMap(r))throw new Error("Merge sources must be maps or map aliases");let i=r.toJSON(null,t,Map);for(let[s,o]of i)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}jd.addMergeToJSMap=JF;jd.isMergeKey=v$;jd.merge=qd});var Oy=P(QF=>{"use strict";var S$=Iy(),XF=Bd(),b$=iu(),YF=Ye(),Ny=ss();function D$(t,e,{key:n,value:r}){if(YF.isNode(n)&&n.addToJSMap)n.addToJSMap(t,e,r);else if(XF.isMergeKey(t,n))XF.addMergeToJSMap(t,e,r);else{let i=Ny.toJS(n,"",t);if(e instanceof Map)e.set(i,Ny.toJS(r,i,t));else if(e instanceof Set)e.add(i);else{let s=w$(n,i,t),o=Ny.toJS(r,s,t);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o}}return e}function w$(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(YF.isNode(t)&&n?.doc){let r=b$.createStringifyContext(n.doc,{});r.anchors=new Set;for(let s of n.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;let i=t.toString(r);if(!n.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),S$.warn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}QF.addPairToJSMap=D$});var us=P(Ly=>{"use strict";var ZF=Zc(),T$=HF(),x$=Oy(),Wd=Ye();function E$(t,e,n){let r=ZF.createNode(t,void 0,n),i=ZF.createNode(e,void 0,n);return new Kd(r,i)}var Kd=class t{constructor(e,n=null){Object.defineProperty(this,Wd.NODE_TYPE,{value:Wd.PAIR}),this.key=e,this.value=n}clone(e){let{key:n,value:r}=this;return Wd.isNode(n)&&(n=n.clone(e)),Wd.isNode(r)&&(r=r.clone(e)),new t(n,r)}toJSON(e,n){let r=n?.mapAsMap?new Map:{};return x$.addPairToJSMap(n,r,this)}toString(e,n,r){return e?.doc?T$.stringifyPair(this,e,n,r):JSON.stringify(this)}};Ly.Pair=Kd;Ly.createPair=E$});var My=P(tP=>{"use strict";var co=Ye(),eP=iu(),$d=eu();function k$(t,e,n){return(e.inFlow??t.flow?P$:F$)(t,e,n)}function F$({comment:t,items:e},n,{blockItemPrefix:r,flowChars:i,itemIndent:s,onChompKeep:o,onComment:a}){let{indent:c,options:{commentString:u}}=n,f=Object.assign({},n,{indent:s,type:null}),g=!1,p=[];for(let d=0;d<e.length;++d){let h=e[d],m=null;if(co.isNode(h))!g&&h.spaceBefore&&p.push(""),Vd(n,p,h.commentBefore,g),h.comment&&(m=h.comment);else if(co.isPair(h)){let D=co.isNode(h.key)?h.key:null;D&&(!g&&D.spaceBefore&&p.push(""),Vd(n,p,D.commentBefore,g))}g=!1;let C=eP.stringify(h,f,()=>m=null,()=>g=!0);m&&(C+=$d.lineComment(C,s,u(m))),g&&m&&(g=!1),p.push(r+C)}let l;if(p.length===0)l=i.start+i.end;else{l=p[0];for(let d=1;d<p.length;++d){let h=p[d];l+=h?`
${c}${h}`:`
`}}return t?(l+=`
`+$d.indentComment(u(t),c),a&&a()):g&&o&&o(),l}function P$({items:t},e,{flowChars:n,itemIndent:r}){let{indent:i,indentStep:s,flowCollectionPadding:o,options:{commentString:a}}=e;r+=s;let c=Object.assign({},e,{indent:r,inFlow:!0,type:null}),u=!1,f=0,g=[];for(let d=0;d<t.length;++d){let h=t[d],m=null;if(co.isNode(h))h.spaceBefore&&g.push(""),Vd(e,g,h.commentBefore,!1),h.comment&&(m=h.comment);else if(co.isPair(h)){let D=co.isNode(h.key)?h.key:null;D&&(D.spaceBefore&&g.push(""),Vd(e,g,D.commentBefore,!1),D.comment&&(u=!0));let T=co.isNode(h.value)?h.value:null;T?(T.comment&&(m=T.comment),T.commentBefore&&(u=!0)):h.value==null&&D?.comment&&(m=D.comment)}m&&(u=!0);let C=eP.stringify(h,c,()=>m=null);d<t.length-1&&(C+=","),m&&(C+=$d.lineComment(C,r,a(m))),!u&&(g.length>f||C.includes(`
`))&&(u=!0),g.push(C),f=g.length}let{start:p,end:l}=n;if(g.length===0)return p+l;if(!u){let d=g.reduce((h,m)=>h+m.length+2,2);u=e.options.lineWidth>0&&d>e.options.lineWidth}if(u){let d=p;for(let h of g)d+=h?`
${s}${i}${h}`:`
`;return`${d}
${i}${l}`}else return`${p}${o}${g.join(" ")}${o}${l}`}function Vd({indent:t,options:{commentString:e}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){let s=$d.indentComment(e(r),t);n.push(s.trimStart())}}tP.stringifyCollection=k$});var ds=P(qy=>{"use strict";var R$=My(),A$=Oy(),I$=Id(),ls=Ye(),Hd=us(),_$=Xt();function au(t,e){let n=ls.isScalar(e)?e.value:e;for(let r of t)if(ls.isPair(r)&&(r.key===e||r.key===n||ls.isScalar(r.key)&&r.key.value===n))return r}var Uy=class extends I$.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(ls.MAP,e),this.items=[]}static from(e,n,r){let{keepUndefined:i,replacer:s}=r,o=new this(e),a=(c,u)=>{if(typeof s=="function")u=s.call(n,c,u);else if(Array.isArray(s)&&!s.includes(c))return;(u!==void 0||i)&&o.items.push(Hd.createPair(c,u,r))};if(n instanceof Map)for(let[c,u]of n)a(c,u);else if(n&&typeof n=="object")for(let c of Object.keys(n))a(c,n[c]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,n){let r;ls.isPair(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new Hd.Pair(e,e?.value):r=new Hd.Pair(e.key,e.value);let i=au(this.items,r.key),s=this.schema?.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);ls.isScalar(i.value)&&_$.isScalarValue(r.value)?i.value.value=r.value:i.value=r.value}else if(s){let o=this.items.findIndex(a=>s(r,a)<0);o===-1?this.items.push(r):this.items.splice(o,0,r)}else this.items.push(r)}delete(e){let n=au(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){let i=au(this.items,e)?.value;return(!n&&ls.isScalar(i)?i.value:i)??void 0}has(e){return!!au(this.items,e)}set(e,n){this.add(new Hd.Pair(e,n),!0)}toJSON(e,n,r){let i=r?new r:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(i);for(let s of this.items)A$.addPairToJSMap(n,i,s);return i}toString(e,n,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!ls.isPair(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),R$.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:n})}};qy.YAMLMap=Uy;qy.findPair=au});var aa=P(rP=>{"use strict";var N$=Ye(),nP=ds(),O$={collection:"map",default:!0,nodeClass:nP.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(t,e){return N$.isMap(t)||e("Expected a mapping for this tag"),t},createNode:(t,e,n)=>nP.YAMLMap.from(t,e,n)};rP.map=O$});var fs=P(iP=>{"use strict";var L$=Zc(),M$=My(),U$=Id(),Gd=Ye(),q$=Xt(),j$=ss(),jy=class extends U$.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Gd.SEQ,e),this.items=[]}add(e){this.items.push(e)}delete(e){let n=zd(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){let r=zd(e);if(typeof r!="number")return;let i=this.items[r];return!n&&Gd.isScalar(i)?i.value:i}has(e){let n=zd(e);return typeof n=="number"&&n<this.items.length}set(e,n){let r=zd(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);let i=this.items[r];Gd.isScalar(i)&&q$.isScalarValue(n)?i.value=n:this.items[r]=n}toJSON(e,n){let r=[];n?.onCreate&&n.onCreate(r);let i=0;for(let s of this.items)r.push(j$.toJS(s,String(i++),n));return r}toString(e,n,r){return e?M$.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}static from(e,n,r){let{replacer:i}=r,s=new this(e);if(n&&Symbol.iterator in Object(n)){let o=0;for(let a of n){if(typeof i=="function"){let c=n instanceof Set?a:String(o++);a=i.call(n,c,a)}s.items.push(L$.createNode(a,void 0,r))}}return s}};function zd(t){let e=Gd.isScalar(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}iP.YAMLSeq=jy});var ca=P(oP=>{"use strict";var B$=Ye(),sP=fs(),W$={collection:"seq",default:!0,nodeClass:sP.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(t,e){return B$.isSeq(t)||e("Expected a sequence for this tag"),t},createNode:(t,e,n)=>sP.YAMLSeq.from(t,e,n)};oP.seq=W$});var cu=P(aP=>{"use strict";var K$=ru(),$$={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,r){return e=Object.assign({actualString:!0},e),K$.stringifyString(t,e,n,r)}};aP.string=$$});var Jd=P(lP=>{"use strict";var cP=Xt(),uP={identify:t=>t==null,createNode:()=>new cP.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new cP.Scalar(null),stringify:({source:t},e)=>typeof t=="string"&&uP.test.test(t)?t:e.options.nullStr};lP.nullTag=uP});var By=P(fP=>{"use strict";var V$=Xt(),dP={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new V$.Scalar(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&dP.test.test(t)){let r=t[0]==="t"||t[0]==="T";if(e===r)return t}return e?n.options.trueStr:n.options.falseStr}};fP.boolTag=dP});var ua=P(pP=>{"use strict";function H$({format:t,minFractionDigits:e,tag:n,value:r}){if(typeof r=="bigint")return String(r);let i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(r);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=e-(s.length-o-1);for(;a-- >0;)s+="0"}return s}pP.stringifyNumber=H$});var Ky=P(Xd=>{"use strict";var z$=Xt(),Wy=ua(),G$={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Wy.stringifyNumber},J$={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():Wy.stringifyNumber(t)}},X$={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){let e=new z$.Scalar(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:Wy.stringifyNumber};Xd.float=X$;Xd.floatExp=J$;Xd.floatNaN=G$});var Vy=P(Qd=>{"use strict";var hP=ua(),Yd=t=>typeof t=="bigint"||Number.isInteger(t),$y=(t,e,n,{intAsBigInt:r})=>r?BigInt(t):parseInt(t.substring(e),n);function gP(t,e,n){let{value:r}=t;return Yd(r)&&r>=0?n+r.toString(e):hP.stringifyNumber(t)}var Y$={identify:t=>Yd(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>$y(t,2,8,n),stringify:t=>gP(t,8,"0o")},Q$={identify:Yd,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>$y(t,0,10,n),stringify:hP.stringifyNumber},Z$={identify:t=>Yd(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>$y(t,2,16,n),stringify:t=>gP(t,16,"0x")};Qd.int=Q$;Qd.intHex=Z$;Qd.intOct=Y$});var yP=P(mP=>{"use strict";var e3=aa(),t3=Jd(),n3=ca(),r3=cu(),i3=By(),Hy=Ky(),zy=Vy(),s3=[e3.map,n3.seq,r3.string,t3.nullTag,i3.boolTag,zy.intOct,zy.int,zy.intHex,Hy.floatNaN,Hy.floatExp,Hy.float];mP.schema=s3});var SP=P(vP=>{"use strict";var o3=Xt(),a3=aa(),c3=ca();function CP(t){return typeof t=="bigint"||Number.isInteger(t)}var Zd=({value:t})=>JSON.stringify(t),u3=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:Zd},{identify:t=>t==null,createNode:()=>new o3.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Zd},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:t=>t==="true",stringify:Zd},{identify:CP,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>CP(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:Zd}],l3={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},d3=[a3.map,c3.seq].concat(u3,l3);vP.schema=d3});var Jy=P(bP=>{"use strict";var uu=require("buffer"),Gy=Xt(),f3=ru(),p3={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof uu.Buffer=="function")return uu.Buffer.from(t,"base64");if(typeof atob=="function"){let n=atob(t.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},r,i,s){if(!n)return"";let o=n,a;if(typeof uu.Buffer=="function")a=o instanceof uu.Buffer?o.toString("base64"):uu.Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);a=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e??(e=Gy.Scalar.BLOCK_LITERAL),e!==Gy.Scalar.QUOTE_DOUBLE){let c=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(a.length/c),f=new Array(u);for(let g=0,p=0;g<u;++g,p+=c)f[g]=a.substr(p,c);a=f.join(e===Gy.Scalar.BLOCK_LITERAL?`
`:" ")}return f3.stringifyString({comment:t,type:e,value:a},r,i,s)}};bP.binary=p3});var nf=P(tf=>{"use strict";var ef=Ye(),Xy=us(),h3=Xt(),g3=fs();function DP(t,e){if(ef.isSeq(t))for(let n=0;n<t.items.length;++n){let r=t.items[n];if(!ef.isPair(r)){if(ef.isMap(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");let i=r.items[0]||new Xy.Pair(new h3.Scalar(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){let s=i.value??i.key;s.comment=s.comment?`${r.comment}
${s.comment}`:r.comment}r=i}t.items[n]=ef.isPair(r)?r:new Xy.Pair(r)}}else e("Expected a sequence for this tag");return t}function wP(t,e,n){let{replacer:r}=n,i=new g3.YAMLSeq(t);i.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof r=="function"&&(o=r.call(e,String(s++),o));let a,c;if(Array.isArray(o))if(o.length===2)a=o[0],c=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){let u=Object.keys(o);if(u.length===1)a=u[0],c=o[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=o;i.items.push(Xy.createPair(a,c,n))}return i}var m3={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:DP,createNode:wP};tf.createPairs=wP;tf.pairs=m3;tf.resolvePairs=DP});var Zy=P(Qy=>{"use strict";var TP=Ye(),Yy=ss(),lu=ds(),y3=fs(),xP=nf(),uo=class t extends y3.YAMLSeq{constructor(){super(),this.add=lu.YAMLMap.prototype.add.bind(this),this.delete=lu.YAMLMap.prototype.delete.bind(this),this.get=lu.YAMLMap.prototype.get.bind(this),this.has=lu.YAMLMap.prototype.has.bind(this),this.set=lu.YAMLMap.prototype.set.bind(this),this.tag=t.tag}toJSON(e,n){if(!n)return super.toJSON(e);let r=new Map;n?.onCreate&&n.onCreate(r);for(let i of this.items){let s,o;if(TP.isPair(i)?(s=Yy.toJS(i.key,"",n),o=Yy.toJS(i.value,s,n)):s=Yy.toJS(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}static from(e,n,r){let i=xP.createPairs(e,n,r),s=new this;return s.items=i.items,s}};uo.tag="tag:yaml.org,2002:omap";var C3={collection:"seq",identify:t=>t instanceof Map,nodeClass:uo,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){let n=xP.resolvePairs(t,e),r=[];for(let{key:i}of n.items)TP.isScalar(i)&&(r.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new uo,n)},createNode:(t,e,n)=>uo.from(t,e,n)};Qy.YAMLOMap=uo;Qy.omap=C3});var RP=P(eC=>{"use strict";var EP=Xt();function kP({value:t,source:e},n){return e&&(t?FP:PP).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}var FP={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new EP.Scalar(!0),stringify:kP},PP={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new EP.Scalar(!1),stringify:kP};eC.falseTag=PP;eC.trueTag=FP});var AP=P(rf=>{"use strict";var v3=Xt(),tC=ua(),S3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:tC.stringifyNumber},b3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():tC.stringifyNumber(t)}},D3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){let e=new v3.Scalar(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){let r=t.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length)}return e},stringify:tC.stringifyNumber};rf.float=D3;rf.floatExp=b3;rf.floatNaN=S3});var _P=P(fu=>{"use strict";var IP=ua(),du=t=>typeof t=="bigint"||Number.isInteger(t);function sf(t,e,n,{intAsBigInt:r}){let i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),r){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}let o=BigInt(t);return i==="-"?BigInt(-1)*o:o}let s=parseInt(t,n);return i==="-"?-1*s:s}function nC(t,e,n){let{value:r}=t;if(du(r)){let i=r.toString(e);return r<0?"-"+n+i.substr(1):n+i}return IP.stringifyNumber(t)}var w3={identify:du,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>sf(t,2,2,n),stringify:t=>nC(t,2,"0b")},T3={identify:du,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>sf(t,1,8,n),stringify:t=>nC(t,8,"0")},x3={identify:du,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>sf(t,0,10,n),stringify:IP.stringifyNumber},E3={identify:du,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>sf(t,2,16,n),stringify:t=>nC(t,16,"0x")};fu.int=x3;fu.intBin=w3;fu.intHex=E3;fu.intOct=T3});var iC=P(rC=>{"use strict";var cf=Ye(),of=us(),af=ds(),lo=class t extends af.YAMLMap{constructor(e){super(e),this.tag=t.tag}add(e){let n;cf.isPair(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new of.Pair(e.key,null):n=new of.Pair(e,null),af.findPair(this.items,n.key)||this.items.push(n)}get(e,n){let r=af.findPair(this.items,e);return!n&&cf.isPair(r)?cf.isScalar(r.key)?r.key.value:r.key:r}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);let r=af.findPair(this.items,e);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new of.Pair(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}static from(e,n,r){let{replacer:i}=r,s=new this(e);if(n&&Symbol.iterator in Object(n))for(let o of n)typeof i=="function"&&(o=i.call(n,o,o)),s.items.push(of.createPair(o,null,r));return s}};lo.tag="tag:yaml.org,2002:set";var k3={collection:"map",identify:t=>t instanceof Set,nodeClass:lo,default:!1,tag:"tag:yaml.org,2002:set",createNode:(t,e,n)=>lo.from(t,e,n),resolve(t,e){if(cf.isMap(t)){if(t.hasAllNullValues(!0))return Object.assign(new lo,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t}};rC.YAMLSet=lo;rC.set=k3});var oC=P(uf=>{"use strict";var F3=ua();function sC(t,e){let n=t[0],r=n==="-"||n==="+"?t.substring(1):t,i=o=>e?BigInt(o):Number(o),s=r.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return n==="-"?i(-1)*s:s}function NP(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return F3.stringifyNumber(t);let r="";e<0&&(r="-",e*=n(-1));let i=n(60),s=[e%i];return e<60?s.unshift(0):(e=(e-s[0])/i,s.unshift(e%i),e>=60&&(e=(e-s[0])/i,s.unshift(e))),r+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var P3={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>sC(t,n),stringify:NP},R3={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>sC(t,!1),stringify:NP},OP={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){let e=t.match(OP.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,n,r,i,s,o,a]=e.map(Number),c=e[7]?Number((e[7]+"00").substr(1,3)):0,u=Date.UTC(n,r-1,i,s||0,o||0,a||0,c),f=e[8];if(f&&f!=="Z"){let g=sC(f,!1);Math.abs(g)<30&&(g*=60),u-=6e4*g}return new Date(u)},stringify:({value:t})=>t?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};uf.floatTime=R3;uf.intTime=P3;uf.timestamp=OP});var UP=P(MP=>{"use strict";var A3=aa(),I3=Jd(),_3=ca(),N3=cu(),O3=Jy(),LP=RP(),aC=AP(),lf=_P(),L3=Bd(),M3=Zy(),U3=nf(),q3=iC(),cC=oC(),j3=[A3.map,_3.seq,N3.string,I3.nullTag,LP.trueTag,LP.falseTag,lf.intBin,lf.intOct,lf.int,lf.intHex,aC.floatNaN,aC.floatExp,aC.float,O3.binary,L3.merge,M3.omap,U3.pairs,q3.set,cC.intTime,cC.floatTime,cC.timestamp];MP.schema=j3});var GP=P(dC=>{"use strict";var WP=aa(),B3=Jd(),KP=ca(),W3=cu(),K3=By(),uC=Ky(),lC=Vy(),$3=yP(),V3=SP(),$P=Jy(),pu=Bd(),VP=Zy(),HP=nf(),qP=UP(),zP=iC(),df=oC(),jP=new Map([["core",$3.schema],["failsafe",[WP.map,KP.seq,W3.string]],["json",V3.schema],["yaml11",qP.schema],["yaml-1.1",qP.schema]]),BP={binary:$P.binary,bool:K3.boolTag,float:uC.float,floatExp:uC.floatExp,floatNaN:uC.floatNaN,floatTime:df.floatTime,int:lC.int,intHex:lC.intHex,intOct:lC.intOct,intTime:df.intTime,map:WP.map,merge:pu.merge,null:B3.nullTag,omap:VP.omap,pairs:HP.pairs,seq:KP.seq,set:zP.set,timestamp:df.timestamp},H3={"tag:yaml.org,2002:binary":$P.binary,"tag:yaml.org,2002:merge":pu.merge,"tag:yaml.org,2002:omap":VP.omap,"tag:yaml.org,2002:pairs":HP.pairs,"tag:yaml.org,2002:set":zP.set,"tag:yaml.org,2002:timestamp":df.timestamp};function z3(t,e,n){let r=jP.get(e);if(r&&!t)return n&&!r.includes(pu.merge)?r.concat(pu.merge):r.slice();let i=r;if(!i)if(Array.isArray(t))i=[];else{let s=Array.from(jP.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(let s of t)i=i.concat(s);else typeof t=="function"&&(i=t(i.slice()));return n&&(i=i.concat(pu.merge)),i.reduce((s,o)=>{let a=typeof o=="string"?BP[o]:o;if(!a){let c=JSON.stringify(o),u=Object.keys(BP).map(f=>JSON.stringify(f)).join(", ");throw new Error(`Unknown custom tag ${c}; use one of ${u}`)}return s.includes(a)||s.push(a),s},[])}dC.coreKnownTags=H3;dC.getTags=z3});var hC=P(JP=>{"use strict";var fC=Ye(),G3=aa(),J3=ca(),X3=cu(),ff=GP(),Y3=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,pC=class t{constructor({compat:e,customTags:n,merge:r,resolveKnownTags:i,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?ff.getTags(e,"compat"):e?ff.getTags(null,e):null,this.name=typeof s=="string"&&s||"core",this.knownTags=i?ff.coreKnownTags:{},this.tags=ff.getTags(n,this.name,r),this.toStringOptions=a??null,Object.defineProperty(this,fC.MAP,{value:G3.map}),Object.defineProperty(this,fC.SCALAR,{value:X3.string}),Object.defineProperty(this,fC.SEQ,{value:J3.seq}),this.sortMapEntries=typeof o=="function"?o:o===!0?Y3:null}clone(){let e=Object.create(t.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};JP.Schema=pC});var YP=P(XP=>{"use strict";var Q3=Ye(),gC=iu(),hu=eu();function Z3(t,e){let n=[],r=e.directives===!0;if(e.directives!==!1&&t.directives){let c=t.directives.toString(t);c?(n.push(c),r=!0):t.directives.docStart&&(r=!0)}r&&n.push("---");let i=gC.createStringifyContext(t,e),{commentString:s}=i.options;if(t.commentBefore){n.length!==1&&n.unshift("");let c=s(t.commentBefore);n.unshift(hu.indentComment(c,""))}let o=!1,a=null;if(t.contents){if(Q3.isNode(t.contents)){if(t.contents.spaceBefore&&r&&n.push(""),t.contents.commentBefore){let f=s(t.contents.commentBefore);n.push(hu.indentComment(f,""))}i.forceBlockIndent=!!t.comment,a=t.contents.comment}let c=a?void 0:()=>o=!0,u=gC.stringify(t.contents,i,()=>a=null,c);a&&(u+=hu.lineComment(u,"",s(a))),(u[0]==="|"||u[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${u}`:n.push(u)}else n.push(gC.stringify(t.contents,i));if(t.directives?.docEnd)if(t.comment){let c=s(t.comment);c.includes(`
`)?(n.push("..."),n.push(hu.indentComment(c,""))):n.push(`... ${c}`)}else n.push("...");else{let c=t.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&n[n.length-1]!==""&&n.push(""),n.push(hu.indentComment(s(c),"")))}return n.join(`
`)+`
`}XP.stringifyDocument=Z3});var gu=P(QP=>{"use strict";var eV=Qc(),la=Id(),_r=Ye(),tV=us(),nV=ss(),rV=hC(),iV=YP(),mC=Fd(),sV=Sy(),oV=Zc(),yC=vy(),CC=class t{constructor(e,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,_r.NODE_TYPE,{value:_r.DOC});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);let s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},r);this.options=s;let{version:o}=s;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new yC.Directives({version:o}),this.setSchema(o,r),this.contents=e===void 0?null:this.createNode(e,i,r)}clone(){let e=Object.create(t.prototype,{[_r.NODE_TYPE]:{value:_r.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=_r.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){da(this.contents)&&this.contents.add(e)}addIn(e,n){da(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){let r=mC.anchorNames(this);e.anchor=!n||r.has(n)?mC.findNewAnchor(n||"a",r):n}return new eV.Alias(e.anchor)}createNode(e,n,r){let i;if(typeof n=="function")e=n.call({"":e},"",e),i=n;else if(Array.isArray(n)){let m=D=>typeof D=="number"||D instanceof String||D instanceof Number,C=n.filter(m).map(String);C.length>0&&(n=n.concat(C)),i=n}else r===void 0&&n&&(r=n,n=void 0);let{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:c,onTagObj:u,tag:f}=r??{},{onAnchor:g,setAnchors:p,sourceObjects:l}=mC.createNodeAnchors(this,o||"a"),d={aliasDuplicateObjects:s??!0,keepUndefined:c??!1,onAnchor:g,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:l},h=oV.createNode(e,f,d);return a&&_r.isCollection(h)&&(h.flow=!0),p(),h}createPair(e,n,r={}){let i=this.createNode(e,null,r),s=this.createNode(n,null,r);return new tV.Pair(i,s)}delete(e){return da(this.contents)?this.contents.delete(e):!1}deleteIn(e){return la.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):da(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return _r.isCollection(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return la.isEmptyPath(e)?!n&&_r.isScalar(this.contents)?this.contents.value:this.contents:_r.isCollection(this.contents)?this.contents.getIn(e,n):void 0}has(e){return _r.isCollection(this.contents)?this.contents.has(e):!1}hasIn(e){return la.isEmptyPath(e)?this.contents!==void 0:_r.isCollection(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=la.collectionFromPath(this.schema,[e],n):da(this.contents)&&this.contents.set(e,n)}setIn(e,n){la.isEmptyPath(e)?this.contents=n:this.contents==null?this.contents=la.collectionFromPath(this.schema,Array.from(e),n):da(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new yC.Directives({version:"1.1"}),r={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new yC.Directives({version:e}),r={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{let i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new rV.Schema(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:s,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},c=nV.toJS(this.contents,n??"",a);if(typeof s=="function")for(let{count:u,res:f}of a.anchors.values())s(f,u);return typeof o=="function"?sV.applyReviver(o,{"":c},"",c):c}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return iV.stringifyDocument(this,e)}};function da(t){if(_r.isCollection(t))return!0;throw new Error("Expected a YAML collection as document contents")}QP.Document=CC});var Cu=P(yu=>{"use strict";var mu=class extends Error{constructor(e,n,r,i){super(),this.name=e,this.code=r,this.message=i,this.pos=n}},vC=class extends mu{constructor(e,n,r){super("YAMLParseError",e,n,r)}},SC=class extends mu{constructor(e,n,r){super("YAMLWarning",e,n,r)}},aV=(t,e)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(a=>e.linePos(a));let{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let s=i-1,o=t.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){let a=Math.min(s-39,o.length-79);o="\u2026"+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),r>1&&/^ *$/.test(o.substring(0,s))){let a=t.substring(e.lineStarts[r-2],e.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),o=a+o}if(/[^ ]/.test(o)){let a=1,c=n.linePos[1];c&&c.line===r&&c.col>i&&(a=Math.max(1,Math.min(c.col-i,80-s)));let u=" ".repeat(s)+"^".repeat(a);n.message+=`:

${o}
${u}
`}};yu.YAMLError=mu;yu.YAMLParseError=vC;yu.YAMLWarning=SC;yu.prettifyError=aV});var vu=P(ZP=>{"use strict";function cV(t,{flow:e,indicator:n,next:r,offset:i,onError:s,parentIndent:o,startOnNewline:a}){let c=!1,u=a,f=a,g="",p="",l=!1,d=!1,h=null,m=null,C=null,D=null,T=null,k=null,I=null;for(let j of t)switch(d&&(j.type!=="space"&&j.type!=="newline"&&j.type!=="comma"&&s(j.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),d=!1),h&&(u&&j.type!=="comment"&&j.type!=="newline"&&s(h,"TAB_AS_INDENT","Tabs are not allowed as indentation"),h=null),j.type){case"space":!e&&(n!=="doc-start"||r?.type!=="flow-collection")&&j.source.includes("	")&&(h=j),f=!0;break;case"comment":{f||s(j,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let re=j.source.substring(1)||" ";g?g+=p+re:g=re,p="",u=!1;break}case"newline":u?g?g+=j.source:(!k||n!=="seq-item-ind")&&(c=!0):p+=j.source,u=!0,l=!0,(m||C)&&(D=j),f=!0;break;case"anchor":m&&s(j,"MULTIPLE_ANCHORS","A node can have at most one anchor"),j.source.endsWith(":")&&s(j.offset+j.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=j,I??(I=j.offset),u=!1,f=!1,d=!0;break;case"tag":{C&&s(j,"MULTIPLE_TAGS","A node can have at most one tag"),C=j,I??(I=j.offset),u=!1,f=!1,d=!0;break}case n:(m||C)&&s(j,"BAD_PROP_ORDER",`Anchors and tags must be after the ${j.source} indicator`),k&&s(j,"UNEXPECTED_TOKEN",`Unexpected ${j.source} in ${e??"collection"}`),k=j,u=n==="seq-item-ind"||n==="explicit-key-ind",f=!1;break;case"comma":if(e){T&&s(j,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),T=j,u=!1,f=!1;break}default:s(j,"UNEXPECTED_TOKEN",`Unexpected ${j.type} token`),u=!1,f=!1}let B=t[t.length-1],W=B?B.offset+B.source.length:i;return d&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h&&(u&&h.indent<=o||r?.type==="block-map"||r?.type==="block-seq")&&s(h,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:T,found:k,spaceBefore:c,comment:g,hasNewline:l,anchor:m,tag:C,newlineAfterProp:D,end:W,start:I??W}}ZP.resolveProps=cV});var pf=P(eR=>{"use strict";function bC(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(let e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(let e of t.items){for(let n of e.start)if(n.type==="newline")return!0;if(e.sep){for(let n of e.sep)if(n.type==="newline")return!0}if(bC(e.key)||bC(e.value))return!0}return!1;default:return!0}}eR.containsNewline=bC});var DC=P(tR=>{"use strict";var uV=pf();function lV(t,e,n){if(e?.type==="flow-collection"){let r=e.end[0];r.indent===t&&(r.source==="]"||r.source==="}")&&uV.containsNewline(e)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}tR.flowIndentCheck=lV});var wC=P(rR=>{"use strict";var nR=Ye();function dV(t,e,n){let{uniqueKeys:r}=t.options;if(r===!1)return!1;let i=typeof r=="function"?r:(s,o)=>s===o||nR.isScalar(s)&&nR.isScalar(o)&&s.value===o.value;return e.some(s=>i(s.key,n))}rR.mapIncludes=dV});var uR=P(cR=>{"use strict";var iR=us(),fV=ds(),sR=vu(),pV=pf(),oR=DC(),hV=wC(),aR="All mapping items must start at the same column";function gV({composeNode:t,composeEmptyNode:e},n,r,i,s){let o=s?.nodeClass??fV.YAMLMap,a=new o(n.schema);n.atRoot&&(n.atRoot=!1);let c=r.offset,u=null;for(let f of r.items){let{start:g,key:p,sep:l,value:d}=f,h=sR.resolveProps(g,{indicator:"explicit-key-ind",next:p??l?.[0],offset:c,onError:i,parentIndent:r.indent,startOnNewline:!0}),m=!h.found;if(m){if(p&&(p.type==="block-seq"?i(c,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==r.indent&&i(c,"BAD_INDENT",aR)),!h.anchor&&!h.tag&&!l){u=h.end,h.comment&&(a.comment?a.comment+=`
`+h.comment:a.comment=h.comment);continue}(h.newlineAfterProp||pV.containsNewline(p))&&i(p??g[g.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else h.found?.indent!==r.indent&&i(c,"BAD_INDENT",aR);n.atKey=!0;let C=h.end,D=p?t(n,p,h,i):e(n,C,g,null,h,i);n.schema.compat&&oR.flowIndentCheck(r.indent,p,i),n.atKey=!1,hV.mapIncludes(n,a.items,D)&&i(C,"DUPLICATE_KEY","Map keys must be unique");let T=sR.resolveProps(l??[],{indicator:"map-value-ind",next:d,offset:D.range[2],onError:i,parentIndent:r.indent,startOnNewline:!p||p.type==="block-scalar"});if(c=T.end,T.found){m&&(d?.type==="block-map"&&!T.hasNewline&&i(c,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&h.start<T.found.offset-1024&&i(D.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let k=d?t(n,d,T,i):e(n,c,l,null,T,i);n.schema.compat&&oR.flowIndentCheck(r.indent,d,i),c=k.range[2];let I=new iR.Pair(D,k);n.options.keepSourceTokens&&(I.srcToken=f),a.items.push(I)}else{m&&i(D.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),T.comment&&(D.comment?D.comment+=`
`+T.comment:D.comment=T.comment);let k=new iR.Pair(D);n.options.keepSourceTokens&&(k.srcToken=f),a.items.push(k)}}return u&&u<c&&i(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,c,u??c],a}cR.resolveBlockMap=gV});var dR=P(lR=>{"use strict";var mV=fs(),yV=vu(),CV=DC();function vV({composeNode:t,composeEmptyNode:e},n,r,i,s){let o=s?.nodeClass??mV.YAMLSeq,a=new o(n.schema);n.atRoot&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let c=r.offset,u=null;for(let{start:f,value:g}of r.items){let p=yV.resolveProps(f,{indicator:"seq-item-ind",next:g,offset:c,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!p.found)if(p.anchor||p.tag||g)g&&g.type==="block-seq"?i(p.end,"BAD_INDENT","All sequence items must start at the same column"):i(c,"MISSING_CHAR","Sequence item without - indicator");else{u=p.end,p.comment&&(a.comment=p.comment);continue}let l=g?t(n,g,p,i):e(n,p.end,f,null,p,i);n.schema.compat&&CV.flowIndentCheck(r.indent,g,i),c=l.range[2],a.items.push(l)}return a.range=[r.offset,c,u??c],a}lR.resolveBlockSeq=vV});var fa=P(fR=>{"use strict";function SV(t,e,n,r){let i="";if(t){let s=!1,o="";for(let a of t){let{source:c,type:u}=a;switch(u){case"space":s=!0;break;case"comment":{n&&!s&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let f=c.substring(1)||" ";i?i+=o+f:i=f,o="";break}case"newline":i&&(o+=c),s=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`)}e+=c.length}}return{comment:i,offset:e}}fR.resolveEnd=SV});var mR=P(gR=>{"use strict";var bV=Ye(),DV=us(),pR=ds(),wV=fs(),TV=fa(),hR=vu(),xV=pf(),EV=wC(),TC="Block collections are not allowed within flow collections",xC=t=>t&&(t.type==="block-map"||t.type==="block-seq");function kV({composeNode:t,composeEmptyNode:e},n,r,i,s){let o=r.start.source==="{",a=o?"flow map":"flow sequence",c=s?.nodeClass??(o?pR.YAMLMap:wV.YAMLSeq),u=new c(n.schema);u.flow=!0;let f=n.atRoot;f&&(n.atRoot=!1),n.atKey&&(n.atKey=!1);let g=r.offset+r.start.source.length;for(let m=0;m<r.items.length;++m){let C=r.items[m],{start:D,key:T,sep:k,value:I}=C,B=hR.resolveProps(D,{flow:a,indicator:"explicit-key-ind",next:T??k?.[0],offset:g,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!B.found){if(!B.anchor&&!B.tag&&!k&&!I){m===0&&B.comma?i(B.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):m<r.items.length-1&&i(B.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),B.comment&&(u.comment?u.comment+=`
`+B.comment:u.comment=B.comment),g=B.end;continue}!o&&n.options.strict&&xV.containsNewline(T)&&i(T,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(m===0)B.comma&&i(B.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(B.comma||i(B.start,"MISSING_CHAR",`Missing , between ${a} items`),B.comment){let W="";e:for(let j of D)switch(j.type){case"comma":case"space":break;case"comment":W=j.source.substring(1);break e;default:break e}if(W){let j=u.items[u.items.length-1];bV.isPair(j)&&(j=j.value??j.key),j.comment?j.comment+=`
`+W:j.comment=W,B.comment=B.comment.substring(W.length+1)}}if(!o&&!k&&!B.found){let W=I?t(n,I,B,i):e(n,B.end,k,null,B,i);u.items.push(W),g=W.range[2],xC(I)&&i(W.range,"BLOCK_IN_FLOW",TC)}else{n.atKey=!0;let W=B.end,j=T?t(n,T,B,i):e(n,W,D,null,B,i);xC(T)&&i(j.range,"BLOCK_IN_FLOW",TC),n.atKey=!1;let re=hR.resolveProps(k??[],{flow:a,indicator:"map-value-ind",next:I,offset:j.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(re.found){if(!o&&!B.found&&n.options.strict){if(k)for(let N of k){if(N===re.found)break;if(N.type==="newline"){i(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}B.start<re.found.offset-1024&&i(re.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else I&&("source"in I&&I.source&&I.source[0]===":"?i(I,"MISSING_CHAR",`Missing space after : in ${a}`):i(re.start,"MISSING_CHAR",`Missing , or : between ${a} items`));let ne=I?t(n,I,re,i):re.found?e(n,re.end,k,null,re,i):null;ne?xC(I)&&i(ne.range,"BLOCK_IN_FLOW",TC):re.comment&&(j.comment?j.comment+=`
`+re.comment:j.comment=re.comment);let V=new DV.Pair(j,ne);if(n.options.keepSourceTokens&&(V.srcToken=C),o){let N=u;EV.mapIncludes(n,N.items,j)&&i(W,"DUPLICATE_KEY","Map keys must be unique"),N.items.push(V)}else{let N=new pR.YAMLMap(n.schema);N.flow=!0,N.items.push(V);let $=(ne??j).range;N.range=[j.range[0],$[1],$[2]],u.items.push(N)}g=ne?ne.range[2]:re.end}}let p=o?"}":"]",[l,...d]=r.end,h=g;if(l&&l.source===p)h=l.offset+l.source.length;else{let m=a[0].toUpperCase()+a.substring(1),C=f?`${m} must end with a ${p}`:`${m} in block collection must be sufficiently indented and end with a ${p}`;i(g,f?"MISSING_CHAR":"BAD_INDENT",C),l&&l.source.length!==1&&d.unshift(l)}if(d.length>0){let m=TV.resolveEnd(d,h,n.options.strict,i);m.comment&&(u.comment?u.comment+=`
`+m.comment:u.comment=m.comment),u.range=[r.offset,h,m.offset]}else u.range=[r.offset,h,h];return u}gR.resolveFlowCollection=kV});var CR=P(yR=>{"use strict";var FV=Ye(),PV=Xt(),RV=ds(),AV=fs(),IV=uR(),_V=dR(),NV=mR();function EC(t,e,n,r,i,s){let o=n.type==="block-map"?IV.resolveBlockMap(t,e,n,r,s):n.type==="block-seq"?_V.resolveBlockSeq(t,e,n,r,s):NV.resolveFlowCollection(t,e,n,r,s),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function OV(t,e,n,r,i){let s=r.tag,o=s?e.directives.tagName(s.source,p=>i(s,"TAG_RESOLVE_FAILED",p)):null;if(n.type==="block-seq"){let{anchor:p,newlineAfterProp:l}=r,d=p&&s?p.offset>s.offset?p:s:p??s;d&&(!l||l.offset<d.offset)&&i(d,"MISSING_CHAR","Missing newline after block sequence props")}let a=n.type==="block-map"?"map":n.type==="block-seq"?"seq":n.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===RV.YAMLMap.tagName&&a==="map"||o===AV.YAMLSeq.tagName&&a==="seq")return EC(t,e,n,i,o);let c=e.schema.tags.find(p=>p.tag===o&&p.collection===a);if(!c){let p=e.schema.knownTags[o];if(p&&p.collection===a)e.schema.tags.push(Object.assign({},p,{default:!1})),c=p;else return p?i(s,"BAD_COLLECTION_TYPE",`${p.tag} used for ${a} collection, but expects ${p.collection??"scalar"}`,!0):i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),EC(t,e,n,i,o)}let u=EC(t,e,n,i,o,c),f=c.resolve?.(u,p=>i(s,"TAG_RESOLVE_FAILED",p),e.options)??u,g=FV.isNode(f)?f:new PV.Scalar(f);return g.range=u.range,g.tag=o,c?.format&&(g.format=c.format),g}yR.composeCollection=OV});var FC=P(vR=>{"use strict";var kC=Xt();function LV(t,e,n){let r=e.offset,i=MV(e,t.options.strict,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};let s=i.mode===">"?kC.Scalar.BLOCK_FOLDED:kC.Scalar.BLOCK_LITERAL,o=e.source?UV(e.source):[],a=o.length;for(let h=o.length-1;h>=0;--h){let m=o[h][1];if(m===""||m==="\r")a=h;else break}if(a===0){let h=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"",m=r+i.length;return e.source&&(m+=e.source.length),{value:h,type:s,comment:i.comment,range:[r,m,m]}}let c=e.indent+i.indent,u=e.offset+i.length,f=0;for(let h=0;h<a;++h){let[m,C]=o[h];if(C===""||C==="\r")i.indent===0&&m.length>c&&(c=m.length);else{m.length<c&&n(u+m.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(c=m.length),f=h,c===0&&!t.atRoot&&n(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=m.length+C.length+1}for(let h=o.length-1;h>=a;--h)o[h][0].length>c&&(a=h+1);let g="",p="",l=!1;for(let h=0;h<f;++h)g+=o[h][0].slice(c)+`
`;for(let h=f;h<a;++h){let[m,C]=o[h];u+=m.length+C.length+1;let D=C[C.length-1]==="\r";if(D&&(C=C.slice(0,-1)),C&&m.length<c){let k=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(u-C.length-(D?2:1),"BAD_INDENT",k),m=""}s===kC.Scalar.BLOCK_LITERAL?(g+=p+m.slice(c)+C,p=`
`):m.length>c||C[0]==="	"?(p===" "?p=`
`:!l&&p===`
`&&(p=`

`),g+=p+m.slice(c)+C,p=`
`,l=!0):C===""?p===`
`?g+=`
`:p=`
`:(g+=p+C,p=" ",l=!1)}switch(i.chomp){case"-":break;case"+":for(let h=a;h<o.length;++h)g+=`
`+o[h][0].slice(c);g[g.length-1]!==`
`&&(g+=`
`);break;default:g+=`
`}let d=r+i.length+e.source.length;return{value:g,type:s,comment:i.comment,range:[r,d,d]}}function MV({offset:t,props:e},n,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=e[0],s=i[0],o=0,a="",c=-1;for(let p=1;p<i.length;++p){let l=i[p];if(!a&&(l==="-"||l==="+"))a=l;else{let d=Number(l);!o&&d?o=d:c===-1&&(c=t+p)}}c!==-1&&r(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,f="",g=i.length;for(let p=1;p<e.length;++p){let l=e[p];switch(l.type){case"space":u=!0;case"newline":g+=l.source.length;break;case"comment":n&&!u&&r(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),g+=l.source.length,f=l.source.substring(1);break;case"error":r(l,"UNEXPECTED_TOKEN",l.message),g+=l.source.length;break;default:{let d=`Unexpected token in block scalar header: ${l.type}`;r(l,"UNEXPECTED_TOKEN",d);let h=l.source;h&&typeof h=="string"&&(g+=h.length)}}}return{mode:s,indent:o,chomp:a,comment:f,length:g}}function UV(t){let e=t.split(/\n( *)/),n=e[0],r=n.match(/^( *)/),s=[r?.[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<e.length;o+=2)s.push([e[o],e[o+1]]);return s}vR.resolveBlockScalar=LV});var RC=P(bR=>{"use strict";var PC=Xt(),qV=fa();function jV(t,e,n){let{offset:r,type:i,source:s,end:o}=t,a,c,u=(p,l,d)=>n(r+p,l,d);switch(i){case"scalar":a=PC.Scalar.PLAIN,c=BV(s,u);break;case"single-quoted-scalar":a=PC.Scalar.QUOTE_SINGLE,c=WV(s,u);break;case"double-quoted-scalar":a=PC.Scalar.QUOTE_DOUBLE,c=KV(s,u);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+s.length,r+s.length]}}let f=r+s.length,g=qV.resolveEnd(o,f,e,n);return{value:c,type:a,comment:g.comment,range:[r,f,g.offset]}}function BV(t,e){let n="";switch(t[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${t[0]}`;break}case"@":case"`":{n=`reserved character ${t[0]}`;break}}return n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),SR(t)}function WV(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),SR(t.slice(1,-1)).replace(/''/g,"'")}function SR(t){let e,n;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=e.exec(t);if(!r)return t;let i=r[1],s=" ",o=e.lastIndex;for(n.lastIndex=o;r=n.exec(t);)r[1]===""?s===`
`?i+=s:s=`
`:(i+=s+r[1],s=" "),o=n.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(t),i+s+(r?.[1]??"")}function KV(t,e){let n="";for(let r=1;r<t.length-1;++r){let i=t[r];if(!(i==="\r"&&t[r+1]===`
`))if(i===`
`){let{fold:s,offset:o}=$V(t,r);n+=s,r=o}else if(i==="\\"){let s=t[++r],o=VV[s];if(o)n+=o;else if(s===`
`)for(s=t[r+1];s===" "||s==="	";)s=t[++r+1];else if(s==="\r"&&t[r+1]===`
`)for(s=t[++r+1];s===" "||s==="	";)s=t[++r+1];else if(s==="x"||s==="u"||s==="U"){let a={x:2,u:4,U:8}[s];n+=HV(t,r+1,a,e),r+=a}else{let a=t.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),n+=a}}else if(i===" "||i==="	"){let s=r,o=t[r+1];for(;o===" "||o==="	";)o=t[++r+1];o!==`
`&&!(o==="\r"&&t[r+2]===`
`)&&(n+=r>s?t.slice(s,r+1):i)}else n+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),n}function $V(t,e){let n="",r=t[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&t[e+2]!==`
`);)r===`
`&&(n+=`
`),e+=1,r=t[e+1];return n||(n=" "),{fold:n,offset:e}}var VV={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function HV(t,e,n,r){let i=t.substr(e,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){let a=t.substr(e-2,n+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}bR.resolveFlowScalar=jV});var TR=P(wR=>{"use strict";var fo=Ye(),DR=Xt(),zV=FC(),GV=RC();function JV(t,e,n,r){let{value:i,type:s,comment:o,range:a}=e.type==="block-scalar"?zV.resolveBlockScalar(t,e,r):GV.resolveFlowScalar(e,t.options.strict,r),c=n?t.directives.tagName(n.source,g=>r(n,"TAG_RESOLVE_FAILED",g)):null,u;t.options.stringKeys&&t.atKey?u=t.schema[fo.SCALAR]:c?u=XV(t.schema,i,c,n,r):e.type==="scalar"?u=YV(t,i,e,r):u=t.schema[fo.SCALAR];let f;try{let g=u.resolve(i,p=>r(n??e,"TAG_RESOLVE_FAILED",p),t.options);f=fo.isScalar(g)?g:new DR.Scalar(g)}catch(g){let p=g instanceof Error?g.message:String(g);r(n??e,"TAG_RESOLVE_FAILED",p),f=new DR.Scalar(i)}return f.range=a,f.source=i,s&&(f.type=s),c&&(f.tag=c),u.format&&(f.format=u.format),o&&(f.comment=o),f}function XV(t,e,n,r,i){if(n==="!")return t[fo.SCALAR];let s=[];for(let a of t.tags)if(!a.collection&&a.tag===n)if(a.default&&a.test)s.push(a);else return a;for(let a of s)if(a.test?.test(e))return a;let o=t.knownTags[n];return o&&!o.collection?(t.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),t[fo.SCALAR])}function YV({atKey:t,directives:e,schema:n},r,i,s){let o=n.tags.find(a=>(a.default===!0||t&&a.default==="key")&&a.test?.test(r))||n[fo.SCALAR];if(n.compat){let a=n.compat.find(c=>c.default&&c.test?.test(r))??n[fo.SCALAR];if(o.tag!==a.tag){let c=e.tagString(o.tag),u=e.tagString(a.tag),f=`Value may be parsed as either ${c} or ${u}`;s(i,"TAG_RESOLVE_FAILED",f,!0)}}return o}wR.composeScalar=JV});var ER=P(xR=>{"use strict";function QV(t,e,n){if(e){n??(n=e.length);for(let r=n-1;r>=0;--r){let i=e[r];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++r];i?.type==="space";)t+=i.source.length,i=e[++r];break}}return t}xR.emptyScalarPosition=QV});var PR=P(IC=>{"use strict";var ZV=Qc(),eH=Ye(),tH=CR(),kR=TR(),nH=fa(),rH=ER(),iH={composeNode:FR,composeEmptyNode:AC};function FR(t,e,n,r){let i=t.atKey,{spaceBefore:s,comment:o,anchor:a,tag:c}=n,u,f=!0;switch(e.type){case"alias":u=sH(t,e,r),(a||c)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":u=kR.composeScalar(t,e,c,r),a&&(u.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":u=tH.composeCollection(iH,t,e,n,r),a&&(u.anchor=a.source.substring(1));break;default:{let g=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",g),u=AC(t,e.offset,void 0,null,n,r),f=!1}}return a&&u.anchor===""&&r(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&t.options.stringKeys&&(!eH.isScalar(u)||typeof u.value!="string"||u.tag&&u.tag!=="tag:yaml.org,2002:str")&&r(c??e,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(u.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?u.comment=o:u.commentBefore=o),t.options.keepSourceTokens&&f&&(u.srcToken=e),u}function AC(t,e,n,r,{spaceBefore:i,comment:s,anchor:o,tag:a,end:c},u){let f={type:"scalar",offset:rH.emptyScalarPosition(e,n,r),indent:-1,source:""},g=kR.composeScalar(t,f,a,u);return o&&(g.anchor=o.source.substring(1),g.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(g.spaceBefore=!0),s&&(g.comment=s,g.range[2]=c),g}function sH({options:t},{offset:e,source:n,end:r},i){let s=new ZV.Alias(n.substring(1));s.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=e+n.length,a=nH.resolveEnd(r,o,t.strict,i);return s.range=[e,o,a.offset],a.comment&&(s.comment=a.comment),s}IC.composeEmptyNode=AC;IC.composeNode=FR});var IR=P(AR=>{"use strict";var oH=gu(),RR=PR(),aH=fa(),cH=vu();function uH(t,e,{offset:n,start:r,value:i,end:s},o){let a=Object.assign({_directives:e},t),c=new oH.Document(void 0,a),u={atKey:!1,atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},f=cH.resolveProps(r,{indicator:"doc-start",next:i??s?.[0],offset:n,onError:o,parentIndent:0,startOnNewline:!0});f.found&&(c.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!f.hasNewline&&o(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=i?RR.composeNode(u,i,f,o):RR.composeEmptyNode(u,f.end,r,null,f,o);let g=c.contents.range[2],p=aH.resolveEnd(s,g,!1,o);return p.comment&&(c.comment=p.comment),c.range=[n,g,p.offset],c}AR.composeDoc=uH});var NC=P(OR=>{"use strict";var lH=require("process"),dH=vy(),fH=gu(),Su=Cu(),_R=Ye(),pH=IR(),hH=fa();function bu(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];let{offset:e,source:n}=t;return[e,e+(typeof n=="string"?n.length:1)]}function NR(t){let e="",n=!1,r=!1;for(let i=0;i<t.length;++i){let s=t[i];switch(s[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(s.substring(1)||" "),n=!0,r=!1;break;case"%":t[i+1]?.[0]!=="#"&&(i+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:e,afterEmptyLine:r}}var _C=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,s)=>{let o=bu(n);s?this.warnings.push(new Su.YAMLWarning(o,r,i)):this.errors.push(new Su.YAMLParseError(o,r,i))},this.directives=new dH.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,n){let{comment:r,afterEmptyLine:i}=NR(this.prelude);if(r){let s=e.contents;if(n)e.comment=e.comment?`${e.comment}
${r}`:r;else if(i||e.directives.docStart||!s)e.commentBefore=r;else if(_R.isCollection(s)&&!s.flow&&s.items.length>0){let o=s.items[0];_R.isPair(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r}else{let o=s.commentBefore;s.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:NR(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,n=!1,r=-1){for(let i of e)yield*this.next(i);yield*this.end(n,r)}*next(e){switch(lH.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(n,r,i)=>{let s=bu(e);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",r,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let n=pH.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let n=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new Su.YAMLParseError(bu(e),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){let r="Unexpected doc-end without preceding document";this.errors.push(new Su.YAMLParseError(bu(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;let n=hH.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){let r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new Su.YAMLParseError(bu(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let r=Object.assign({_directives:this.directives},this.options),i=new fH.Document(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}};OR.Composer=_C});var UR=P(hf=>{"use strict";var gH=FC(),mH=RC(),yH=Cu(),LR=ru();function CH(t,e=!0,n){if(t){let r=(i,s,o)=>{let a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(n)n(a,s,o);else throw new yH.YAMLParseError([a,a+1],s,o)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return mH.resolveFlowScalar(t,e,r);case"block-scalar":return gH.resolveBlockScalar({options:{strict:e}},t,r)}}return null}function vH(t,e){let{implicitKey:n=!1,indent:r,inFlow:i=!1,offset:s=-1,type:o="PLAIN"}=e,a=LR.stringifyString({type:o,value:t},{implicitKey:n,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),c=e.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(a[0]){case"|":case">":{let u=a.indexOf(`
`),f=a.substring(0,u),g=a.substring(u+1)+`
`,p=[{type:"block-scalar-header",offset:s,indent:r,source:f}];return MR(p,c)||p.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:s,indent:r,props:p,source:g}}case'"':return{type:"double-quoted-scalar",offset:s,indent:r,source:a,end:c};case"'":return{type:"single-quoted-scalar",offset:s,indent:r,source:a,end:c};default:return{type:"scalar",offset:s,indent:r,source:a,end:c}}}function SH(t,e,n={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:s=!1,type:o}=n,a="indent"in t?t.indent:null;if(r&&typeof a=="number"&&(a+=2),!o)switch(t.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{let u=t.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}let c=LR.stringifyString({type:o,value:e},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":bH(t,c);break;case'"':OC(t,c,"double-quoted-scalar");break;case"'":OC(t,c,"single-quoted-scalar");break;default:OC(t,c,"scalar")}}function bH(t,e){let n=e.indexOf(`
`),r=e.substring(0,n),i=e.substring(n+1)+`
`;if(t.type==="block-scalar"){let s=t.props[0];if(s.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s.source=r,t.source=i}else{let{offset:s}=t,o="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:s,indent:o,source:r}];MR(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(let c of Object.keys(t))c!=="type"&&c!=="offset"&&delete t[c];Object.assign(t,{type:"block-scalar",indent:o,props:a,source:i})}}function MR(t,e){if(e)for(let n of e)switch(n.type){case"space":case"comment":t.push(n);break;case"newline":return t.push(n),!0}return!1}function OC(t,e,n){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=n,t.source=e;break;case"block-scalar":{let r=t.props.slice(1),i=e.length;t.props[0].type==="block-scalar-header"&&(i-=t.props[0].source.length);for(let s of r)s.offset+=i;delete t.props,Object.assign(t,{type:n,source:e,end:r});break}case"block-map":case"block-seq":{let i={type:"newline",offset:t.offset+e.length,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:n,source:e,end:[i]});break}default:{let r="indent"in t?t.indent:-1,i="end"in t&&Array.isArray(t.end)?t.end.filter(s=>s.type==="space"||s.type==="comment"||s.type==="newline"):[];for(let s of Object.keys(t))s!=="type"&&s!=="offset"&&delete t[s];Object.assign(t,{type:n,indent:r,source:e,end:i})}}}hf.createScalarToken=vH;hf.resolveAsScalar=CH;hf.setScalarValue=SH});var jR=P(qR=>{"use strict";var DH=t=>"type"in t?mf(t):gf(t);function mf(t){switch(t.type){case"block-scalar":{let e="";for(let n of t.props)e+=mf(n);return e+t.source}case"block-map":case"block-seq":{let e="";for(let n of t.items)e+=gf(n);return e}case"flow-collection":{let e=t.start.source;for(let n of t.items)e+=gf(n);for(let n of t.end)e+=n.source;return e}case"document":{let e=gf(t);if(t.end)for(let n of t.end)e+=n.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(let n of t.end)e+=n.source;return e}}}function gf({start:t,key:e,sep:n,value:r}){let i="";for(let s of t)i+=s.source;if(e&&(i+=mf(e)),n)for(let s of n)i+=s.source;return r&&(i+=mf(r)),i}qR.stringify=DH});var $R=P(KR=>{"use strict";var LC=Symbol("break visit"),wH=Symbol("skip children"),BR=Symbol("remove item");function po(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),WR(Object.freeze([]),t,e)}po.BREAK=LC;po.SKIP=wH;po.REMOVE=BR;po.itemAtPath=(t,e)=>{let n=t;for(let[r,i]of e){let s=n?.[r];if(s&&"items"in s)n=s.items[i];else return}return n};po.parentCollection=(t,e)=>{let n=po.itemAtPath(t,e.slice(0,-1)),r=e[e.length-1][0],i=n?.[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function WR(t,e,n){let r=n(e,t);if(typeof r=="symbol")return r;for(let i of["key","value"]){let s=e[i];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){let a=WR(Object.freeze(t.concat([[i,o]])),s.items[o],n);if(typeof a=="number")o=a-1;else{if(a===LC)return LC;a===BR&&(s.items.splice(o,1),o-=1)}}typeof r=="function"&&i==="key"&&(r=r(e,t))}}return typeof r=="function"?r(e,t):r}KR.visit=po});var yf=P(er=>{"use strict";var MC=UR(),TH=jR(),xH=$R(),UC="\uFEFF",qC="",jC="",BC="",EH=t=>!!t&&"items"in t,kH=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function FH(t){switch(t){case UC:return"<BOM>";case qC:return"<DOC>";case jC:return"<FLOW_END>";case BC:return"<SCALAR>";default:return JSON.stringify(t)}}function PH(t){switch(t){case UC:return"byte-order-mark";case qC:return"doc-mode";case jC:return"flow-error-end";case BC:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}er.createScalarToken=MC.createScalarToken;er.resolveAsScalar=MC.resolveAsScalar;er.setScalarValue=MC.setScalarValue;er.stringify=TH.stringify;er.visit=xH.visit;er.BOM=UC;er.DOCUMENT=qC;er.FLOW_END=jC;er.SCALAR=BC;er.isCollection=EH;er.isScalar=kH;er.prettyToken=FH;er.tokenType=PH});var $C=P(HR=>{"use strict";var Du=yf();function Xr(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var VR=new Set("0123456789ABCDEFabcdef"),RH=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Cf=new Set(",[]{}"),AH=new Set(` ,[]{}
\r	`),WC=t=>!t||AH.has(t),KC=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,n=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null}this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let e=this.pos,n=this.buffer[e];for(;n===" "||n==="	";)n=this.buffer[++e];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let n=this.buffer[e];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+e];if(n==="\r"){let i=this.buffer[r+e+1];if(i===`
`||!i&&!this.atEnd)return e+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?e+r:-1}if(n==="-"||n==="."){let r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&Xr(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Du.BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let n=e.length,r=e.indexOf("#");for(;r!==-1;){let s=e[r-1];if(s===" "||s==="	"){n=r-1;break}else r=e.indexOf("#",r+1)}for(;;){let s=e[n-1];if(s===" "||s==="	")n-=1;else break}let i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let n=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-n),yield*this.pushNewline(),"stream"}return yield Du.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let n=this.peek(3);if((n==="---"||n==="...")&&Xr(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,n==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Xr(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Xr(n)){let r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(e[n]){case"#":yield*this.pushCount(e.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(WC),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,n,r=-1;do e=yield*this.pushNewline(),e>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(e+n>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&Xr(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield Du.FLOW_END,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(WC),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let o=this.charAt(1);if(this.flowKey||Xr(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),n=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}let r=this.buffer.substring(0,n),i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){let s=this.continueScalar(i+1);if(s===-1)break;i=r.indexOf(`
`,s)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let n=this.buffer[++e];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>Xr(n)||n==="#")}*parseBlockScalar(){let e=this.pos-1,n=0,r;e:for(let s=this.pos;r=this.buffer[s];++s)switch(r){case" ":n+=1;break;case`
`:e=s,n=0;break;case"\r":{let o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let s=this.continueScalar(e+1);if(s===-1)break;e=this.buffer.indexOf(`
`,s)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}let i=e+1;for(r=this.buffer[i];r===" ";)r=this.buffer[++i];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++i];e=i-1}else if(!this.blockScalarKeep)do{let s=e-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);let a=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+n>a)e=s;else break}while(!0);return yield Du.SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){let s=this.buffer[r+1];if(Xr(s)||e&&Cf.has(s))break;n=r}else if(Xr(i)){let s=this.buffer[r+1];if(i==="\r"&&(s===`
`?(r+=1,i=`
`,s=this.buffer[r+1]):n=r),s==="#"||e&&Cf.has(s))break;if(i===`
`){let o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(e&&Cf.has(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield Du.SCALAR,yield*this.pushToIndex(n+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,n){let r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(WC))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,n=this.charAt(1);if(Xr(n)||e&&Cf.has(n))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,n=this.buffer[e];for(;!Xr(n)&&n!==">";)n=this.buffer[++e];return yield*this.pushToIndex(n===">"?e+1:e,!1)}else{let e=this.pos+1,n=this.buffer[e];for(;n;)if(RH.has(n))n=this.buffer[++e];else if(n==="%"&&VR.has(this.buffer[e+1])&&VR.has(this.buffer[e+2]))n=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||e&&r==="	");let i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(e){let n=this.pos,r=this.buffer[n];for(;!e(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}};HR.Lexer=KC});var HC=P(zR=>{"use strict";var VC=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let n=0,r=this.lineStarts.length;for(;n<r;){let s=n+r>>1;this.lineStarts[s]<e?n=s+1:r=s}if(this.lineStarts[n]===e)return{line:n+1,col:1};if(n===0)return{line:0,col:e};let i=this.lineStarts[n-1];return{line:n,col:e-i+1}}}};zR.LineCounter=VC});var GC=P(QR=>{"use strict";var IH=require("process"),GR=yf(),_H=$C();function ps(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function JR(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function YR(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function vf(t){switch(t.type){case"document":return t.start;case"block-map":{let e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function pa(t){if(t.length===0)return[];let e=t.length;e:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;t[++e]?.type==="space";);return t.splice(e,t.length)}function XR(t){if(t.start.type==="flow-seq-start")for(let e of t.items)e.sep&&!e.value&&!ps(e.start,"explicit-key-ind")&&!ps(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,YR(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}var zC=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new _H.Lexer,this.onNewLine=e}*parse(e,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let r of this.lexer.lex(e,n))yield*this.next(r);n||(yield*this.end())}*next(e){if(this.source=e,IH.env.LOG_TOKENS&&console.log("|",GR.prettyToken(e)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let n=GR.tokenType(e);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let n=e??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{let r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&XR(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{let i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{let i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{let i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){let i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&JR(i.start)===-1&&(n.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{JR(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let n=this.startBlockValue(e);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let n=vf(this.peek(2)),r=pa(n),i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];let s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){let n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){let i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let r=!this.onKeyLine&&this.indent===e.indent,i=r&&(n.sep||n.explicitKey)&&this.type!=="seq-item-ind",s=[];if(i&&n.sep&&!n.value){let o=[];for(let a=0;a<n.sep.length;++a){let c=n.sep[a];switch(c.type){case"newline":o.push(a);break;case"space":break;case"comment":c.indent>e.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(s=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!n.explicitKey?(n.start.push(this.sourceToken),n.explicitKey=!0):i||n.value?(s.push(this.sourceToken),e.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(n.explicitKey)if(n.sep)if(n.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(ps(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(YR(n.key)&&!ps(n.sep,"newline")){let o=pa(n.start),a=n.key,c=n.sep;c.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:c}]})}else s.length>0?n.sep=n.sep.concat(s,this.sourceToken):n.sep.push(this.sourceToken);else if(ps(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{let o=pa(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?e.items.push({start:s,key:null,sep:[this.sourceToken]}):ps(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);i||n.value?(e.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(e);if(o){if(o.type==="block-seq"){if(!n.explicitKey&&n.sep&&!ps(n.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else r&&e.items.push({start:s});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){let n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){let r="end"in n.value?n.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){let i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,n.start),i.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||ps(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){let r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let n=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?e.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!n||n.value?e.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{let r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){let i=vf(r),s=pa(i);XR(e);let o=e.end.splice(1,e.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let n=vf(e),r=pa(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let n=vf(e),r=pa(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,n){return this.type!=="comment"||this.indent<=n?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};QR.Parser=zC});var rA=P(Tu=>{"use strict";var ZR=NC(),NH=gu(),wu=Cu(),OH=Iy(),LH=Ye(),MH=HC(),eA=GC();function tA(t){let e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new MH.LineCounter||null,prettyErrors:e}}function UH(t,e={}){let{lineCounter:n,prettyErrors:r}=tA(e),i=new eA.Parser(n?.addNewLine),s=new ZR.Composer(e),o=Array.from(s.compose(i.parse(t)));if(r&&n)for(let a of o)a.errors.forEach(wu.prettifyError(t,n)),a.warnings.forEach(wu.prettifyError(t,n));return o.length>0?o:Object.assign([],{empty:!0},s.streamInfo())}function nA(t,e={}){let{lineCounter:n,prettyErrors:r}=tA(e),i=new eA.Parser(n?.addNewLine),s=new ZR.Composer(e),o=null;for(let a of s.compose(i.parse(t),!0,t.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new wu.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(wu.prettifyError(t,n)),o.warnings.forEach(wu.prettifyError(t,n))),o}function qH(t,e,n){let r;typeof e=="function"?r=e:n===void 0&&e&&typeof e=="object"&&(n=e);let i=nA(t,n);if(!i)return null;if(i.warnings.forEach(s=>OH.warn(i.options.logLevel,s)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function jH(t,e,n){let r=null;if(typeof e=="function"||Array.isArray(e)?r=e:n===void 0&&e&&(n=e),typeof n=="string"&&(n=n.length),typeof n=="number"){let i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(t===void 0){let{keepUndefined:i}=n??e??{};if(!i)return}return LH.isDocument(t)&&!r?t.toString(n):new NH.Document(t,r,n).toString(n)}Tu.parse=qH;Tu.parseAllDocuments=UH;Tu.parseDocument=nA;Tu.stringify=jH});var sA=P(ft=>{"use strict";var BH=NC(),WH=gu(),KH=hC(),JC=Cu(),$H=Qc(),hs=Ye(),VH=us(),HH=Xt(),zH=ds(),GH=fs(),JH=yf(),XH=$C(),YH=HC(),QH=GC(),Sf=rA(),iA=Gc();ft.Composer=BH.Composer;ft.Document=WH.Document;ft.Schema=KH.Schema;ft.YAMLError=JC.YAMLError;ft.YAMLParseError=JC.YAMLParseError;ft.YAMLWarning=JC.YAMLWarning;ft.Alias=$H.Alias;ft.isAlias=hs.isAlias;ft.isCollection=hs.isCollection;ft.isDocument=hs.isDocument;ft.isMap=hs.isMap;ft.isNode=hs.isNode;ft.isPair=hs.isPair;ft.isScalar=hs.isScalar;ft.isSeq=hs.isSeq;ft.Pair=VH.Pair;ft.Scalar=HH.Scalar;ft.YAMLMap=zH.YAMLMap;ft.YAMLSeq=GH.YAMLSeq;ft.CST=JH;ft.Lexer=XH.Lexer;ft.LineCounter=YH.LineCounter;ft.Parser=QH.Parser;ft.parse=Sf.parse;ft.parseAllDocuments=Sf.parseAllDocuments;ft.parseDocument=Sf.parseDocument;ft.stringify=Sf.stringify;ft.visit=iA.visit;ft.visitAsync=iA.visitAsync});var Nr=P(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.asPromise=Wt.thenable=Wt.typedArray=Wt.stringArray=Wt.array=Wt.func=Wt.error=Wt.number=Wt.string=Wt.boolean=void 0;function I8(t){return t===!0||t===!1}Wt.boolean=I8;function SA(t){return typeof t=="string"||t instanceof String}Wt.string=SA;function _8(t){return typeof t=="number"||t instanceof Number}Wt.number=_8;function N8(t){return t instanceof Error}Wt.error=N8;function bA(t){return typeof t=="function"}Wt.func=bA;function DA(t){return Array.isArray(t)}Wt.array=DA;function O8(t){return DA(t)&&t.every(e=>SA(e))}Wt.stringArray=O8;function L8(t,e){return Array.isArray(t)&&t.every(e)}Wt.typedArray=L8;function wA(t){return t&&bA(t.then)}Wt.thenable=wA;function M8(t){return t instanceof Promise?t:wA(t)?new Promise((e,n)=>{t.then(r=>e(r),r=>n(r))}):Promise.resolve(t)}Wt.asPromise=M8});var ma=P(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.stringArray=Tn.array=Tn.func=Tn.error=Tn.number=Tn.string=Tn.boolean=void 0;function U8(t){return t===!0||t===!1}Tn.boolean=U8;function TA(t){return typeof t=="string"||t instanceof String}Tn.string=TA;function q8(t){return typeof t=="number"||t instanceof Number}Tn.number=q8;function j8(t){return t instanceof Error}Tn.error=j8;function B8(t){return typeof t=="function"}Tn.func=B8;function xA(t){return Array.isArray(t)}Tn.array=xA;function W8(t){return xA(t)&&t.every(e=>TA(e))}Tn.stringArray=W8});var Mv=P(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.Message=De.NotificationType9=De.NotificationType8=De.NotificationType7=De.NotificationType6=De.NotificationType5=De.NotificationType4=De.NotificationType3=De.NotificationType2=De.NotificationType1=De.NotificationType0=De.NotificationType=De.RequestType9=De.RequestType8=De.RequestType7=De.RequestType6=De.RequestType5=De.RequestType4=De.RequestType3=De.RequestType2=De.RequestType1=De.RequestType=De.RequestType0=De.AbstractMessageSignature=De.ParameterStructures=De.ResponseError=De.ErrorCodes=void 0;var ho=ma(),pv;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(pv||(De.ErrorCodes=pv={}));var hv=class t extends Error{constructor(e,n,r){super(n),this.code=ho.number(e)?e:pv.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};De.ResponseError=hv;var tr=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};De.ParameterStructures=tr;tr.auto=new tr("auto");tr.byPosition=new tr("byPosition");tr.byName=new tr("byName");var bt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return tr.auto}};De.AbstractMessageSignature=bt;var gv=class extends bt{constructor(e){super(e,0)}};De.RequestType0=gv;var mv=class extends bt{constructor(e,n=tr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.RequestType=mv;var yv=class extends bt{constructor(e,n=tr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.RequestType1=yv;var Cv=class extends bt{constructor(e){super(e,2)}};De.RequestType2=Cv;var vv=class extends bt{constructor(e){super(e,3)}};De.RequestType3=vv;var Sv=class extends bt{constructor(e){super(e,4)}};De.RequestType4=Sv;var bv=class extends bt{constructor(e){super(e,5)}};De.RequestType5=bv;var Dv=class extends bt{constructor(e){super(e,6)}};De.RequestType6=Dv;var wv=class extends bt{constructor(e){super(e,7)}};De.RequestType7=wv;var Tv=class extends bt{constructor(e){super(e,8)}};De.RequestType8=Tv;var xv=class extends bt{constructor(e){super(e,9)}};De.RequestType9=xv;var Ev=class extends bt{constructor(e,n=tr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.NotificationType=Ev;var kv=class extends bt{constructor(e){super(e,0)}};De.NotificationType0=kv;var Fv=class extends bt{constructor(e,n=tr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};De.NotificationType1=Fv;var Pv=class extends bt{constructor(e){super(e,2)}};De.NotificationType2=Pv;var Rv=class extends bt{constructor(e){super(e,3)}};De.NotificationType3=Rv;var Av=class extends bt{constructor(e){super(e,4)}};De.NotificationType4=Av;var Iv=class extends bt{constructor(e){super(e,5)}};De.NotificationType5=Iv;var _v=class extends bt{constructor(e){super(e,6)}};De.NotificationType6=_v;var Nv=class extends bt{constructor(e){super(e,7)}};De.NotificationType7=Nv;var Ov=class extends bt{constructor(e){super(e,8)}};De.NotificationType8=Ov;var Lv=class extends bt{constructor(e){super(e,9)}};De.NotificationType9=Lv;var EA;(function(t){function e(i){let s=i;return s&&ho.string(s.method)&&(ho.string(s.id)||ho.number(s.id))}t.isRequest=e;function n(i){let s=i;return s&&ho.string(s.method)&&i.id===void 0}t.isNotification=n;function r(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(ho.string(s.id)||ho.number(s.id)||s.id===null)}t.isResponse=r})(EA||(De.Message=EA={}))});var qv=P(ys=>{"use strict";var kA;Object.defineProperty(ys,"__esModule",{value:!0});ys.LRUCache=ys.LinkedMap=ys.Touch=void 0;var xn;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(xn||(ys.Touch=xn={}));var Rf=class{constructor(){this[kA]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=xn.None){let r=this._map.get(e);if(r)return n!==xn.None&&this.touch(r,n),r.value}set(e,n,r=xn.None){let i=this._map.get(e);if(i)i.value=n,r!==xn.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case xn.None:this.addItemLast(i);break;case xn.First:this.addItemFirst(i);break;case xn.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(kA=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==xn.First&&n!==xn.Last)){if(n===xn.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===xn.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};ys.LinkedMap=Rf;var Uv=class extends Rf{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=xn.AsNew){return super.get(e,n)}peek(e){return super.get(e,xn.None)}set(e,n){return super.set(e,n,xn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};ys.LRUCache=Uv});var PA=P(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.Disposable=void 0;var FA;(function(t){function e(n){return{dispose:n}}t.create=e})(FA||(Af.Disposable=FA={}))});var Cs=P(Wv=>{"use strict";Object.defineProperty(Wv,"__esModule",{value:!0});var jv;function Bv(){if(jv===void 0)throw new Error("No runtime abstraction layer installed");return jv}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");jv=n}t.install=e})(Bv||(Bv={}));Wv.default=Bv});var Ca=P(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.Emitter=ya.Event=void 0;var K8=Cs(),RA;(function(t){let e={dispose(){}};t.None=function(){return e}})(RA||(ya.Event=RA={}));var Kv=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{n.push(r[s].apply(i[s],e))}catch(a){(0,K8.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},If=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Kv),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};ya.Emitter=If;If._noop=function(){}});var Of=P(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.CancellationTokenSource=va.CancellationToken=void 0;var $8=Cs(),V8=ma(),$v=Ca(),_f;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:$v.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:$v.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||V8.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(_f||(va.CancellationToken=_f={}));var H8=Object.freeze(function(t,e){let n=(0,$8.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),Nf=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?H8:(this._emitter||(this._emitter=new $v.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Vv=class{get token(){return this._token||(this._token=new Nf),this._token}cancel(){this._token?this._token.cancel():this._token=_f.Cancelled}dispose(){this._token?this._token instanceof Nf&&this._token.dispose():this._token=_f.None}};va.CancellationTokenSource=Vv});var AA=P(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.SharedArrayReceiverStrategy=Sa.SharedArraySenderStrategy=void 0;var z8=Of(),Pu;(function(t){t.Continue=0,t.Cancelled=1})(Pu||(Pu={}));var Hv=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=Pu.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let r=this.buffers.get(n);if(r===void 0)return;let i=new Int32Array(r,0,1);Atomics.store(i,0,Pu.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Sa.SharedArraySenderStrategy=Hv;var zv=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Pu.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Gv=class{constructor(e){this.token=new zv(e)}cancel(){}dispose(){}},Jv=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new z8.CancellationTokenSource:new Gv(n)}};Sa.SharedArrayReceiverStrategy=Jv});var Yv=P(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.Semaphore=void 0;var G8=Cs(),Xv=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,G8.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Lf.Semaphore=Xv});var _A=P(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.ReadableStreamMessageReader=vs.AbstractMessageReader=vs.MessageReader=void 0;var Zv=Cs(),ba=ma(),Qv=Ca(),J8=Yv(),IA;(function(t){function e(n){let r=n;return r&&ba.func(r.listen)&&ba.func(r.dispose)&&ba.func(r.onError)&&ba.func(r.onClose)&&ba.func(r.onPartialMessage)}t.is=e})(IA||(vs.MessageReader=IA={}));var Mf=class{constructor(){this.errorEmitter=new Qv.Emitter,this.closeEmitter=new Qv.Emitter,this.partialMessageEmitter=new Qv.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${ba.string(e.message)?e.message:"unknown"}`)}};vs.AbstractMessageReader=Mf;var eS;(function(t){function e(n){let r,i,s,o=new Map,a,c=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(s=n.contentDecoder,o.set(s.name,s)),n.contentDecoders!==void 0)for(let u of n.contentDecoders)o.set(u.name,u);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let u of n.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,Zv.default)().applicationJson.decoder,c.set(a.name,a)),{charset:r,contentDecoder:s,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(eS||(eS={}));var tS=class extends Mf{constructor(e,n){super(),this.readable=e,this.options=eS.fromOptions(n),this.buffer=(0,Zv.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new J8.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Zv.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};vs.ReadableStreamMessageReader=tS});var UA=P(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.WriteableStreamMessageWriter=Ss.AbstractMessageWriter=Ss.MessageWriter=void 0;var NA=Cs(),Ru=ma(),X8=Yv(),OA=Ca(),Y8="Content-Length: ",LA=`\r
`,MA;(function(t){function e(n){let r=n;return r&&Ru.func(r.dispose)&&Ru.func(r.onClose)&&Ru.func(r.onError)&&Ru.func(r.write)}t.is=e})(MA||(Ss.MessageWriter=MA={}));var Uf=class{constructor(){this.errorEmitter=new OA.Emitter,this.closeEmitter=new OA.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Ru.string(e.message)?e.message:"unknown"}`)}};Ss.AbstractMessageWriter=Uf;var nS;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,NA.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,NA.default)().applicationJson.encoder}}t.fromOptions=e})(nS||(nS={}));var rS=class extends Uf{constructor(e,n){super(),this.writable=e,this.options=nS.fromOptions(n),this.errorCount=0,this.writeSemaphore=new X8.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(Y8,r.byteLength.toString(),LA),i.push(LA),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Ss.WriteableStreamMessageWriter=rS});var qA=P(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.AbstractMessageBuffer=void 0;var Q8=13,Z8=10,ez=`\r
`,iS=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,s=0;e:for(;r<this._chunks.length;){let u=this._chunks[r];for(i=0;i<u.length;){switch(u[i]){case Q8:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case Z8:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}s+=u.byteLength,r++}if(n!==4)return;let o=this._read(s+i),a=new Map,c=this.toString(o,"ascii").split(ez);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let f=c[u],g=f.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let p=f.substr(0,g),l=f.substr(g+1).trim();a.set(e?p.toLowerCase():p,l)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};qf.AbstractMessageBuffer=iS});var $A=P(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.createMessageConnection=Ne.ConnectionOptions=Ne.MessageStrategy=Ne.CancellationStrategy=Ne.CancellationSenderStrategy=Ne.CancellationReceiverStrategy=Ne.RequestCancellationReceiverStrategy=Ne.IdCancellationReceiverStrategy=Ne.ConnectionStrategy=Ne.ConnectionError=Ne.ConnectionErrors=Ne.LogTraceNotification=Ne.SetTraceNotification=Ne.TraceFormat=Ne.TraceValues=Ne.Trace=Ne.NullLogger=Ne.ProgressType=Ne.ProgressToken=void 0;var jA=Cs(),Ot=ma(),Fe=Mv(),BA=qv(),Au=Ca(),sS=Of(),Nu;(function(t){t.type=new Fe.NotificationType("$/cancelRequest")})(Nu||(Nu={}));var oS;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(oS||(Ne.ProgressToken=oS={}));var Iu;(function(t){t.type=new Fe.NotificationType("$/progress")})(Iu||(Iu={}));var aS=class{constructor(){}};Ne.ProgressType=aS;var cS;(function(t){function e(n){return Ot.func(n)}t.is=e})(cS||(cS={}));Ne.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var st;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(st||(Ne.Trace=st={}));var WA;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(WA||(Ne.TraceValues=WA={}));(function(t){function e(r){if(!Ot.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(st||(Ne.Trace=st={}));var mr;(function(t){t.Text="text",t.JSON="json"})(mr||(Ne.TraceFormat=mr={}));(function(t){function e(n){return Ot.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(mr||(Ne.TraceFormat=mr={}));var uS;(function(t){t.type=new Fe.NotificationType("$/setTrace")})(uS||(Ne.SetTraceNotification=uS={}));var jf;(function(t){t.type=new Fe.NotificationType("$/logTrace")})(jf||(Ne.LogTraceNotification=jf={}));var _u;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(_u||(Ne.ConnectionErrors=_u={}));var Da=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};Ne.ConnectionError=Da;var lS;(function(t){function e(n){let r=n;return r&&Ot.func(r.cancelUndispatched)}t.is=e})(lS||(Ne.ConnectionStrategy=lS={}));var Bf;(function(t){function e(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&Ot.func(r.createCancellationTokenSource)&&(r.dispose===void 0||Ot.func(r.dispose))}t.is=e})(Bf||(Ne.IdCancellationReceiverStrategy=Bf={}));var dS;(function(t){function e(n){let r=n;return r&&r.kind==="request"&&Ot.func(r.createCancellationTokenSource)&&(r.dispose===void 0||Ot.func(r.dispose))}t.is=e})(dS||(Ne.RequestCancellationReceiverStrategy=dS={}));var Wf;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new sS.CancellationTokenSource}});function e(n){return Bf.is(n)||dS.is(n)}t.is=e})(Wf||(Ne.CancellationReceiverStrategy=Wf={}));var Kf;(function(t){t.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(Nu.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&Ot.func(r.sendCancellation)&&Ot.func(r.cleanup)}t.is=e})(Kf||(Ne.CancellationSenderStrategy=Kf={}));var $f;(function(t){t.Message=Object.freeze({receiver:Wf.Message,sender:Kf.Message});function e(n){let r=n;return r&&Wf.is(r.receiver)&&Kf.is(r.sender)}t.is=e})($f||(Ne.CancellationStrategy=$f={}));var Vf;(function(t){function e(n){let r=n;return r&&Ot.func(r.handleMessage)}t.is=e})(Vf||(Ne.MessageStrategy=Vf={}));var KA;(function(t){function e(n){let r=n;return r&&($f.is(r.cancellationStrategy)||lS.is(r.connectionStrategy)||Vf.is(r.messageStrategy))}t.is=e})(KA||(Ne.ConnectionOptions=KA={}));var Yr;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Yr||(Yr={}));function tz(t,e,n,r){let i=n!==void 0?n:Ne.NullLogger,s=0,o=0,a=0,c="2.0",u,f=new Map,g,p=new Map,l=new Map,d,h=new BA.LinkedMap,m=new Map,C=new Set,D=new Map,T=st.Off,k=mr.Text,I,B=Yr.New,W=new Au.Emitter,j=new Au.Emitter,re=new Au.Emitter,ne=new Au.Emitter,V=new Au.Emitter,N=r&&r.cancellationStrategy?r.cancellationStrategy:$f.Message;function $(v){if(v===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+v.toString()}function te(v){return v===null?"res-unknown-"+(++a).toString():"res-"+v.toString()}function K(){return"not-"+(++o).toString()}function G(v,F){Fe.Message.isRequest(F)?v.set($(F.id),F):Fe.Message.isResponse(F)?v.set(te(F.id),F):v.set(K(),F)}function Q(v){}function ae(){return B===Yr.Listening}function se(){return B===Yr.Closed}function ie(){return B===Yr.Disposed}function ye(){(B===Yr.New||B===Yr.Listening)&&(B=Yr.Closed,j.fire(void 0))}function ve(v){W.fire([v,void 0,void 0])}function $e(v){W.fire(v)}t.onClose(ye),t.onError(ve),e.onClose(ye),e.onError($e);function ke(){d||h.size===0||(d=(0,jA.default)().timer.setImmediate(()=>{d=void 0,Tt()}))}function ht(v){Fe.Message.isRequest(v)?Ln(v):Fe.Message.isNotification(v)?Un(v):Fe.Message.isResponse(v)?Mn(v):Gn(v)}function Tt(){if(h.size===0)return;let v=h.shift();try{let F=r?.messageStrategy;Vf.is(F)?F.handleMessage(v,ht):ht(v)}finally{ke()}}let zn=v=>{try{if(Fe.Message.isNotification(v)&&v.method===Nu.type.method){let F=v.params.id,U=$(F),z=h.get(U);if(Fe.Message.isRequest(z)){let ge=r?.connectionStrategy,Te=ge&&ge.cancelUndispatched?ge.cancelUndispatched(z,Q):void 0;if(Te&&(Te.error!==void 0||Te.result!==void 0)){h.delete(U),D.delete(F),Te.id=z.id,nn(Te,v.method,Date.now()),e.write(Te).catch(()=>i.error("Sending response for canceled message failed."));return}}let Ce=D.get(F);if(Ce!==void 0){Ce.cancel(),an(v);return}else C.add(F)}G(h,v)}finally{ke()}};function Ln(v){if(ie())return;function F(ue,Se,de){let O={jsonrpc:c,id:v.id};ue instanceof Fe.ResponseError?O.error=ue.toJson():O.result=ue===void 0?null:ue,nn(O,Se,de),e.write(O).catch(()=>i.error("Sending response failed."))}function U(ue,Se,de){let O={jsonrpc:c,id:v.id,error:ue.toJson()};nn(O,Se,de),e.write(O).catch(()=>i.error("Sending response failed."))}function z(ue,Se,de){ue===void 0&&(ue=null);let O={jsonrpc:c,id:v.id,result:ue};nn(O,Se,de),e.write(O).catch(()=>i.error("Sending response failed."))}Fr(v);let Ce=f.get(v.method),ge,Te;Ce&&(ge=Ce.type,Te=Ce.handler);let xe=Date.now();if(Te||u){let ue=v.id??String(Date.now()),Se=Bf.is(N.receiver)?N.receiver.createCancellationTokenSource(ue):N.receiver.createCancellationTokenSource(v);v.id!==null&&C.has(v.id)&&Se.cancel(),v.id!==null&&D.set(ue,Se);try{let de;if(Te)if(v.params===void 0){if(ge!==void 0&&ge.numberOfParams!==0){U(new Fe.ResponseError(Fe.ErrorCodes.InvalidParams,`Request ${v.method} defines ${ge.numberOfParams} params but received none.`),v.method,xe);return}de=Te(Se.token)}else if(Array.isArray(v.params)){if(ge!==void 0&&ge.parameterStructures===Fe.ParameterStructures.byName){U(new Fe.ResponseError(Fe.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by name but received parameters by position`),v.method,xe);return}de=Te(...v.params,Se.token)}else{if(ge!==void 0&&ge.parameterStructures===Fe.ParameterStructures.byPosition){U(new Fe.ResponseError(Fe.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by position but received parameters by name`),v.method,xe);return}de=Te(v.params,Se.token)}else u&&(de=u(v.method,v.params,Se.token));let O=de;de?O.then?O.then(M=>{D.delete(ue),F(M,v.method,xe)},M=>{D.delete(ue),M instanceof Fe.ResponseError?U(M,v.method,xe):M&&Ot.string(M.message)?U(new Fe.ResponseError(Fe.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${M.message}`),v.method,xe):U(new Fe.ResponseError(Fe.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,xe)}):(D.delete(ue),F(de,v.method,xe)):(D.delete(ue),z(de,v.method,xe))}catch(de){D.delete(ue),de instanceof Fe.ResponseError?F(de,v.method,xe):de&&Ot.string(de.message)?U(new Fe.ResponseError(Fe.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${de.message}`),v.method,xe):U(new Fe.ResponseError(Fe.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,xe)}}else U(new Fe.ResponseError(Fe.ErrorCodes.MethodNotFound,`Unhandled method ${v.method}`),v.method,xe)}function Mn(v){if(!ie())if(v.id===null)v.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(v.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let F=v.id,U=m.get(F);if(Jn(v,U),U!==void 0){m.delete(F);try{if(v.error){let z=v.error;U.reject(new Fe.ResponseError(z.code,z.message,z.data))}else if(v.result!==void 0)U.resolve(v.result);else throw new Error("Should never happen.")}catch(z){z.message?i.error(`Response handler '${U.method}' failed with message: ${z.message}`):i.error(`Response handler '${U.method}' failed unexpectedly.`)}}}}function Un(v){if(ie())return;let F,U;if(v.method===Nu.type.method){let z=v.params.id;C.delete(z),an(v);return}else{let z=p.get(v.method);z&&(U=z.handler,F=z.type)}if(U||g)try{if(an(v),U)if(v.params===void 0)F!==void 0&&F.numberOfParams!==0&&F.parameterStructures!==Fe.ParameterStructures.byName&&i.error(`Notification ${v.method} defines ${F.numberOfParams} params but received none.`),U();else if(Array.isArray(v.params)){let z=v.params;v.method===Iu.type.method&&z.length===2&&oS.is(z[0])?U({token:z[0],value:z[1]}):(F!==void 0&&(F.parameterStructures===Fe.ParameterStructures.byName&&i.error(`Notification ${v.method} defines parameters by name but received parameters by position`),F.numberOfParams!==v.params.length&&i.error(`Notification ${v.method} defines ${F.numberOfParams} params but received ${z.length} arguments`)),U(...z))}else F!==void 0&&F.parameterStructures===Fe.ParameterStructures.byPosition&&i.error(`Notification ${v.method} defines parameters by position but received parameters by name`),U(v.params);else g&&g(v.method,v.params)}catch(z){z.message?i.error(`Notification handler '${v.method}' failed with message: ${z.message}`):i.error(`Notification handler '${v.method}' failed unexpectedly.`)}else re.fire(v)}function Gn(v){if(!v){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(v,null,4)}`);let F=v;if(Ot.string(F.id)||Ot.number(F.id)){let U=F.id,z=m.get(U);z&&z.reject(new Error("The received response has neither a result nor an error property."))}}function nt(v){if(v!=null)switch(T){case st.Verbose:return JSON.stringify(v,null,4);case st.Compact:return JSON.stringify(v);default:return}}function dr(v){if(!(T===st.Off||!I))if(k===mr.Text){let F;(T===st.Verbose||T===st.Compact)&&v.params&&(F=`Params: ${nt(v.params)}

`),I.log(`Sending request '${v.method} - (${v.id})'.`,F)}else dt("send-request",v)}function qn(v){if(!(T===st.Off||!I))if(k===mr.Text){let F;(T===st.Verbose||T===st.Compact)&&(v.params?F=`Params: ${nt(v.params)}

`:F=`No parameters provided.

`),I.log(`Sending notification '${v.method}'.`,F)}else dt("send-notification",v)}function nn(v,F,U){if(!(T===st.Off||!I))if(k===mr.Text){let z;(T===st.Verbose||T===st.Compact)&&(v.error&&v.error.data?z=`Error data: ${nt(v.error.data)}

`:v.result?z=`Result: ${nt(v.result)}

`:v.error===void 0&&(z=`No result returned.

`)),I.log(`Sending response '${F} - (${v.id})'. Processing request took ${Date.now()-U}ms`,z)}else dt("send-response",v)}function Fr(v){if(!(T===st.Off||!I))if(k===mr.Text){let F;(T===st.Verbose||T===st.Compact)&&v.params&&(F=`Params: ${nt(v.params)}

`),I.log(`Received request '${v.method} - (${v.id})'.`,F)}else dt("receive-request",v)}function an(v){if(!(T===st.Off||!I||v.method===jf.type.method))if(k===mr.Text){let F;(T===st.Verbose||T===st.Compact)&&(v.params?F=`Params: ${nt(v.params)}

`:F=`No parameters provided.

`),I.log(`Received notification '${v.method}'.`,F)}else dt("receive-notification",v)}function Jn(v,F){if(!(T===st.Off||!I))if(k===mr.Text){let U;if((T===st.Verbose||T===st.Compact)&&(v.error&&v.error.data?U=`Error data: ${nt(v.error.data)}

`:v.result?U=`Result: ${nt(v.result)}

`:v.error===void 0&&(U=`No result returned.

`)),F){let z=v.error?` Request failed: ${v.error.message} (${v.error.code}).`:"";I.log(`Received response '${F.method} - (${v.id})' in ${Date.now()-F.timerStart}ms.${z}`,U)}else I.log(`Received response ${v.id} without active response promise.`,U)}else dt("receive-response",v)}function dt(v,F){if(!I||T===st.Off)return;let U={isLSPMessage:!0,type:v,message:F,timestamp:Date.now()};I.log(U)}function xt(){if(se())throw new Da(_u.Closed,"Connection is closed.");if(ie())throw new Da(_u.Disposed,"Connection is disposed.")}function Vt(){if(ae())throw new Da(_u.AlreadyListening,"Connection is already listening")}function gn(){if(!ae())throw new Error("Call listen() first.")}function jt(v){return v===void 0?null:v}function jn(v){if(v!==null)return v}function Xn(v){return v!=null&&!Array.isArray(v)&&typeof v=="object"}function mn(v,F){switch(v){case Fe.ParameterStructures.auto:return Xn(F)?jn(F):[jt(F)];case Fe.ParameterStructures.byName:if(!Xn(F))throw new Error("Received parameters by name but param is not an object literal.");return jn(F);case Fe.ParameterStructures.byPosition:return[jt(F)];default:throw new Error(`Unknown parameter structure ${v.toString()}`)}}function Yn(v,F){let U,z=v.numberOfParams;switch(z){case 0:U=void 0;break;case 1:U=mn(v.parameterStructures,F[0]);break;default:U=[];for(let Ce=0;Ce<F.length&&Ce<z;Ce++)U.push(jt(F[Ce]));if(F.length<z)for(let Ce=F.length;Ce<z;Ce++)U.push(null);break}return U}let Et={sendNotification:(v,...F)=>{xt();let U,z;if(Ot.string(v)){U=v;let ge=F[0],Te=0,xe=Fe.ParameterStructures.auto;Fe.ParameterStructures.is(ge)&&(Te=1,xe=ge);let ue=F.length,Se=ue-Te;switch(Se){case 0:z=void 0;break;case 1:z=mn(xe,F[Te]);break;default:if(xe===Fe.ParameterStructures.byName)throw new Error(`Received ${Se} parameters for 'by Name' notification parameter structure.`);z=F.slice(Te,ue).map(de=>jt(de));break}}else{let ge=F;U=v.method,z=Yn(v,ge)}let Ce={jsonrpc:c,method:U,params:z};return qn(Ce),e.write(Ce).catch(ge=>{throw i.error("Sending notification failed."),ge})},onNotification:(v,F)=>{xt();let U;return Ot.func(v)?g=v:F&&(Ot.string(v)?(U=v,p.set(v,{type:void 0,handler:F})):(U=v.method,p.set(v.method,{type:v,handler:F}))),{dispose:()=>{U!==void 0?p.delete(U):g=void 0}}},onProgress:(v,F,U)=>{if(l.has(F))throw new Error(`Progress handler for token ${F} already registered`);return l.set(F,U),{dispose:()=>{l.delete(F)}}},sendProgress:(v,F,U)=>Et.sendNotification(Iu.type,{token:F,value:U}),onUnhandledProgress:ne.event,sendRequest:(v,...F)=>{xt(),gn();let U,z,Ce;if(Ot.string(v)){U=v;let ue=F[0],Se=F[F.length-1],de=0,O=Fe.ParameterStructures.auto;Fe.ParameterStructures.is(ue)&&(de=1,O=ue);let M=F.length;sS.CancellationToken.is(Se)&&(M=M-1,Ce=Se);let Y=M-de;switch(Y){case 0:z=void 0;break;case 1:z=mn(O,F[de]);break;default:if(O===Fe.ParameterStructures.byName)throw new Error(`Received ${Y} parameters for 'by Name' request parameter structure.`);z=F.slice(de,M).map(Ee=>jt(Ee));break}}else{let ue=F;U=v.method,z=Yn(v,ue);let Se=v.numberOfParams;Ce=sS.CancellationToken.is(ue[Se])?ue[Se]:void 0}let ge=s++,Te;Ce&&(Te=Ce.onCancellationRequested(()=>{let ue=N.sender.sendCancellation(Et,ge);return ue===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ge}`),Promise.resolve()):ue.catch(()=>{i.log(`Sending cancellation messages for id ${ge} failed`)})}));let xe={jsonrpc:c,id:ge,method:U,params:z};return dr(xe),typeof N.sender.enableCancellation=="function"&&N.sender.enableCancellation(xe),new Promise(async(ue,Se)=>{let de=Y=>{ue(Y),N.sender.cleanup(ge),Te?.dispose()},O=Y=>{Se(Y),N.sender.cleanup(ge),Te?.dispose()},M={method:U,timerStart:Date.now(),resolve:de,reject:O};try{await e.write(xe),m.set(ge,M)}catch(Y){throw i.error("Sending request failed."),M.reject(new Fe.ResponseError(Fe.ErrorCodes.MessageWriteError,Y.message?Y.message:"Unknown reason")),Y}})},onRequest:(v,F)=>{xt();let U=null;return cS.is(v)?(U=void 0,u=v):Ot.string(v)?(U=null,F!==void 0&&(U=v,f.set(v,{handler:F,type:void 0}))):F!==void 0&&(U=v.method,f.set(v.method,{type:v,handler:F})),{dispose:()=>{U!==null&&(U!==void 0?f.delete(U):u=void 0)}}},hasPendingResponse:()=>m.size>0,trace:async(v,F,U)=>{let z=!1,Ce=mr.Text;U!==void 0&&(Ot.boolean(U)?z=U:(z=U.sendNotification||!1,Ce=U.traceFormat||mr.Text)),T=v,k=Ce,T===st.Off?I=void 0:I=F,z&&!se()&&!ie()&&await Et.sendNotification(uS.type,{value:st.toString(v)})},onError:W.event,onClose:j.event,onUnhandledNotification:re.event,onDispose:V.event,end:()=>{e.end()},dispose:()=>{if(ie())return;B=Yr.Disposed,V.fire(void 0);let v=new Fe.ResponseError(Fe.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let F of m.values())F.reject(v);m=new Map,D=new Map,C=new Set,h=new BA.LinkedMap,Ot.func(e.dispose)&&e.dispose(),Ot.func(t.dispose)&&t.dispose()},listen:()=>{xt(),Vt(),B=Yr.Listening,t.listen(zn)},inspect:()=>{(0,jA.default)().console.log("inspect")}};return Et.onNotification(jf.type,v=>{if(T===st.Off||!I)return;let F=T===st.Verbose||T===st.Compact;I.log(v.message,F?v.verbose:void 0)}),Et.onNotification(Iu.type,v=>{let F=l.get(v.token);F?F(v.value):ne.fire(v)}),Et}Ne.createMessageConnection=tz});var Hf=P(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.ProgressType=J.ProgressToken=J.createMessageConnection=J.NullLogger=J.ConnectionOptions=J.ConnectionStrategy=J.AbstractMessageBuffer=J.WriteableStreamMessageWriter=J.AbstractMessageWriter=J.MessageWriter=J.ReadableStreamMessageReader=J.AbstractMessageReader=J.MessageReader=J.SharedArrayReceiverStrategy=J.SharedArraySenderStrategy=J.CancellationToken=J.CancellationTokenSource=J.Emitter=J.Event=J.Disposable=J.LRUCache=J.Touch=J.LinkedMap=J.ParameterStructures=J.NotificationType9=J.NotificationType8=J.NotificationType7=J.NotificationType6=J.NotificationType5=J.NotificationType4=J.NotificationType3=J.NotificationType2=J.NotificationType1=J.NotificationType0=J.NotificationType=J.ErrorCodes=J.ResponseError=J.RequestType9=J.RequestType8=J.RequestType7=J.RequestType6=J.RequestType5=J.RequestType4=J.RequestType3=J.RequestType2=J.RequestType1=J.RequestType0=J.RequestType=J.Message=J.RAL=void 0;J.MessageStrategy=J.CancellationStrategy=J.CancellationSenderStrategy=J.CancellationReceiverStrategy=J.ConnectionError=J.ConnectionErrors=J.LogTraceNotification=J.SetTraceNotification=J.TraceFormat=J.TraceValues=J.Trace=void 0;var vt=Mv();Object.defineProperty(J,"Message",{enumerable:!0,get:function(){return vt.Message}});Object.defineProperty(J,"RequestType",{enumerable:!0,get:function(){return vt.RequestType}});Object.defineProperty(J,"RequestType0",{enumerable:!0,get:function(){return vt.RequestType0}});Object.defineProperty(J,"RequestType1",{enumerable:!0,get:function(){return vt.RequestType1}});Object.defineProperty(J,"RequestType2",{enumerable:!0,get:function(){return vt.RequestType2}});Object.defineProperty(J,"RequestType3",{enumerable:!0,get:function(){return vt.RequestType3}});Object.defineProperty(J,"RequestType4",{enumerable:!0,get:function(){return vt.RequestType4}});Object.defineProperty(J,"RequestType5",{enumerable:!0,get:function(){return vt.RequestType5}});Object.defineProperty(J,"RequestType6",{enumerable:!0,get:function(){return vt.RequestType6}});Object.defineProperty(J,"RequestType7",{enumerable:!0,get:function(){return vt.RequestType7}});Object.defineProperty(J,"RequestType8",{enumerable:!0,get:function(){return vt.RequestType8}});Object.defineProperty(J,"RequestType9",{enumerable:!0,get:function(){return vt.RequestType9}});Object.defineProperty(J,"ResponseError",{enumerable:!0,get:function(){return vt.ResponseError}});Object.defineProperty(J,"ErrorCodes",{enumerable:!0,get:function(){return vt.ErrorCodes}});Object.defineProperty(J,"NotificationType",{enumerable:!0,get:function(){return vt.NotificationType}});Object.defineProperty(J,"NotificationType0",{enumerable:!0,get:function(){return vt.NotificationType0}});Object.defineProperty(J,"NotificationType1",{enumerable:!0,get:function(){return vt.NotificationType1}});Object.defineProperty(J,"NotificationType2",{enumerable:!0,get:function(){return vt.NotificationType2}});Object.defineProperty(J,"NotificationType3",{enumerable:!0,get:function(){return vt.NotificationType3}});Object.defineProperty(J,"NotificationType4",{enumerable:!0,get:function(){return vt.NotificationType4}});Object.defineProperty(J,"NotificationType5",{enumerable:!0,get:function(){return vt.NotificationType5}});Object.defineProperty(J,"NotificationType6",{enumerable:!0,get:function(){return vt.NotificationType6}});Object.defineProperty(J,"NotificationType7",{enumerable:!0,get:function(){return vt.NotificationType7}});Object.defineProperty(J,"NotificationType8",{enumerable:!0,get:function(){return vt.NotificationType8}});Object.defineProperty(J,"NotificationType9",{enumerable:!0,get:function(){return vt.NotificationType9}});Object.defineProperty(J,"ParameterStructures",{enumerable:!0,get:function(){return vt.ParameterStructures}});var fS=qv();Object.defineProperty(J,"LinkedMap",{enumerable:!0,get:function(){return fS.LinkedMap}});Object.defineProperty(J,"LRUCache",{enumerable:!0,get:function(){return fS.LRUCache}});Object.defineProperty(J,"Touch",{enumerable:!0,get:function(){return fS.Touch}});var nz=PA();Object.defineProperty(J,"Disposable",{enumerable:!0,get:function(){return nz.Disposable}});var VA=Ca();Object.defineProperty(J,"Event",{enumerable:!0,get:function(){return VA.Event}});Object.defineProperty(J,"Emitter",{enumerable:!0,get:function(){return VA.Emitter}});var HA=Of();Object.defineProperty(J,"CancellationTokenSource",{enumerable:!0,get:function(){return HA.CancellationTokenSource}});Object.defineProperty(J,"CancellationToken",{enumerable:!0,get:function(){return HA.CancellationToken}});var zA=AA();Object.defineProperty(J,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return zA.SharedArraySenderStrategy}});Object.defineProperty(J,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return zA.SharedArrayReceiverStrategy}});var pS=_A();Object.defineProperty(J,"MessageReader",{enumerable:!0,get:function(){return pS.MessageReader}});Object.defineProperty(J,"AbstractMessageReader",{enumerable:!0,get:function(){return pS.AbstractMessageReader}});Object.defineProperty(J,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return pS.ReadableStreamMessageReader}});var hS=UA();Object.defineProperty(J,"MessageWriter",{enumerable:!0,get:function(){return hS.MessageWriter}});Object.defineProperty(J,"AbstractMessageWriter",{enumerable:!0,get:function(){return hS.AbstractMessageWriter}});Object.defineProperty(J,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return hS.WriteableStreamMessageWriter}});var rz=qA();Object.defineProperty(J,"AbstractMessageBuffer",{enumerable:!0,get:function(){return rz.AbstractMessageBuffer}});var Sn=$A();Object.defineProperty(J,"ConnectionStrategy",{enumerable:!0,get:function(){return Sn.ConnectionStrategy}});Object.defineProperty(J,"ConnectionOptions",{enumerable:!0,get:function(){return Sn.ConnectionOptions}});Object.defineProperty(J,"NullLogger",{enumerable:!0,get:function(){return Sn.NullLogger}});Object.defineProperty(J,"createMessageConnection",{enumerable:!0,get:function(){return Sn.createMessageConnection}});Object.defineProperty(J,"ProgressToken",{enumerable:!0,get:function(){return Sn.ProgressToken}});Object.defineProperty(J,"ProgressType",{enumerable:!0,get:function(){return Sn.ProgressType}});Object.defineProperty(J,"Trace",{enumerable:!0,get:function(){return Sn.Trace}});Object.defineProperty(J,"TraceValues",{enumerable:!0,get:function(){return Sn.TraceValues}});Object.defineProperty(J,"TraceFormat",{enumerable:!0,get:function(){return Sn.TraceFormat}});Object.defineProperty(J,"SetTraceNotification",{enumerable:!0,get:function(){return Sn.SetTraceNotification}});Object.defineProperty(J,"LogTraceNotification",{enumerable:!0,get:function(){return Sn.LogTraceNotification}});Object.defineProperty(J,"ConnectionErrors",{enumerable:!0,get:function(){return Sn.ConnectionErrors}});Object.defineProperty(J,"ConnectionError",{enumerable:!0,get:function(){return Sn.ConnectionError}});Object.defineProperty(J,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Sn.CancellationReceiverStrategy}});Object.defineProperty(J,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Sn.CancellationSenderStrategy}});Object.defineProperty(J,"CancellationStrategy",{enumerable:!0,get:function(){return Sn.CancellationStrategy}});Object.defineProperty(J,"MessageStrategy",{enumerable:!0,get:function(){return Sn.MessageStrategy}});var iz=Cs();J.RAL=iz.default});var XA=P(CS=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0});var GA=require("util"),qi=Hf(),zf=class t extends qi.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new GA.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};zf.emptyBuffer=Buffer.allocUnsafe(0);var gS=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),qi.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),qi.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),qi.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),qi.Disposable.create(()=>this.stream.off("data",e))}},mS=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),qi.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),qi.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),qi.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=o=>{o==null?r():i(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},JA=Object.freeze({messageBuffer:Object.freeze({create:t=>new zf(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new GA.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new gS(t),asWritableStream:t=>new mS(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let r=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let r=setInterval(t,e,...n);return{dispose:()=>clearInterval(r)}}})});function yS(){return JA}(function(t){function e(){qi.RAL.install(JA)}t.install=e})(yS||(yS={}));CS.default=yS});var yo=P(Ge=>{"use strict";var sz=Ge&&Ge.__createBinding||(Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]})),oz=Ge&&Ge.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&sz(e,t,n)};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.createMessageConnection=Ge.createServerSocketTransport=Ge.createClientSocketTransport=Ge.createServerPipeTransport=Ge.createClientPipeTransport=Ge.generateRandomPipeName=Ge.StreamMessageWriter=Ge.StreamMessageReader=Ge.SocketMessageWriter=Ge.SocketMessageReader=Ge.PortMessageWriter=Ge.PortMessageReader=Ge.IPCMessageWriter=Ge.IPCMessageReader=void 0;var wa=XA();wa.default.install();var YA=require("path"),az=require("os"),cz=require("crypto"),Xf=require("net"),yr=Hf();oz(Hf(),Ge);var vS=class extends yr.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),yr.Disposable.create(()=>this.process.off("message",e))}};Ge.IPCMessageReader=vS;var SS=class extends yr.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ge.IPCMessageWriter=SS;var bS=class extends yr.AbstractMessageReader{constructor(e){super(),this.onData=new yr.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};Ge.PortMessageReader=bS;var DS=class extends yr.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Ge.PortMessageWriter=DS;var go=class extends yr.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,wa.default)().stream.asReadableStream(e),n)}};Ge.SocketMessageReader=go;var mo=class extends yr.WriteableStreamMessageWriter{constructor(e,n){super((0,wa.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Ge.SocketMessageWriter=mo;var Gf=class extends yr.ReadableStreamMessageReader{constructor(e,n){super((0,wa.default)().stream.asReadableStream(e),n)}};Ge.StreamMessageReader=Gf;var Jf=class extends yr.WriteableStreamMessageWriter{constructor(e,n){super((0,wa.default)().stream.asWritableStream(e),n)}};Ge.StreamMessageWriter=Jf;var QA=process.env.XDG_RUNTIME_DIR,uz=new Map([["linux",107],["darwin",103]]);function lz(){let t=(0,cz.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;QA?e=YA.join(QA,`vscode-ipc-${t}.sock`):e=YA.join(az.tmpdir(),`vscode-${t}.sock`);let n=uz.get(process.platform);return n!==void 0&&e.length>n&&(0,wa.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Ge.generateRandomPipeName=lz;function dz(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=(0,Xf.createServer)(a=>{o.close(),n([new go(a,e),new mo(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}Ge.createClientPipeTransport=dz;function fz(t,e="utf-8"){let n=(0,Xf.createConnection)(t);return[new go(n,e),new mo(n,e)]}Ge.createServerPipeTransport=fz;function pz(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=(0,Xf.createServer)(a=>{o.close(),n([new go(a,e),new mo(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}Ge.createClientSocketTransport=pz;function hz(t,e="utf-8"){let n=(0,Xf.createConnection)(t,"127.0.0.1");return[new go(n,e),new mo(n,e)]}Ge.createServerSocketTransport=hz;function gz(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function mz(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function yz(t,e,n,r){n||(n=yr.NullLogger);let i=gz(t)?new Gf(t):t,s=mz(e)?new Jf(e):e;return yr.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,yr.createMessageConnection)(i,s,n,r)}Ge.createMessageConnection=yz});var wS=P((vre,ZA)=>{"use strict";ZA.exports=yo()});var Qf=P((eI,Yf)=>{(function(t){if(typeof Yf=="object"&&typeof Yf.exports=="object"){var e=t(require,eI);e!==void 0&&(Yf.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var n;(function(w){function R(A){return typeof A=="string"}w.is=R})(n||(e.DocumentUri=n={}));var r;(function(w){function R(A){return typeof A=="string"}w.is=R})(r||(e.URI=r={}));var i;(function(w){w.MIN_VALUE=-2147483648,w.MAX_VALUE=2147483647;function R(A){return typeof A=="number"&&w.MIN_VALUE<=A&&A<=w.MAX_VALUE}w.is=R})(i||(e.integer=i={}));var s;(function(w){w.MIN_VALUE=0,w.MAX_VALUE=2147483647;function R(A){return typeof A=="number"&&w.MIN_VALUE<=A&&A<=w.MAX_VALUE}w.is=R})(s||(e.uinteger=s={}));var o;(function(w){function R(x,S){return x===Number.MAX_VALUE&&(x=s.MAX_VALUE),S===Number.MAX_VALUE&&(S=s.MAX_VALUE),{line:x,character:S}}w.create=R;function A(x){var S=x;return L.objectLiteral(S)&&L.uinteger(S.line)&&L.uinteger(S.character)}w.is=A})(o||(e.Position=o={}));var a;(function(w){function R(x,S,q,Z){if(L.uinteger(x)&&L.uinteger(S)&&L.uinteger(q)&&L.uinteger(Z))return{start:o.create(x,S),end:o.create(q,Z)};if(o.is(x)&&o.is(S))return{start:x,end:S};throw new Error("Range#create called with invalid arguments[".concat(x,", ").concat(S,", ").concat(q,", ").concat(Z,"]"))}w.create=R;function A(x){var S=x;return L.objectLiteral(S)&&o.is(S.start)&&o.is(S.end)}w.is=A})(a||(e.Range=a={}));var c;(function(w){function R(x,S){return{uri:x,range:S}}w.create=R;function A(x){var S=x;return L.objectLiteral(S)&&a.is(S.range)&&(L.string(S.uri)||L.undefined(S.uri))}w.is=A})(c||(e.Location=c={}));var u;(function(w){function R(x,S,q,Z){return{targetUri:x,targetRange:S,targetSelectionRange:q,originSelectionRange:Z}}w.create=R;function A(x){var S=x;return L.objectLiteral(S)&&a.is(S.targetRange)&&L.string(S.targetUri)&&a.is(S.targetSelectionRange)&&(a.is(S.originSelectionRange)||L.undefined(S.originSelectionRange))}w.is=A})(u||(e.LocationLink=u={}));var f;(function(w){function R(x,S,q,Z){return{red:x,green:S,blue:q,alpha:Z}}w.create=R;function A(x){var S=x;return L.objectLiteral(S)&&L.numberRange(S.red,0,1)&&L.numberRange(S.green,0,1)&&L.numberRange(S.blue,0,1)&&L.numberRange(S.alpha,0,1)}w.is=A})(f||(e.Color=f={}));var g;(function(w){function R(x,S){return{range:x,color:S}}w.create=R;function A(x){var S=x;return L.objectLiteral(S)&&a.is(S.range)&&f.is(S.color)}w.is=A})(g||(e.ColorInformation=g={}));var p;(function(w){function R(x,S,q){return{label:x,textEdit:S,additionalTextEdits:q}}w.create=R;function A(x){var S=x;return L.objectLiteral(S)&&L.string(S.label)&&(L.undefined(S.textEdit)||I.is(S))&&(L.undefined(S.additionalTextEdits)||L.typedArray(S.additionalTextEdits,I.is))}w.is=A})(p||(e.ColorPresentation=p={}));var l;(function(w){w.Comment="comment",w.Imports="imports",w.Region="region"})(l||(e.FoldingRangeKind=l={}));var d;(function(w){function R(x,S,q,Z,Ae,kt){var mt={startLine:x,endLine:S};return L.defined(q)&&(mt.startCharacter=q),L.defined(Z)&&(mt.endCharacter=Z),L.defined(Ae)&&(mt.kind=Ae),L.defined(kt)&&(mt.collapsedText=kt),mt}w.create=R;function A(x){var S=x;return L.objectLiteral(S)&&L.uinteger(S.startLine)&&L.uinteger(S.startLine)&&(L.undefined(S.startCharacter)||L.uinteger(S.startCharacter))&&(L.undefined(S.endCharacter)||L.uinteger(S.endCharacter))&&(L.undefined(S.kind)||L.string(S.kind))}w.is=A})(d||(e.FoldingRange=d={}));var h;(function(w){function R(x,S){return{location:x,message:S}}w.create=R;function A(x){var S=x;return L.defined(S)&&c.is(S.location)&&L.string(S.message)}w.is=A})(h||(e.DiagnosticRelatedInformation=h={}));var m;(function(w){w.Error=1,w.Warning=2,w.Information=3,w.Hint=4})(m||(e.DiagnosticSeverity=m={}));var C;(function(w){w.Unnecessary=1,w.Deprecated=2})(C||(e.DiagnosticTag=C={}));var D;(function(w){function R(A){var x=A;return L.objectLiteral(x)&&L.string(x.href)}w.is=R})(D||(e.CodeDescription=D={}));var T;(function(w){function R(x,S,q,Z,Ae,kt){var mt={range:x,message:S};return L.defined(q)&&(mt.severity=q),L.defined(Z)&&(mt.code=Z),L.defined(Ae)&&(mt.source=Ae),L.defined(kt)&&(mt.relatedInformation=kt),mt}w.create=R;function A(x){var S,q=x;return L.defined(q)&&a.is(q.range)&&L.string(q.message)&&(L.number(q.severity)||L.undefined(q.severity))&&(L.integer(q.code)||L.string(q.code)||L.undefined(q.code))&&(L.undefined(q.codeDescription)||L.string((S=q.codeDescription)===null||S===void 0?void 0:S.href))&&(L.string(q.source)||L.undefined(q.source))&&(L.undefined(q.relatedInformation)||L.typedArray(q.relatedInformation,h.is))}w.is=A})(T||(e.Diagnostic=T={}));var k;(function(w){function R(x,S){for(var q=[],Z=2;Z<arguments.length;Z++)q[Z-2]=arguments[Z];var Ae={title:x,command:S};return L.defined(q)&&q.length>0&&(Ae.arguments=q),Ae}w.create=R;function A(x){var S=x;return L.defined(S)&&L.string(S.title)&&L.string(S.command)}w.is=A})(k||(e.Command=k={}));var I;(function(w){function R(q,Z){return{range:q,newText:Z}}w.replace=R;function A(q,Z){return{range:{start:q,end:q},newText:Z}}w.insert=A;function x(q){return{range:q,newText:""}}w.del=x;function S(q){var Z=q;return L.objectLiteral(Z)&&L.string(Z.newText)&&a.is(Z.range)}w.is=S})(I||(e.TextEdit=I={}));var B;(function(w){function R(x,S,q){var Z={label:x};return S!==void 0&&(Z.needsConfirmation=S),q!==void 0&&(Z.description=q),Z}w.create=R;function A(x){var S=x;return L.objectLiteral(S)&&L.string(S.label)&&(L.boolean(S.needsConfirmation)||S.needsConfirmation===void 0)&&(L.string(S.description)||S.description===void 0)}w.is=A})(B||(e.ChangeAnnotation=B={}));var W;(function(w){function R(A){var x=A;return L.string(x)}w.is=R})(W||(e.ChangeAnnotationIdentifier=W={}));var j;(function(w){function R(q,Z,Ae){return{range:q,newText:Z,annotationId:Ae}}w.replace=R;function A(q,Z,Ae){return{range:{start:q,end:q},newText:Z,annotationId:Ae}}w.insert=A;function x(q,Z){return{range:q,newText:"",annotationId:Z}}w.del=x;function S(q){var Z=q;return I.is(Z)&&(B.is(Z.annotationId)||W.is(Z.annotationId))}w.is=S})(j||(e.AnnotatedTextEdit=j={}));var re;(function(w){function R(x,S){return{textDocument:x,edits:S}}w.create=R;function A(x){var S=x;return L.defined(S)&&se.is(S.textDocument)&&Array.isArray(S.edits)}w.is=A})(re||(e.TextDocumentEdit=re={}));var ne;(function(w){function R(x,S,q){var Z={kind:"create",uri:x};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(Z.options=S),q!==void 0&&(Z.annotationId=q),Z}w.create=R;function A(x){var S=x;return S&&S.kind==="create"&&L.string(S.uri)&&(S.options===void 0||(S.options.overwrite===void 0||L.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||L.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||W.is(S.annotationId))}w.is=A})(ne||(e.CreateFile=ne={}));var V;(function(w){function R(x,S,q,Z){var Ae={kind:"rename",oldUri:x,newUri:S};return q!==void 0&&(q.overwrite!==void 0||q.ignoreIfExists!==void 0)&&(Ae.options=q),Z!==void 0&&(Ae.annotationId=Z),Ae}w.create=R;function A(x){var S=x;return S&&S.kind==="rename"&&L.string(S.oldUri)&&L.string(S.newUri)&&(S.options===void 0||(S.options.overwrite===void 0||L.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||L.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||W.is(S.annotationId))}w.is=A})(V||(e.RenameFile=V={}));var N;(function(w){function R(x,S,q){var Z={kind:"delete",uri:x};return S!==void 0&&(S.recursive!==void 0||S.ignoreIfNotExists!==void 0)&&(Z.options=S),q!==void 0&&(Z.annotationId=q),Z}w.create=R;function A(x){var S=x;return S&&S.kind==="delete"&&L.string(S.uri)&&(S.options===void 0||(S.options.recursive===void 0||L.boolean(S.options.recursive))&&(S.options.ignoreIfNotExists===void 0||L.boolean(S.options.ignoreIfNotExists)))&&(S.annotationId===void 0||W.is(S.annotationId))}w.is=A})(N||(e.DeleteFile=N={}));var $;(function(w){function R(A){var x=A;return x&&(x.changes!==void 0||x.documentChanges!==void 0)&&(x.documentChanges===void 0||x.documentChanges.every(function(S){return L.string(S.kind)?ne.is(S)||V.is(S)||N.is(S):re.is(S)}))}w.is=R})($||(e.WorkspaceEdit=$={}));var te=(function(){function w(R,A){this.edits=R,this.changeAnnotations=A}return w.prototype.insert=function(R,A,x){var S,q;if(x===void 0?S=I.insert(R,A):W.is(x)?(q=x,S=j.insert(R,A,x)):(this.assertChangeAnnotations(this.changeAnnotations),q=this.changeAnnotations.manage(x),S=j.insert(R,A,q)),this.edits.push(S),q!==void 0)return q},w.prototype.replace=function(R,A,x){var S,q;if(x===void 0?S=I.replace(R,A):W.is(x)?(q=x,S=j.replace(R,A,x)):(this.assertChangeAnnotations(this.changeAnnotations),q=this.changeAnnotations.manage(x),S=j.replace(R,A,q)),this.edits.push(S),q!==void 0)return q},w.prototype.delete=function(R,A){var x,S;if(A===void 0?x=I.del(R):W.is(A)?(S=A,x=j.del(R,A)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(A),x=j.del(R,S)),this.edits.push(x),S!==void 0)return S},w.prototype.add=function(R){this.edits.push(R)},w.prototype.all=function(){return this.edits},w.prototype.clear=function(){this.edits.splice(0,this.edits.length)},w.prototype.assertChangeAnnotations=function(R){if(R===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},w})(),K=(function(){function w(R){this._annotations=R===void 0?Object.create(null):R,this._counter=0,this._size=0}return w.prototype.all=function(){return this._annotations},Object.defineProperty(w.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),w.prototype.manage=function(R,A){var x;if(W.is(R)?x=R:(x=this.nextId(),A=R),this._annotations[x]!==void 0)throw new Error("Id ".concat(x," is already in use."));if(A===void 0)throw new Error("No annotation provided for id ".concat(x));return this._annotations[x]=A,this._size++,x},w.prototype.nextId=function(){return this._counter++,this._counter.toString()},w})(),G=(function(){function w(R){var A=this;this._textEditChanges=Object.create(null),R!==void 0?(this._workspaceEdit=R,R.documentChanges?(this._changeAnnotations=new K(R.changeAnnotations),R.changeAnnotations=this._changeAnnotations.all(),R.documentChanges.forEach(function(x){if(re.is(x)){var S=new te(x.edits,A._changeAnnotations);A._textEditChanges[x.textDocument.uri]=S}})):R.changes&&Object.keys(R.changes).forEach(function(x){var S=new te(R.changes[x]);A._textEditChanges[x]=S})):this._workspaceEdit={}}return Object.defineProperty(w.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),w.prototype.getTextEditChange=function(R){if(se.is(R)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var A={uri:R.uri,version:R.version},x=this._textEditChanges[A.uri];if(!x){var S=[],q={textDocument:A,edits:S};this._workspaceEdit.documentChanges.push(q),x=new te(S,this._changeAnnotations),this._textEditChanges[A.uri]=x}return x}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var x=this._textEditChanges[R];if(!x){var S=[];this._workspaceEdit.changes[R]=S,x=new te(S),this._textEditChanges[R]=x}return x}},w.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new K,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},w.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},w.prototype.createFile=function(R,A,x){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;B.is(A)||W.is(A)?S=A:x=A;var q,Z;if(S===void 0?q=ne.create(R,x):(Z=W.is(S)?S:this._changeAnnotations.manage(S),q=ne.create(R,x,Z)),this._workspaceEdit.documentChanges.push(q),Z!==void 0)return Z},w.prototype.renameFile=function(R,A,x,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var q;B.is(x)||W.is(x)?q=x:S=x;var Z,Ae;if(q===void 0?Z=V.create(R,A,S):(Ae=W.is(q)?q:this._changeAnnotations.manage(q),Z=V.create(R,A,S,Ae)),this._workspaceEdit.documentChanges.push(Z),Ae!==void 0)return Ae},w.prototype.deleteFile=function(R,A,x){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;B.is(A)||W.is(A)?S=A:x=A;var q,Z;if(S===void 0?q=N.create(R,x):(Z=W.is(S)?S:this._changeAnnotations.manage(S),q=N.create(R,x,Z)),this._workspaceEdit.documentChanges.push(q),Z!==void 0)return Z},w})();e.WorkspaceChange=G;var Q;(function(w){function R(x){return{uri:x}}w.create=R;function A(x){var S=x;return L.defined(S)&&L.string(S.uri)}w.is=A})(Q||(e.TextDocumentIdentifier=Q={}));var ae;(function(w){function R(x,S){return{uri:x,version:S}}w.create=R;function A(x){var S=x;return L.defined(S)&&L.string(S.uri)&&L.integer(S.version)}w.is=A})(ae||(e.VersionedTextDocumentIdentifier=ae={}));var se;(function(w){function R(x,S){return{uri:x,version:S}}w.create=R;function A(x){var S=x;return L.defined(S)&&L.string(S.uri)&&(S.version===null||L.integer(S.version))}w.is=A})(se||(e.OptionalVersionedTextDocumentIdentifier=se={}));var ie;(function(w){function R(x,S,q,Z){return{uri:x,languageId:S,version:q,text:Z}}w.create=R;function A(x){var S=x;return L.defined(S)&&L.string(S.uri)&&L.string(S.languageId)&&L.integer(S.version)&&L.string(S.text)}w.is=A})(ie||(e.TextDocumentItem=ie={}));var ye;(function(w){w.PlainText="plaintext",w.Markdown="markdown";function R(A){var x=A;return x===w.PlainText||x===w.Markdown}w.is=R})(ye||(e.MarkupKind=ye={}));var ve;(function(w){function R(A){var x=A;return L.objectLiteral(A)&&ye.is(x.kind)&&L.string(x.value)}w.is=R})(ve||(e.MarkupContent=ve={}));var $e;(function(w){w.Text=1,w.Method=2,w.Function=3,w.Constructor=4,w.Field=5,w.Variable=6,w.Class=7,w.Interface=8,w.Module=9,w.Property=10,w.Unit=11,w.Value=12,w.Enum=13,w.Keyword=14,w.Snippet=15,w.Color=16,w.File=17,w.Reference=18,w.Folder=19,w.EnumMember=20,w.Constant=21,w.Struct=22,w.Event=23,w.Operator=24,w.TypeParameter=25})($e||(e.CompletionItemKind=$e={}));var ke;(function(w){w.PlainText=1,w.Snippet=2})(ke||(e.InsertTextFormat=ke={}));var ht;(function(w){w.Deprecated=1})(ht||(e.CompletionItemTag=ht={}));var Tt;(function(w){function R(x,S,q){return{newText:x,insert:S,replace:q}}w.create=R;function A(x){var S=x;return S&&L.string(S.newText)&&a.is(S.insert)&&a.is(S.replace)}w.is=A})(Tt||(e.InsertReplaceEdit=Tt={}));var zn;(function(w){w.asIs=1,w.adjustIndentation=2})(zn||(e.InsertTextMode=zn={}));var Ln;(function(w){function R(A){var x=A;return x&&(L.string(x.detail)||x.detail===void 0)&&(L.string(x.description)||x.description===void 0)}w.is=R})(Ln||(e.CompletionItemLabelDetails=Ln={}));var Mn;(function(w){function R(A){return{label:A}}w.create=R})(Mn||(e.CompletionItem=Mn={}));var Un;(function(w){function R(A,x){return{items:A||[],isIncomplete:!!x}}w.create=R})(Un||(e.CompletionList=Un={}));var Gn;(function(w){function R(x){return x.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}w.fromPlainText=R;function A(x){var S=x;return L.string(S)||L.objectLiteral(S)&&L.string(S.language)&&L.string(S.value)}w.is=A})(Gn||(e.MarkedString=Gn={}));var nt;(function(w){function R(A){var x=A;return!!x&&L.objectLiteral(x)&&(ve.is(x.contents)||Gn.is(x.contents)||L.typedArray(x.contents,Gn.is))&&(A.range===void 0||a.is(A.range))}w.is=R})(nt||(e.Hover=nt={}));var dr;(function(w){function R(A,x){return x?{label:A,documentation:x}:{label:A}}w.create=R})(dr||(e.ParameterInformation=dr={}));var qn;(function(w){function R(A,x){for(var S=[],q=2;q<arguments.length;q++)S[q-2]=arguments[q];var Z={label:A};return L.defined(x)&&(Z.documentation=x),L.defined(S)?Z.parameters=S:Z.parameters=[],Z}w.create=R})(qn||(e.SignatureInformation=qn={}));var nn;(function(w){w.Text=1,w.Read=2,w.Write=3})(nn||(e.DocumentHighlightKind=nn={}));var Fr;(function(w){function R(A,x){var S={range:A};return L.number(x)&&(S.kind=x),S}w.create=R})(Fr||(e.DocumentHighlight=Fr={}));var an;(function(w){w.File=1,w.Module=2,w.Namespace=3,w.Package=4,w.Class=5,w.Method=6,w.Property=7,w.Field=8,w.Constructor=9,w.Enum=10,w.Interface=11,w.Function=12,w.Variable=13,w.Constant=14,w.String=15,w.Number=16,w.Boolean=17,w.Array=18,w.Object=19,w.Key=20,w.Null=21,w.EnumMember=22,w.Struct=23,w.Event=24,w.Operator=25,w.TypeParameter=26})(an||(e.SymbolKind=an={}));var Jn;(function(w){w.Deprecated=1})(Jn||(e.SymbolTag=Jn={}));var dt;(function(w){function R(A,x,S,q,Z){var Ae={name:A,kind:x,location:{uri:q,range:S}};return Z&&(Ae.containerName=Z),Ae}w.create=R})(dt||(e.SymbolInformation=dt={}));var xt;(function(w){function R(A,x,S,q){return q!==void 0?{name:A,kind:x,location:{uri:S,range:q}}:{name:A,kind:x,location:{uri:S}}}w.create=R})(xt||(e.WorkspaceSymbol=xt={}));var Vt;(function(w){function R(x,S,q,Z,Ae,kt){var mt={name:x,detail:S,kind:q,range:Z,selectionRange:Ae};return kt!==void 0&&(mt.children=kt),mt}w.create=R;function A(x){var S=x;return S&&L.string(S.name)&&L.number(S.kind)&&a.is(S.range)&&a.is(S.selectionRange)&&(S.detail===void 0||L.string(S.detail))&&(S.deprecated===void 0||L.boolean(S.deprecated))&&(S.children===void 0||Array.isArray(S.children))&&(S.tags===void 0||Array.isArray(S.tags))}w.is=A})(Vt||(e.DocumentSymbol=Vt={}));var gn;(function(w){w.Empty="",w.QuickFix="quickfix",w.Refactor="refactor",w.RefactorExtract="refactor.extract",w.RefactorInline="refactor.inline",w.RefactorRewrite="refactor.rewrite",w.Source="source",w.SourceOrganizeImports="source.organizeImports",w.SourceFixAll="source.fixAll"})(gn||(e.CodeActionKind=gn={}));var jt;(function(w){w.Invoked=1,w.Automatic=2})(jt||(e.CodeActionTriggerKind=jt={}));var jn;(function(w){function R(x,S,q){var Z={diagnostics:x};return S!=null&&(Z.only=S),q!=null&&(Z.triggerKind=q),Z}w.create=R;function A(x){var S=x;return L.defined(S)&&L.typedArray(S.diagnostics,T.is)&&(S.only===void 0||L.typedArray(S.only,L.string))&&(S.triggerKind===void 0||S.triggerKind===jt.Invoked||S.triggerKind===jt.Automatic)}w.is=A})(jn||(e.CodeActionContext=jn={}));var Xn;(function(w){function R(x,S,q){var Z={title:x},Ae=!0;return typeof S=="string"?(Ae=!1,Z.kind=S):k.is(S)?Z.command=S:Z.edit=S,Ae&&q!==void 0&&(Z.kind=q),Z}w.create=R;function A(x){var S=x;return S&&L.string(S.title)&&(S.diagnostics===void 0||L.typedArray(S.diagnostics,T.is))&&(S.kind===void 0||L.string(S.kind))&&(S.edit!==void 0||S.command!==void 0)&&(S.command===void 0||k.is(S.command))&&(S.isPreferred===void 0||L.boolean(S.isPreferred))&&(S.edit===void 0||$.is(S.edit))}w.is=A})(Xn||(e.CodeAction=Xn={}));var mn;(function(w){function R(x,S){var q={range:x};return L.defined(S)&&(q.data=S),q}w.create=R;function A(x){var S=x;return L.defined(S)&&a.is(S.range)&&(L.undefined(S.command)||k.is(S.command))}w.is=A})(mn||(e.CodeLens=mn={}));var Yn;(function(w){function R(x,S){return{tabSize:x,insertSpaces:S}}w.create=R;function A(x){var S=x;return L.defined(S)&&L.uinteger(S.tabSize)&&L.boolean(S.insertSpaces)}w.is=A})(Yn||(e.FormattingOptions=Yn={}));var Et;(function(w){function R(x,S,q){return{range:x,target:S,data:q}}w.create=R;function A(x){var S=x;return L.defined(S)&&a.is(S.range)&&(L.undefined(S.target)||L.string(S.target))}w.is=A})(Et||(e.DocumentLink=Et={}));var v;(function(w){function R(x,S){return{range:x,parent:S}}w.create=R;function A(x){var S=x;return L.objectLiteral(S)&&a.is(S.range)&&(S.parent===void 0||w.is(S.parent))}w.is=A})(v||(e.SelectionRange=v={}));var F;(function(w){w.namespace="namespace",w.type="type",w.class="class",w.enum="enum",w.interface="interface",w.struct="struct",w.typeParameter="typeParameter",w.parameter="parameter",w.variable="variable",w.property="property",w.enumMember="enumMember",w.event="event",w.function="function",w.method="method",w.macro="macro",w.keyword="keyword",w.modifier="modifier",w.comment="comment",w.string="string",w.number="number",w.regexp="regexp",w.operator="operator",w.decorator="decorator"})(F||(e.SemanticTokenTypes=F={}));var U;(function(w){w.declaration="declaration",w.definition="definition",w.readonly="readonly",w.static="static",w.deprecated="deprecated",w.abstract="abstract",w.async="async",w.modification="modification",w.documentation="documentation",w.defaultLibrary="defaultLibrary"})(U||(e.SemanticTokenModifiers=U={}));var z;(function(w){function R(A){var x=A;return L.objectLiteral(x)&&(x.resultId===void 0||typeof x.resultId=="string")&&Array.isArray(x.data)&&(x.data.length===0||typeof x.data[0]=="number")}w.is=R})(z||(e.SemanticTokens=z={}));var Ce;(function(w){function R(x,S){return{range:x,text:S}}w.create=R;function A(x){var S=x;return S!=null&&a.is(S.range)&&L.string(S.text)}w.is=A})(Ce||(e.InlineValueText=Ce={}));var ge;(function(w){function R(x,S,q){return{range:x,variableName:S,caseSensitiveLookup:q}}w.create=R;function A(x){var S=x;return S!=null&&a.is(S.range)&&L.boolean(S.caseSensitiveLookup)&&(L.string(S.variableName)||S.variableName===void 0)}w.is=A})(ge||(e.InlineValueVariableLookup=ge={}));var Te;(function(w){function R(x,S){return{range:x,expression:S}}w.create=R;function A(x){var S=x;return S!=null&&a.is(S.range)&&(L.string(S.expression)||S.expression===void 0)}w.is=A})(Te||(e.InlineValueEvaluatableExpression=Te={}));var xe;(function(w){function R(x,S){return{frameId:x,stoppedLocation:S}}w.create=R;function A(x){var S=x;return L.defined(S)&&a.is(x.stoppedLocation)}w.is=A})(xe||(e.InlineValueContext=xe={}));var ue;(function(w){w.Type=1,w.Parameter=2;function R(A){return A===1||A===2}w.is=R})(ue||(e.InlayHintKind=ue={}));var Se;(function(w){function R(x){return{value:x}}w.create=R;function A(x){var S=x;return L.objectLiteral(S)&&(S.tooltip===void 0||L.string(S.tooltip)||ve.is(S.tooltip))&&(S.location===void 0||c.is(S.location))&&(S.command===void 0||k.is(S.command))}w.is=A})(Se||(e.InlayHintLabelPart=Se={}));var de;(function(w){function R(x,S,q){var Z={position:x,label:S};return q!==void 0&&(Z.kind=q),Z}w.create=R;function A(x){var S=x;return L.objectLiteral(S)&&o.is(S.position)&&(L.string(S.label)||L.typedArray(S.label,Se.is))&&(S.kind===void 0||ue.is(S.kind))&&S.textEdits===void 0||L.typedArray(S.textEdits,I.is)&&(S.tooltip===void 0||L.string(S.tooltip)||ve.is(S.tooltip))&&(S.paddingLeft===void 0||L.boolean(S.paddingLeft))&&(S.paddingRight===void 0||L.boolean(S.paddingRight))}w.is=A})(de||(e.InlayHint=de={}));var O;(function(w){function R(A){return{kind:"snippet",value:A}}w.createSnippet=R})(O||(e.StringValue=O={}));var M;(function(w){function R(A,x,S,q){return{insertText:A,filterText:x,range:S,command:q}}w.create=R})(M||(e.InlineCompletionItem=M={}));var Y;(function(w){function R(A){return{items:A}}w.create=R})(Y||(e.InlineCompletionList=Y={}));var Ee;(function(w){w.Invoked=0,w.Automatic=1})(Ee||(e.InlineCompletionTriggerKind=Ee={}));var Bt;(function(w){function R(A,x){return{range:A,text:x}}w.create=R})(Bt||(e.SelectedCompletionInfo=Bt={}));var b;(function(w){function R(A,x){return{triggerKind:A,selectedCompletionInfo:x}}w.create=R})(b||(e.InlineCompletionContext=b={}));var H;(function(w){function R(A){var x=A;return L.objectLiteral(x)&&r.is(x.uri)&&L.string(x.name)}w.is=R})(H||(e.WorkspaceFolder=H={})),e.EOL=[`
`,`\r
`,"\r"];var he;(function(w){function R(q,Z,Ae,kt){return new et(q,Z,Ae,kt)}w.create=R;function A(q){var Z=q;return!!(L.defined(Z)&&L.string(Z.uri)&&(L.undefined(Z.languageId)||L.string(Z.languageId))&&L.uinteger(Z.lineCount)&&L.func(Z.getText)&&L.func(Z.positionAt)&&L.func(Z.offsetAt))}w.is=A;function x(q,Z){for(var Ae=q.getText(),kt=S(Z,function(di,y){var _=di.range.start.line-y.range.start.line;return _===0?di.range.start.character-y.range.start.character:_}),mt=Ae.length,Qn=kt.length-1;Qn>=0;Qn--){var fr=kt[Qn],Gr=q.offsetAt(fr.range.start),Ke=q.offsetAt(fr.range.end);if(Ke<=mt)Ae=Ae.substring(0,Gr)+fr.newText+Ae.substring(Ke,Ae.length);else throw new Error("Overlapping edit");mt=Gr}return Ae}w.applyEdits=x;function S(q,Z){if(q.length<=1)return q;var Ae=q.length/2|0,kt=q.slice(0,Ae),mt=q.slice(Ae);S(kt,Z),S(mt,Z);for(var Qn=0,fr=0,Gr=0;Qn<kt.length&&fr<mt.length;){var Ke=Z(kt[Qn],mt[fr]);Ke<=0?q[Gr++]=kt[Qn++]:q[Gr++]=mt[fr++]}for(;Qn<kt.length;)q[Gr++]=kt[Qn++];for(;fr<mt.length;)q[Gr++]=mt[fr++];return q}})(he||(e.TextDocument=he={}));var et=(function(){function w(R,A,x,S){this._uri=R,this._languageId=A,this._version=x,this._content=S,this._lineOffsets=void 0}return Object.defineProperty(w.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),w.prototype.getText=function(R){if(R){var A=this.offsetAt(R.start),x=this.offsetAt(R.end);return this._content.substring(A,x)}return this._content},w.prototype.update=function(R,A){this._content=R.text,this._version=A,this._lineOffsets=void 0},w.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var R=[],A=this._content,x=!0,S=0;S<A.length;S++){x&&(R.push(S),x=!1);var q=A.charAt(S);x=q==="\r"||q===`
`,q==="\r"&&S+1<A.length&&A.charAt(S+1)===`
`&&S++}x&&A.length>0&&R.push(A.length),this._lineOffsets=R}return this._lineOffsets},w.prototype.positionAt=function(R){R=Math.max(Math.min(R,this._content.length),0);var A=this.getLineOffsets(),x=0,S=A.length;if(S===0)return o.create(0,R);for(;x<S;){var q=Math.floor((x+S)/2);A[q]>R?S=q:x=q+1}var Z=x-1;return o.create(Z,R-A[Z])},w.prototype.offsetAt=function(R){var A=this.getLineOffsets();if(R.line>=A.length)return this._content.length;if(R.line<0)return 0;var x=A[R.line],S=R.line+1<A.length?A[R.line+1]:this._content.length;return Math.max(Math.min(x+R.character,S),x)},Object.defineProperty(w.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),w})(),L;(function(w){var R=Object.prototype.toString;function A(Ke){return typeof Ke<"u"}w.defined=A;function x(Ke){return typeof Ke>"u"}w.undefined=x;function S(Ke){return Ke===!0||Ke===!1}w.boolean=S;function q(Ke){return R.call(Ke)==="[object String]"}w.string=q;function Z(Ke){return R.call(Ke)==="[object Number]"}w.number=Z;function Ae(Ke,di,y){return R.call(Ke)==="[object Number]"&&di<=Ke&&Ke<=y}w.numberRange=Ae;function kt(Ke){return R.call(Ke)==="[object Number]"&&-2147483648<=Ke&&Ke<=2147483647}w.integer=kt;function mt(Ke){return R.call(Ke)==="[object Number]"&&0<=Ke&&Ke<=2147483647}w.uinteger=mt;function Qn(Ke){return R.call(Ke)==="[object Function]"}w.func=Qn;function fr(Ke){return Ke!==null&&typeof Ke=="object"}w.objectLiteral=fr;function Gr(Ke,di){return Array.isArray(Ke)&&Ke.every(di)}w.typedArray=Gr})(L||(L={}))})});var Ft=P(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.ProtocolNotificationType=nr.ProtocolNotificationType0=nr.ProtocolRequestType=nr.ProtocolRequestType0=nr.RegistrationType=nr.MessageDirection=void 0;var Ta=yo(),tI;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(tI||(nr.MessageDirection=tI={}));var TS=class{constructor(e){this.method=e}};nr.RegistrationType=TS;var xS=class extends Ta.RequestType0{constructor(e){super(e)}};nr.ProtocolRequestType0=xS;var ES=class extends Ta.RequestType{constructor(e){super(e,Ta.ParameterStructures.byName)}};nr.ProtocolRequestType=ES;var kS=class extends Ta.NotificationType0{constructor(e){super(e)}};nr.ProtocolNotificationType0=kS;var FS=class extends Ta.NotificationType{constructor(e){super(e,Ta.ParameterStructures.byName)}};nr.ProtocolNotificationType=FS});var Zf=P(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.objectLiteral=Qt.typedArray=Qt.stringArray=Qt.array=Qt.func=Qt.error=Qt.number=Qt.string=Qt.boolean=void 0;function Cz(t){return t===!0||t===!1}Qt.boolean=Cz;function nI(t){return typeof t=="string"||t instanceof String}Qt.string=nI;function vz(t){return typeof t=="number"||t instanceof Number}Qt.number=vz;function Sz(t){return t instanceof Error}Qt.error=Sz;function bz(t){return typeof t=="function"}Qt.func=bz;function rI(t){return Array.isArray(t)}Qt.array=rI;function Dz(t){return rI(t)&&t.every(e=>nI(e))}Qt.stringArray=Dz;function wz(t,e){return Array.isArray(t)&&t.every(e)}Qt.typedArray=wz;function Tz(t){return t!==null&&typeof t=="object"}Qt.objectLiteral=Tz});var oI=P(ep=>{"use strict";Object.defineProperty(ep,"__esModule",{value:!0});ep.ImplementationRequest=void 0;var iI=Ft(),sI;(function(t){t.method="textDocument/implementation",t.messageDirection=iI.MessageDirection.clientToServer,t.type=new iI.ProtocolRequestType(t.method)})(sI||(ep.ImplementationRequest=sI={}))});var uI=P(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.TypeDefinitionRequest=void 0;var aI=Ft(),cI;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=aI.MessageDirection.clientToServer,t.type=new aI.ProtocolRequestType(t.method)})(cI||(tp.TypeDefinitionRequest=cI={}))});var fI=P(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.DidChangeWorkspaceFoldersNotification=xa.WorkspaceFoldersRequest=void 0;var np=Ft(),lI;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=np.MessageDirection.serverToClient,t.type=new np.ProtocolRequestType0(t.method)})(lI||(xa.WorkspaceFoldersRequest=lI={}));var dI;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=np.MessageDirection.clientToServer,t.type=new np.ProtocolNotificationType(t.method)})(dI||(xa.DidChangeWorkspaceFoldersNotification=dI={}))});var gI=P(rp=>{"use strict";Object.defineProperty(rp,"__esModule",{value:!0});rp.ConfigurationRequest=void 0;var pI=Ft(),hI;(function(t){t.method="workspace/configuration",t.messageDirection=pI.MessageDirection.serverToClient,t.type=new pI.ProtocolRequestType(t.method)})(hI||(rp.ConfigurationRequest=hI={}))});var CI=P(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.ColorPresentationRequest=Ea.DocumentColorRequest=void 0;var ip=Ft(),mI;(function(t){t.method="textDocument/documentColor",t.messageDirection=ip.MessageDirection.clientToServer,t.type=new ip.ProtocolRequestType(t.method)})(mI||(Ea.DocumentColorRequest=mI={}));var yI;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=ip.MessageDirection.clientToServer,t.type=new ip.ProtocolRequestType(t.method)})(yI||(Ea.ColorPresentationRequest=yI={}))});var bI=P(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.FoldingRangeRefreshRequest=ka.FoldingRangeRequest=void 0;var sp=Ft(),vI;(function(t){t.method="textDocument/foldingRange",t.messageDirection=sp.MessageDirection.clientToServer,t.type=new sp.ProtocolRequestType(t.method)})(vI||(ka.FoldingRangeRequest=vI={}));var SI;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=sp.MessageDirection.serverToClient,t.type=new sp.ProtocolRequestType0(t.method)})(SI||(ka.FoldingRangeRefreshRequest=SI={}))});var TI=P(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.DeclarationRequest=void 0;var DI=Ft(),wI;(function(t){t.method="textDocument/declaration",t.messageDirection=DI.MessageDirection.clientToServer,t.type=new DI.ProtocolRequestType(t.method)})(wI||(op.DeclarationRequest=wI={}))});var kI=P(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.SelectionRangeRequest=void 0;var xI=Ft(),EI;(function(t){t.method="textDocument/selectionRange",t.messageDirection=xI.MessageDirection.clientToServer,t.type=new xI.ProtocolRequestType(t.method)})(EI||(ap.SelectionRangeRequest=EI={}))});var AI=P(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.WorkDoneProgressCancelNotification=bs.WorkDoneProgressCreateRequest=bs.WorkDoneProgress=void 0;var xz=yo(),cp=Ft(),FI;(function(t){t.type=new xz.ProgressType;function e(n){return n===t.type}t.is=e})(FI||(bs.WorkDoneProgress=FI={}));var PI;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=cp.MessageDirection.serverToClient,t.type=new cp.ProtocolRequestType(t.method)})(PI||(bs.WorkDoneProgressCreateRequest=PI={}));var RI;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=cp.MessageDirection.clientToServer,t.type=new cp.ProtocolNotificationType(t.method)})(RI||(bs.WorkDoneProgressCancelNotification=RI={}))});var OI=P(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.CallHierarchyOutgoingCallsRequest=Ds.CallHierarchyIncomingCallsRequest=Ds.CallHierarchyPrepareRequest=void 0;var Fa=Ft(),II;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=Fa.MessageDirection.clientToServer,t.type=new Fa.ProtocolRequestType(t.method)})(II||(Ds.CallHierarchyPrepareRequest=II={}));var _I;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=Fa.MessageDirection.clientToServer,t.type=new Fa.ProtocolRequestType(t.method)})(_I||(Ds.CallHierarchyIncomingCallsRequest=_I={}));var NI;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=Fa.MessageDirection.clientToServer,t.type=new Fa.ProtocolRequestType(t.method)})(NI||(Ds.CallHierarchyOutgoingCallsRequest=NI={}))});var BI=P(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.SemanticTokensRefreshRequest=rr.SemanticTokensRangeRequest=rr.SemanticTokensDeltaRequest=rr.SemanticTokensRequest=rr.SemanticTokensRegistrationType=rr.TokenFormat=void 0;var ji=Ft(),LI;(function(t){t.Relative="relative"})(LI||(rr.TokenFormat=LI={}));var Ou;(function(t){t.method="textDocument/semanticTokens",t.type=new ji.RegistrationType(t.method)})(Ou||(rr.SemanticTokensRegistrationType=Ou={}));var MI;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=ji.MessageDirection.clientToServer,t.type=new ji.ProtocolRequestType(t.method),t.registrationMethod=Ou.method})(MI||(rr.SemanticTokensRequest=MI={}));var UI;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=ji.MessageDirection.clientToServer,t.type=new ji.ProtocolRequestType(t.method),t.registrationMethod=Ou.method})(UI||(rr.SemanticTokensDeltaRequest=UI={}));var qI;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=ji.MessageDirection.clientToServer,t.type=new ji.ProtocolRequestType(t.method),t.registrationMethod=Ou.method})(qI||(rr.SemanticTokensRangeRequest=qI={}));var jI;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=ji.MessageDirection.serverToClient,t.type=new ji.ProtocolRequestType0(t.method)})(jI||(rr.SemanticTokensRefreshRequest=jI={}))});var $I=P(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.ShowDocumentRequest=void 0;var WI=Ft(),KI;(function(t){t.method="window/showDocument",t.messageDirection=WI.MessageDirection.serverToClient,t.type=new WI.ProtocolRequestType(t.method)})(KI||(up.ShowDocumentRequest=KI={}))});var zI=P(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.LinkedEditingRangeRequest=void 0;var VI=Ft(),HI;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=VI.MessageDirection.clientToServer,t.type=new VI.ProtocolRequestType(t.method)})(HI||(lp.LinkedEditingRangeRequest=HI={}))});var t_=P(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.WillDeleteFilesRequest=En.DidDeleteFilesNotification=En.DidRenameFilesNotification=En.WillRenameFilesRequest=En.DidCreateFilesNotification=En.WillCreateFilesRequest=En.FileOperationPatternKind=void 0;var Or=Ft(),GI;(function(t){t.file="file",t.folder="folder"})(GI||(En.FileOperationPatternKind=GI={}));var JI;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Or.MessageDirection.clientToServer,t.type=new Or.ProtocolRequestType(t.method)})(JI||(En.WillCreateFilesRequest=JI={}));var XI;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Or.MessageDirection.clientToServer,t.type=new Or.ProtocolNotificationType(t.method)})(XI||(En.DidCreateFilesNotification=XI={}));var YI;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Or.MessageDirection.clientToServer,t.type=new Or.ProtocolRequestType(t.method)})(YI||(En.WillRenameFilesRequest=YI={}));var QI;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Or.MessageDirection.clientToServer,t.type=new Or.ProtocolNotificationType(t.method)})(QI||(En.DidRenameFilesNotification=QI={}));var ZI;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Or.MessageDirection.clientToServer,t.type=new Or.ProtocolNotificationType(t.method)})(ZI||(En.DidDeleteFilesNotification=ZI={}));var e_;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Or.MessageDirection.clientToServer,t.type=new Or.ProtocolRequestType(t.method)})(e_||(En.WillDeleteFilesRequest=e_={}))});var o_=P(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.MonikerRequest=ws.MonikerKind=ws.UniquenessLevel=void 0;var n_=Ft(),r_;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(r_||(ws.UniquenessLevel=r_={}));var i_;(function(t){t.$import="import",t.$export="export",t.local="local"})(i_||(ws.MonikerKind=i_={}));var s_;(function(t){t.method="textDocument/moniker",t.messageDirection=n_.MessageDirection.clientToServer,t.type=new n_.ProtocolRequestType(t.method)})(s_||(ws.MonikerRequest=s_={}))});var l_=P(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.TypeHierarchySubtypesRequest=Ts.TypeHierarchySupertypesRequest=Ts.TypeHierarchyPrepareRequest=void 0;var Pa=Ft(),a_;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=Pa.MessageDirection.clientToServer,t.type=new Pa.ProtocolRequestType(t.method)})(a_||(Ts.TypeHierarchyPrepareRequest=a_={}));var c_;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=Pa.MessageDirection.clientToServer,t.type=new Pa.ProtocolRequestType(t.method)})(c_||(Ts.TypeHierarchySupertypesRequest=c_={}));var u_;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=Pa.MessageDirection.clientToServer,t.type=new Pa.ProtocolRequestType(t.method)})(u_||(Ts.TypeHierarchySubtypesRequest=u_={}))});var p_=P(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.InlineValueRefreshRequest=Ra.InlineValueRequest=void 0;var dp=Ft(),d_;(function(t){t.method="textDocument/inlineValue",t.messageDirection=dp.MessageDirection.clientToServer,t.type=new dp.ProtocolRequestType(t.method)})(d_||(Ra.InlineValueRequest=d_={}));var f_;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=dp.MessageDirection.serverToClient,t.type=new dp.ProtocolRequestType0(t.method)})(f_||(Ra.InlineValueRefreshRequest=f_={}))});var y_=P(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.InlayHintRefreshRequest=xs.InlayHintResolveRequest=xs.InlayHintRequest=void 0;var Aa=Ft(),h_;(function(t){t.method="textDocument/inlayHint",t.messageDirection=Aa.MessageDirection.clientToServer,t.type=new Aa.ProtocolRequestType(t.method)})(h_||(xs.InlayHintRequest=h_={}));var g_;(function(t){t.method="inlayHint/resolve",t.messageDirection=Aa.MessageDirection.clientToServer,t.type=new Aa.ProtocolRequestType(t.method)})(g_||(xs.InlayHintResolveRequest=g_={}));var m_;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=Aa.MessageDirection.serverToClient,t.type=new Aa.ProtocolRequestType0(t.method)})(m_||(xs.InlayHintRefreshRequest=m_={}))});var T_=P(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.DiagnosticRefreshRequest=Lr.WorkspaceDiagnosticRequest=Lr.DocumentDiagnosticRequest=Lr.DocumentDiagnosticReportKind=Lr.DiagnosticServerCancellationData=void 0;var w_=yo(),Ez=Zf(),Ia=Ft(),C_;(function(t){function e(n){let r=n;return r&&Ez.boolean(r.retriggerRequest)}t.is=e})(C_||(Lr.DiagnosticServerCancellationData=C_={}));var v_;(function(t){t.Full="full",t.Unchanged="unchanged"})(v_||(Lr.DocumentDiagnosticReportKind=v_={}));var S_;(function(t){t.method="textDocument/diagnostic",t.messageDirection=Ia.MessageDirection.clientToServer,t.type=new Ia.ProtocolRequestType(t.method),t.partialResult=new w_.ProgressType})(S_||(Lr.DocumentDiagnosticRequest=S_={}));var b_;(function(t){t.method="workspace/diagnostic",t.messageDirection=Ia.MessageDirection.clientToServer,t.type=new Ia.ProtocolRequestType(t.method),t.partialResult=new w_.ProgressType})(b_||(Lr.WorkspaceDiagnosticRequest=b_={}));var D_;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=Ia.MessageDirection.serverToClient,t.type=new Ia.ProtocolRequestType0(t.method)})(D_||(Lr.DiagnosticRefreshRequest=D_={}))});var A_=P(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.DidCloseNotebookDocumentNotification=Kt.DidSaveNotebookDocumentNotification=Kt.DidChangeNotebookDocumentNotification=Kt.NotebookCellArrayChange=Kt.DidOpenNotebookDocumentNotification=Kt.NotebookDocumentSyncRegistrationType=Kt.NotebookDocument=Kt.NotebookCell=Kt.ExecutionSummary=Kt.NotebookCellKind=void 0;var Lu=Qf(),Qr=Zf(),wi=Ft(),PS;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(PS||(Kt.NotebookCellKind=PS={}));var RS;(function(t){function e(i,s){let o={executionOrder:i};return(s===!0||s===!1)&&(o.success=s),o}t.create=e;function n(i){let s=i;return Qr.objectLiteral(s)&&Lu.uinteger.is(s.executionOrder)&&(s.success===void 0||Qr.boolean(s.success))}t.is=n;function r(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}t.equals=r})(RS||(Kt.ExecutionSummary=RS={}));var fp;(function(t){function e(s,o){return{kind:s,document:o}}t.create=e;function n(s){let o=s;return Qr.objectLiteral(o)&&PS.is(o.kind)&&Lu.DocumentUri.is(o.document)&&(o.metadata===void 0||Qr.objectLiteral(o.metadata))}t.is=n;function r(s,o){let a=new Set;return s.document!==o.document&&a.add("document"),s.kind!==o.kind&&a.add("kind"),s.executionSummary!==o.executionSummary&&a.add("executionSummary"),(s.metadata!==void 0||o.metadata!==void 0)&&!i(s.metadata,o.metadata)&&a.add("metadata"),(s.executionSummary!==void 0||o.executionSummary!==void 0)&&!RS.equals(s.executionSummary,o.executionSummary)&&a.add("executionSummary"),a}t.diff=r;function i(s,o){if(s===o)return!0;if(s==null||o===null||o===void 0||typeof s!=typeof o||typeof s!="object")return!1;let a=Array.isArray(s),c=Array.isArray(o);if(a!==c)return!1;if(a&&c){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++)if(!i(s[u],o[u]))return!1}if(Qr.objectLiteral(s)&&Qr.objectLiteral(o)){let u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length||(u.sort(),f.sort(),!i(u,f)))return!1;for(let g=0;g<u.length;g++){let p=u[g];if(!i(s[p],o[p]))return!1}}return!0}})(fp||(Kt.NotebookCell=fp={}));var x_;(function(t){function e(r,i,s,o){return{uri:r,notebookType:i,version:s,cells:o}}t.create=e;function n(r){let i=r;return Qr.objectLiteral(i)&&Qr.string(i.uri)&&Lu.integer.is(i.version)&&Qr.typedArray(i.cells,fp.is)}t.is=n})(x_||(Kt.NotebookDocument=x_={}));var _a;(function(t){t.method="notebookDocument/sync",t.messageDirection=wi.MessageDirection.clientToServer,t.type=new wi.RegistrationType(t.method)})(_a||(Kt.NotebookDocumentSyncRegistrationType=_a={}));var E_;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=wi.MessageDirection.clientToServer,t.type=new wi.ProtocolNotificationType(t.method),t.registrationMethod=_a.method})(E_||(Kt.DidOpenNotebookDocumentNotification=E_={}));var k_;(function(t){function e(r){let i=r;return Qr.objectLiteral(i)&&Lu.uinteger.is(i.start)&&Lu.uinteger.is(i.deleteCount)&&(i.cells===void 0||Qr.typedArray(i.cells,fp.is))}t.is=e;function n(r,i,s){let o={start:r,deleteCount:i};return s!==void 0&&(o.cells=s),o}t.create=n})(k_||(Kt.NotebookCellArrayChange=k_={}));var F_;(function(t){t.method="notebookDocument/didChange",t.messageDirection=wi.MessageDirection.clientToServer,t.type=new wi.ProtocolNotificationType(t.method),t.registrationMethod=_a.method})(F_||(Kt.DidChangeNotebookDocumentNotification=F_={}));var P_;(function(t){t.method="notebookDocument/didSave",t.messageDirection=wi.MessageDirection.clientToServer,t.type=new wi.ProtocolNotificationType(t.method),t.registrationMethod=_a.method})(P_||(Kt.DidSaveNotebookDocumentNotification=P_={}));var R_;(function(t){t.method="notebookDocument/didClose",t.messageDirection=wi.MessageDirection.clientToServer,t.type=new wi.ProtocolNotificationType(t.method),t.registrationMethod=_a.method})(R_||(Kt.DidCloseNotebookDocumentNotification=R_={}))});var N_=P(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.InlineCompletionRequest=void 0;var I_=Ft(),__;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=I_.MessageDirection.clientToServer,t.type=new I_.ProtocolRequestType(t.method)})(__||(pp.InlineCompletionRequest=__={}))});var z1=P(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.WorkspaceSymbolRequest=E.CodeActionResolveRequest=E.CodeActionRequest=E.DocumentSymbolRequest=E.DocumentHighlightRequest=E.ReferencesRequest=E.DefinitionRequest=E.SignatureHelpRequest=E.SignatureHelpTriggerKind=E.HoverRequest=E.CompletionResolveRequest=E.CompletionRequest=E.CompletionTriggerKind=E.PublishDiagnosticsNotification=E.WatchKind=E.RelativePattern=E.FileChangeType=E.DidChangeWatchedFilesNotification=E.WillSaveTextDocumentWaitUntilRequest=E.WillSaveTextDocumentNotification=E.TextDocumentSaveReason=E.DidSaveTextDocumentNotification=E.DidCloseTextDocumentNotification=E.DidChangeTextDocumentNotification=E.TextDocumentContentChangeEvent=E.DidOpenTextDocumentNotification=E.TextDocumentSyncKind=E.TelemetryEventNotification=E.LogMessageNotification=E.ShowMessageRequest=E.ShowMessageNotification=E.MessageType=E.DidChangeConfigurationNotification=E.ExitNotification=E.ShutdownRequest=E.InitializedNotification=E.InitializeErrorCodes=E.InitializeRequest=E.WorkDoneProgressOptions=E.TextDocumentRegistrationOptions=E.StaticRegistrationOptions=E.PositionEncodingKind=E.FailureHandlingKind=E.ResourceOperationKind=E.UnregistrationRequest=E.RegistrationRequest=E.DocumentSelector=E.NotebookCellTextDocumentFilter=E.NotebookDocumentFilter=E.TextDocumentFilter=void 0;E.MonikerRequest=E.MonikerKind=E.UniquenessLevel=E.WillDeleteFilesRequest=E.DidDeleteFilesNotification=E.WillRenameFilesRequest=E.DidRenameFilesNotification=E.WillCreateFilesRequest=E.DidCreateFilesNotification=E.FileOperationPatternKind=E.LinkedEditingRangeRequest=E.ShowDocumentRequest=E.SemanticTokensRegistrationType=E.SemanticTokensRefreshRequest=E.SemanticTokensRangeRequest=E.SemanticTokensDeltaRequest=E.SemanticTokensRequest=E.TokenFormat=E.CallHierarchyPrepareRequest=E.CallHierarchyOutgoingCallsRequest=E.CallHierarchyIncomingCallsRequest=E.WorkDoneProgressCancelNotification=E.WorkDoneProgressCreateRequest=E.WorkDoneProgress=E.SelectionRangeRequest=E.DeclarationRequest=E.FoldingRangeRefreshRequest=E.FoldingRangeRequest=E.ColorPresentationRequest=E.DocumentColorRequest=E.ConfigurationRequest=E.DidChangeWorkspaceFoldersNotification=E.WorkspaceFoldersRequest=E.TypeDefinitionRequest=E.ImplementationRequest=E.ApplyWorkspaceEditRequest=E.ExecuteCommandRequest=E.PrepareRenameRequest=E.RenameRequest=E.PrepareSupportDefaultBehavior=E.DocumentOnTypeFormattingRequest=E.DocumentRangesFormattingRequest=E.DocumentRangeFormattingRequest=E.DocumentFormattingRequest=E.DocumentLinkResolveRequest=E.DocumentLinkRequest=E.CodeLensRefreshRequest=E.CodeLensResolveRequest=E.CodeLensRequest=E.WorkspaceSymbolResolveRequest=void 0;E.InlineCompletionRequest=E.DidCloseNotebookDocumentNotification=E.DidSaveNotebookDocumentNotification=E.DidChangeNotebookDocumentNotification=E.NotebookCellArrayChange=E.DidOpenNotebookDocumentNotification=E.NotebookDocumentSyncRegistrationType=E.NotebookDocument=E.NotebookCell=E.ExecutionSummary=E.NotebookCellKind=E.DiagnosticRefreshRequest=E.WorkspaceDiagnosticRequest=E.DocumentDiagnosticRequest=E.DocumentDiagnosticReportKind=E.DiagnosticServerCancellationData=E.InlayHintRefreshRequest=E.InlayHintResolveRequest=E.InlayHintRequest=E.InlineValueRefreshRequest=E.InlineValueRequest=E.TypeHierarchySupertypesRequest=E.TypeHierarchySubtypesRequest=E.TypeHierarchyPrepareRequest=void 0;var ce=Ft(),O_=Qf(),dn=Zf(),kz=oI();Object.defineProperty(E,"ImplementationRequest",{enumerable:!0,get:function(){return kz.ImplementationRequest}});var Fz=uI();Object.defineProperty(E,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Fz.TypeDefinitionRequest}});var K1=fI();Object.defineProperty(E,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return K1.WorkspaceFoldersRequest}});Object.defineProperty(E,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return K1.DidChangeWorkspaceFoldersNotification}});var Pz=gI();Object.defineProperty(E,"ConfigurationRequest",{enumerable:!0,get:function(){return Pz.ConfigurationRequest}});var $1=CI();Object.defineProperty(E,"DocumentColorRequest",{enumerable:!0,get:function(){return $1.DocumentColorRequest}});Object.defineProperty(E,"ColorPresentationRequest",{enumerable:!0,get:function(){return $1.ColorPresentationRequest}});var V1=bI();Object.defineProperty(E,"FoldingRangeRequest",{enumerable:!0,get:function(){return V1.FoldingRangeRequest}});Object.defineProperty(E,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return V1.FoldingRangeRefreshRequest}});var Rz=TI();Object.defineProperty(E,"DeclarationRequest",{enumerable:!0,get:function(){return Rz.DeclarationRequest}});var Az=kI();Object.defineProperty(E,"SelectionRangeRequest",{enumerable:!0,get:function(){return Az.SelectionRangeRequest}});var OS=AI();Object.defineProperty(E,"WorkDoneProgress",{enumerable:!0,get:function(){return OS.WorkDoneProgress}});Object.defineProperty(E,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return OS.WorkDoneProgressCreateRequest}});Object.defineProperty(E,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return OS.WorkDoneProgressCancelNotification}});var LS=OI();Object.defineProperty(E,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return LS.CallHierarchyIncomingCallsRequest}});Object.defineProperty(E,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return LS.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(E,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return LS.CallHierarchyPrepareRequest}});var Na=BI();Object.defineProperty(E,"TokenFormat",{enumerable:!0,get:function(){return Na.TokenFormat}});Object.defineProperty(E,"SemanticTokensRequest",{enumerable:!0,get:function(){return Na.SemanticTokensRequest}});Object.defineProperty(E,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Na.SemanticTokensDeltaRequest}});Object.defineProperty(E,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Na.SemanticTokensRangeRequest}});Object.defineProperty(E,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Na.SemanticTokensRefreshRequest}});Object.defineProperty(E,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Na.SemanticTokensRegistrationType}});var Iz=$I();Object.defineProperty(E,"ShowDocumentRequest",{enumerable:!0,get:function(){return Iz.ShowDocumentRequest}});var _z=zI();Object.defineProperty(E,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return _z.LinkedEditingRangeRequest}});var Co=t_();Object.defineProperty(E,"FileOperationPatternKind",{enumerable:!0,get:function(){return Co.FileOperationPatternKind}});Object.defineProperty(E,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Co.DidCreateFilesNotification}});Object.defineProperty(E,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Co.WillCreateFilesRequest}});Object.defineProperty(E,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Co.DidRenameFilesNotification}});Object.defineProperty(E,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Co.WillRenameFilesRequest}});Object.defineProperty(E,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Co.DidDeleteFilesNotification}});Object.defineProperty(E,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Co.WillDeleteFilesRequest}});var MS=o_();Object.defineProperty(E,"UniquenessLevel",{enumerable:!0,get:function(){return MS.UniquenessLevel}});Object.defineProperty(E,"MonikerKind",{enumerable:!0,get:function(){return MS.MonikerKind}});Object.defineProperty(E,"MonikerRequest",{enumerable:!0,get:function(){return MS.MonikerRequest}});var US=l_();Object.defineProperty(E,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return US.TypeHierarchyPrepareRequest}});Object.defineProperty(E,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return US.TypeHierarchySubtypesRequest}});Object.defineProperty(E,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return US.TypeHierarchySupertypesRequest}});var H1=p_();Object.defineProperty(E,"InlineValueRequest",{enumerable:!0,get:function(){return H1.InlineValueRequest}});Object.defineProperty(E,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return H1.InlineValueRefreshRequest}});var qS=y_();Object.defineProperty(E,"InlayHintRequest",{enumerable:!0,get:function(){return qS.InlayHintRequest}});Object.defineProperty(E,"InlayHintResolveRequest",{enumerable:!0,get:function(){return qS.InlayHintResolveRequest}});Object.defineProperty(E,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return qS.InlayHintRefreshRequest}});var Mu=T_();Object.defineProperty(E,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Mu.DiagnosticServerCancellationData}});Object.defineProperty(E,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Mu.DocumentDiagnosticReportKind}});Object.defineProperty(E,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Mu.DocumentDiagnosticRequest}});Object.defineProperty(E,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Mu.WorkspaceDiagnosticRequest}});Object.defineProperty(E,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Mu.DiagnosticRefreshRequest}});var Ti=A_();Object.defineProperty(E,"NotebookCellKind",{enumerable:!0,get:function(){return Ti.NotebookCellKind}});Object.defineProperty(E,"ExecutionSummary",{enumerable:!0,get:function(){return Ti.ExecutionSummary}});Object.defineProperty(E,"NotebookCell",{enumerable:!0,get:function(){return Ti.NotebookCell}});Object.defineProperty(E,"NotebookDocument",{enumerable:!0,get:function(){return Ti.NotebookDocument}});Object.defineProperty(E,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Ti.NotebookDocumentSyncRegistrationType}});Object.defineProperty(E,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Ti.DidOpenNotebookDocumentNotification}});Object.defineProperty(E,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Ti.NotebookCellArrayChange}});Object.defineProperty(E,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Ti.DidChangeNotebookDocumentNotification}});Object.defineProperty(E,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Ti.DidSaveNotebookDocumentNotification}});Object.defineProperty(E,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Ti.DidCloseNotebookDocumentNotification}});var Nz=N_();Object.defineProperty(E,"InlineCompletionRequest",{enumerable:!0,get:function(){return Nz.InlineCompletionRequest}});var AS;(function(t){function e(n){let r=n;return dn.string(r)||dn.string(r.language)||dn.string(r.scheme)||dn.string(r.pattern)}t.is=e})(AS||(E.TextDocumentFilter=AS={}));var IS;(function(t){function e(n){let r=n;return dn.objectLiteral(r)&&(dn.string(r.notebookType)||dn.string(r.scheme)||dn.string(r.pattern))}t.is=e})(IS||(E.NotebookDocumentFilter=IS={}));var _S;(function(t){function e(n){let r=n;return dn.objectLiteral(r)&&(dn.string(r.notebook)||IS.is(r.notebook))&&(r.language===void 0||dn.string(r.language))}t.is=e})(_S||(E.NotebookCellTextDocumentFilter=_S={}));var NS;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!dn.string(r)&&!AS.is(r)&&!_S.is(r))return!1;return!0}t.is=e})(NS||(E.DocumentSelector=NS={}));var L_;(function(t){t.method="client/registerCapability",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType(t.method)})(L_||(E.RegistrationRequest=L_={}));var M_;(function(t){t.method="client/unregisterCapability",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType(t.method)})(M_||(E.UnregistrationRequest=M_={}));var U_;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(U_||(E.ResourceOperationKind=U_={}));var q_;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(q_||(E.FailureHandlingKind=q_={}));var j_;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(j_||(E.PositionEncodingKind=j_={}));var B_;(function(t){function e(n){let r=n;return r&&dn.string(r.id)&&r.id.length>0}t.hasId=e})(B_||(E.StaticRegistrationOptions=B_={}));var W_;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||NS.is(r.documentSelector))}t.is=e})(W_||(E.TextDocumentRegistrationOptions=W_={}));var K_;(function(t){function e(r){let i=r;return dn.objectLiteral(i)&&(i.workDoneProgress===void 0||dn.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&dn.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(K_||(E.WorkDoneProgressOptions=K_={}));var $_;(function(t){t.method="initialize",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})($_||(E.InitializeRequest=$_={}));var V_;(function(t){t.unknownProtocolVersion=1})(V_||(E.InitializeErrorCodes=V_={}));var H_;(function(t){t.method="initialized",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(H_||(E.InitializedNotification=H_={}));var z_;(function(t){t.method="shutdown",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType0(t.method)})(z_||(E.ShutdownRequest=z_={}));var G_;(function(t){t.method="exit",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType0(t.method)})(G_||(E.ExitNotification=G_={}));var J_;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(J_||(E.DidChangeConfigurationNotification=J_={}));var X_;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})(X_||(E.MessageType=X_={}));var Y_;(function(t){t.method="window/showMessage",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolNotificationType(t.method)})(Y_||(E.ShowMessageNotification=Y_={}));var Q_;(function(t){t.method="window/showMessageRequest",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType(t.method)})(Q_||(E.ShowMessageRequest=Q_={}));var Z_;(function(t){t.method="window/logMessage",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolNotificationType(t.method)})(Z_||(E.LogMessageNotification=Z_={}));var e1;(function(t){t.method="telemetry/event",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolNotificationType(t.method)})(e1||(E.TelemetryEventNotification=e1={}));var t1;(function(t){t.None=0,t.Full=1,t.Incremental=2})(t1||(E.TextDocumentSyncKind=t1={}));var n1;(function(t){t.method="textDocument/didOpen",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(n1||(E.DidOpenTextDocumentNotification=n1={}));var r1;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(r1||(E.TextDocumentContentChangeEvent=r1={}));var i1;(function(t){t.method="textDocument/didChange",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(i1||(E.DidChangeTextDocumentNotification=i1={}));var s1;(function(t){t.method="textDocument/didClose",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(s1||(E.DidCloseTextDocumentNotification=s1={}));var o1;(function(t){t.method="textDocument/didSave",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(o1||(E.DidSaveTextDocumentNotification=o1={}));var a1;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(a1||(E.TextDocumentSaveReason=a1={}));var c1;(function(t){t.method="textDocument/willSave",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(c1||(E.WillSaveTextDocumentNotification=c1={}));var u1;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(u1||(E.WillSaveTextDocumentWaitUntilRequest=u1={}));var l1;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolNotificationType(t.method)})(l1||(E.DidChangeWatchedFilesNotification=l1={}));var d1;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(d1||(E.FileChangeType=d1={}));var f1;(function(t){function e(n){let r=n;return dn.objectLiteral(r)&&(O_.URI.is(r.baseUri)||O_.WorkspaceFolder.is(r.baseUri))&&dn.string(r.pattern)}t.is=e})(f1||(E.RelativePattern=f1={}));var p1;(function(t){t.Create=1,t.Change=2,t.Delete=4})(p1||(E.WatchKind=p1={}));var h1;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolNotificationType(t.method)})(h1||(E.PublishDiagnosticsNotification=h1={}));var g1;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(g1||(E.CompletionTriggerKind=g1={}));var m1;(function(t){t.method="textDocument/completion",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(m1||(E.CompletionRequest=m1={}));var y1;(function(t){t.method="completionItem/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(y1||(E.CompletionResolveRequest=y1={}));var C1;(function(t){t.method="textDocument/hover",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(C1||(E.HoverRequest=C1={}));var v1;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(v1||(E.SignatureHelpTriggerKind=v1={}));var S1;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(S1||(E.SignatureHelpRequest=S1={}));var b1;(function(t){t.method="textDocument/definition",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(b1||(E.DefinitionRequest=b1={}));var D1;(function(t){t.method="textDocument/references",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(D1||(E.ReferencesRequest=D1={}));var w1;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(w1||(E.DocumentHighlightRequest=w1={}));var T1;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(T1||(E.DocumentSymbolRequest=T1={}));var x1;(function(t){t.method="textDocument/codeAction",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(x1||(E.CodeActionRequest=x1={}));var E1;(function(t){t.method="codeAction/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(E1||(E.CodeActionResolveRequest=E1={}));var k1;(function(t){t.method="workspace/symbol",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(k1||(E.WorkspaceSymbolRequest=k1={}));var F1;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(F1||(E.WorkspaceSymbolResolveRequest=F1={}));var P1;(function(t){t.method="textDocument/codeLens",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(P1||(E.CodeLensRequest=P1={}));var R1;(function(t){t.method="codeLens/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(R1||(E.CodeLensResolveRequest=R1={}));var A1;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType0(t.method)})(A1||(E.CodeLensRefreshRequest=A1={}));var I1;(function(t){t.method="textDocument/documentLink",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(I1||(E.DocumentLinkRequest=I1={}));var _1;(function(t){t.method="documentLink/resolve",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(_1||(E.DocumentLinkResolveRequest=_1={}));var N1;(function(t){t.method="textDocument/formatting",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(N1||(E.DocumentFormattingRequest=N1={}));var O1;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(O1||(E.DocumentRangeFormattingRequest=O1={}));var L1;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(L1||(E.DocumentRangesFormattingRequest=L1={}));var M1;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(M1||(E.DocumentOnTypeFormattingRequest=M1={}));var U1;(function(t){t.Identifier=1})(U1||(E.PrepareSupportDefaultBehavior=U1={}));var q1;(function(t){t.method="textDocument/rename",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(q1||(E.RenameRequest=q1={}));var j1;(function(t){t.method="textDocument/prepareRename",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(j1||(E.PrepareRenameRequest=j1={}));var B1;(function(t){t.method="workspace/executeCommand",t.messageDirection=ce.MessageDirection.clientToServer,t.type=new ce.ProtocolRequestType(t.method)})(B1||(E.ExecuteCommandRequest=B1={}));var W1;(function(t){t.method="workspace/applyEdit",t.messageDirection=ce.MessageDirection.serverToClient,t.type=new ce.ProtocolRequestType("workspace/applyEdit")})(W1||(E.ApplyWorkspaceEditRequest=W1={}))});var J1=P(hp=>{"use strict";Object.defineProperty(hp,"__esModule",{value:!0});hp.createProtocolConnection=void 0;var G1=yo();function Oz(t,e,n,r){return G1.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,G1.createMessageConnection)(t,e,n,r)}hp.createProtocolConnection=Oz});var Y1=P(ir=>{"use strict";var Lz=ir&&ir.__createBinding||(Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]})),gp=ir&&ir.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Lz(e,t,n)};Object.defineProperty(ir,"__esModule",{value:!0});ir.LSPErrorCodes=ir.createProtocolConnection=void 0;gp(yo(),ir);gp(Qf(),ir);gp(Ft(),ir);gp(z1(),ir);var Mz=J1();Object.defineProperty(ir,"createProtocolConnection",{enumerable:!0,get:function(){return Mz.createProtocolConnection}});var X1;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(X1||(ir.LSPErrorCodes=X1={}))});var Ie=P(xi=>{"use strict";var Uz=xi&&xi.__createBinding||(Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]})),Q1=xi&&xi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Uz(e,t,n)};Object.defineProperty(xi,"__esModule",{value:!0});xi.createProtocolConnection=void 0;var qz=wS();Q1(wS(),xi);Q1(Y1(),xi);function jz(t,e,n,r){return(0,qz.createMessageConnection)(t,e,n,r)}xi.createProtocolConnection=jz});var mp=P(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.forEach=kn.mapAsync=kn.map=kn.clearTestMode=kn.setTestMode=kn.Semaphore=kn.Delayer=void 0;var qu=Ie(),jS=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,n=this.defaultDelay){return this.task=e,n>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(r=>{this.onSuccess=r}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var r=this.task();return this.task=void 0,r})),(n>=0||this.timeout===void 0)&&(this.timeout=(0,qu.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},n>=0?n:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};kn.Delayer=jS;var BS=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,qu.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};kn.Semaphore=BS;var WS=!1;function Bz(){WS=!0}kn.setTestMode=Bz;function Wz(){WS=!1}kn.clearTestMode=Wz;var Z1=15,Uu=class{constructor(e=Z1){this.yieldAfter=WS===!0?Math.max(e,2):Math.max(e,Z1),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,n=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||n<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function Kz(t,e,n,r){if(t.length===0)return[];let i=new Array(t.length),s=new Uu(r?.yieldAfter);function o(c){s.start();for(let u=c;u<t.length;u++)if(i[u]=e(t[u]),s.shouldYield())return r?.yieldCallback&&r.yieldCallback(),u+1;return-1}let a=o(0);for(;a!==-1&&!(n!==void 0&&n.isCancellationRequested);)a=await new Promise(c=>{(0,qu.RAL)().timer.setImmediate(()=>{c(o(a))})});return i}kn.map=Kz;async function $z(t,e,n,r){if(t.length===0)return[];let i=new Array(t.length),s=new Uu(r?.yieldAfter);async function o(c){s.start();for(let u=c;u<t.length;u++)if(i[u]=await e(t[u],n),s.shouldYield())return r?.yieldCallback&&r.yieldCallback(),u+1;return-1}let a=await o(0);for(;a!==-1&&!(n!==void 0&&n.isCancellationRequested);)a=await new Promise(c=>{(0,qu.RAL)().timer.setImmediate(()=>{c(o(a))})});return i}kn.mapAsync=$z;async function Vz(t,e,n,r){if(t.length===0)return;let i=new Uu(r?.yieldAfter);function s(a){i.start();for(let c=a;c<t.length;c++)if(e(t[c]),i.shouldYield())return r?.yieldCallback&&r.yieldCallback(),c+1;return-1}let o=s(0);for(;o!==-1&&!(n!==void 0&&n.isCancellationRequested);)o=await new Promise(a=>{(0,qu.RAL)().timer.setImmediate(()=>{a(s(o))})})}kn.forEach=Vz});var VS=P($S=>{"use strict";Object.defineProperty($S,"__esModule",{value:!0});var Hz=require("vscode"),KS=class extends Hz.CompletionItem{constructor(e){super(e)}};$S.default=KS});var GS=P(zS=>{"use strict";Object.defineProperty(zS,"__esModule",{value:!0});var zz=require("vscode"),HS=class extends zz.CodeLens{constructor(e){super(e)}};zS.default=HS});var YS=P(XS=>{"use strict";Object.defineProperty(XS,"__esModule",{value:!0});var Gz=require("vscode"),JS=class extends Gz.DocumentLink{constructor(e,n){super(e,n)}};XS.default=JS});var eb=P(ZS=>{"use strict";Object.defineProperty(ZS,"__esModule",{value:!0});var Jz=require("vscode"),QS=class extends Jz.CodeAction{constructor(e,n){super(e),this.data=n}};ZS.default=QS});var rb=P(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.ProtocolDiagnostic=Oa.DiagnosticCode=void 0;var Xz=require("vscode"),tb=Nr(),eN;(function(t){function e(n){let r=n;return r!=null&&(tb.number(r.value)||tb.string(r.value))&&tb.string(r.target)}t.is=e})(eN||(Oa.DiagnosticCode=eN={}));var nb=class extends Xz.Diagnostic{constructor(e,n,r,i){super(e,n,r),this.data=i,this.hasDiagnosticCode=!1}};Oa.ProtocolDiagnostic=nb});var ob=P(sb=>{"use strict";Object.defineProperty(sb,"__esModule",{value:!0});var Yz=require("vscode"),ib=class extends Yz.CallHierarchyItem{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,o),a!==void 0&&(this.data=a)}};sb.default=ib});var ub=P(cb=>{"use strict";Object.defineProperty(cb,"__esModule",{value:!0});var Qz=require("vscode"),ab=class extends Qz.TypeHierarchyItem{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,o),a!==void 0&&(this.data=a)}};cb.default=ab});var fb=P(db=>{"use strict";Object.defineProperty(db,"__esModule",{value:!0});var yp=require("vscode"),lb=class extends yp.SymbolInformation{constructor(e,n,r,i,s){let o=!(i instanceof yp.Uri);super(e,n,r,o?i:new yp.Location(i,new yp.Range(0,0,0,0))),this.hasRange=o,s!==void 0&&(this.data=s)}};db.default=lb});var gb=P(hb=>{"use strict";Object.defineProperty(hb,"__esModule",{value:!0});var Zz=require("vscode"),pb=class extends Zz.InlayHint{constructor(e,n,r){super(e,n,r)}};hb.default=pb});var iN=P(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.createConverter=void 0;var Zt=require("vscode"),_e=Ie(),vo=Nr(),tN=mp(),e9=VS(),t9=GS(),n9=YS(),nN=eb(),rN=rb(),r9=ob(),i9=ub(),s9=fb(),o9=gb(),mb;(function(t){function e(n){let r=n;return r&&!!r.inserting&&!!r.replacing}t.is=e})(mb||(mb={}));function a9(t){let n=t||(b=>b.toString());function r(b){return n(b)}function i(b){return{uri:n(b.uri)}}function s(b){return{uri:n(b.uri),languageId:b.languageId,version:b.version,text:b.getText()}}function o(b){return{uri:n(b.uri),version:b.version}}function a(b){return{textDocument:s(b)}}function c(b){let H=b;return!!H.document&&!!H.contentChanges}function u(b){let H=b;return!!H.uri&&!!H.version}function f(b,H,he){if(u(b))return{textDocument:{uri:n(b.uri),version:b.version},contentChanges:[{text:b.getText()}]};if(c(b)){let et=H,L=he;return{textDocument:{uri:n(et),version:L},contentChanges:b.contentChanges.map(R=>{let A=R.range;return{range:{start:{line:A.start.line,character:A.start.character},end:{line:A.end.line,character:A.end.character}},rangeLength:R.rangeLength,text:R.text}})}}else throw Error("Unsupported text document change parameter")}function g(b){return{textDocument:i(b)}}function p(b,H=!1){let he={textDocument:i(b)};return H&&(he.text=b.getText()),he}function l(b){switch(b){case Zt.TextDocumentSaveReason.Manual:return _e.TextDocumentSaveReason.Manual;case Zt.TextDocumentSaveReason.AfterDelay:return _e.TextDocumentSaveReason.AfterDelay;case Zt.TextDocumentSaveReason.FocusOut:return _e.TextDocumentSaveReason.FocusOut}return _e.TextDocumentSaveReason.Manual}function d(b){return{textDocument:i(b.document),reason:l(b.reason)}}function h(b){return{files:b.files.map(H=>({uri:n(H)}))}}function m(b){return{files:b.files.map(H=>({oldUri:n(H.oldUri),newUri:n(H.newUri)}))}}function C(b){return{files:b.files.map(H=>({uri:n(H)}))}}function D(b){return{files:b.files.map(H=>({uri:n(H)}))}}function T(b){return{files:b.files.map(H=>({oldUri:n(H.oldUri),newUri:n(H.newUri)}))}}function k(b){return{files:b.files.map(H=>({uri:n(H)}))}}function I(b,H){return{textDocument:i(b),position:K(H)}}function B(b){switch(b){case Zt.CompletionTriggerKind.TriggerCharacter:return _e.CompletionTriggerKind.TriggerCharacter;case Zt.CompletionTriggerKind.TriggerForIncompleteCompletions:return _e.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return _e.CompletionTriggerKind.Invoked}}function W(b,H,he){return{textDocument:i(b),position:K(H),context:{triggerKind:B(he.triggerKind),triggerCharacter:he.triggerCharacter}}}function j(b){switch(b){case Zt.SignatureHelpTriggerKind.Invoke:return _e.SignatureHelpTriggerKind.Invoked;case Zt.SignatureHelpTriggerKind.TriggerCharacter:return _e.SignatureHelpTriggerKind.TriggerCharacter;case Zt.SignatureHelpTriggerKind.ContentChange:return _e.SignatureHelpTriggerKind.ContentChange}}function re(b){return{label:b.label}}function ne(b){return b.map(re)}function V(b){return{label:b.label,parameters:ne(b.parameters)}}function N(b){return b.map(V)}function $(b){return b===void 0?b:{signatures:N(b.signatures),activeSignature:b.activeSignature,activeParameter:b.activeParameter}}function te(b,H,he){return{textDocument:i(b),position:K(H),context:{isRetrigger:he.isRetrigger,triggerCharacter:he.triggerCharacter,triggerKind:j(he.triggerKind),activeSignatureHelp:$(he.activeSignatureHelp)}}}function K(b){return{line:b.line,character:b.character}}function G(b){return b==null?b:{line:b.line>_e.uinteger.MAX_VALUE?_e.uinteger.MAX_VALUE:b.line,character:b.character>_e.uinteger.MAX_VALUE?_e.uinteger.MAX_VALUE:b.character}}function Q(b,H){return tN.map(b,G,H)}function ae(b){return b.map(G)}function se(b){return b==null?b:{start:G(b.start),end:G(b.end)}}function ie(b){return b.map(se)}function ye(b){return b==null?b:_e.Location.create(r(b.uri),se(b.range))}function ve(b){switch(b){case Zt.DiagnosticSeverity.Error:return _e.DiagnosticSeverity.Error;case Zt.DiagnosticSeverity.Warning:return _e.DiagnosticSeverity.Warning;case Zt.DiagnosticSeverity.Information:return _e.DiagnosticSeverity.Information;case Zt.DiagnosticSeverity.Hint:return _e.DiagnosticSeverity.Hint}}function $e(b){if(!b)return;let H=[];for(let he of b){let et=ke(he);et!==void 0&&H.push(et)}return H.length>0?H:void 0}function ke(b){switch(b){case Zt.DiagnosticTag.Unnecessary:return _e.DiagnosticTag.Unnecessary;case Zt.DiagnosticTag.Deprecated:return _e.DiagnosticTag.Deprecated;default:return}}function ht(b){return{message:b.message,location:ye(b.location)}}function Tt(b){return b.map(ht)}function zn(b){if(b!=null)return vo.number(b)||vo.string(b)?b:{value:b.value,target:r(b.target)}}function Ln(b){let H=_e.Diagnostic.create(se(b.range),b.message),he=b instanceof rN.ProtocolDiagnostic?b:void 0;he!==void 0&&he.data!==void 0&&(H.data=he.data);let et=zn(b.code);return rN.DiagnosticCode.is(et)?he!==void 0&&he.hasDiagnosticCode?H.code=et:(H.code=et.value,H.codeDescription={href:et.target}):H.code=et,vo.number(b.severity)&&(H.severity=ve(b.severity)),Array.isArray(b.tags)&&(H.tags=$e(b.tags)),b.relatedInformation&&(H.relatedInformation=Tt(b.relatedInformation)),b.source&&(H.source=b.source),H}function Mn(b,H){return b==null?b:tN.map(b,Ln,H)}function Un(b){return b==null?b:b.map(Ln)}function Gn(b,H){switch(b){case"$string":return H;case _e.MarkupKind.PlainText:return{kind:b,value:H};case _e.MarkupKind.Markdown:return{kind:b,value:H.value};default:return`Unsupported Markup content received. Kind is: ${b}`}}function nt(b){switch(b){case Zt.CompletionItemTag.Deprecated:return _e.CompletionItemTag.Deprecated}}function dr(b){if(b===void 0)return b;let H=[];for(let he of b){let et=nt(he);et!==void 0&&H.push(et)}return H}function qn(b,H){return H!==void 0?H:b+1}function nn(b,H=!1){let he,et;vo.string(b.label)?he=b.label:(he=b.label.label,H&&(b.label.detail!==void 0||b.label.description!==void 0)&&(et={detail:b.label.detail,description:b.label.description}));let L={label:he};et!==void 0&&(L.labelDetails=et);let w=b instanceof e9.default?b:void 0;b.detail&&(L.detail=b.detail),b.documentation&&(!w||w.documentationFormat==="$string"?L.documentation=b.documentation:L.documentation=Gn(w.documentationFormat,b.documentation)),b.filterText&&(L.filterText=b.filterText),Fr(L,b),vo.number(b.kind)&&(L.kind=qn(b.kind,w&&w.originalItemKind)),b.sortText&&(L.sortText=b.sortText),b.additionalTextEdits&&(L.additionalTextEdits=dt(b.additionalTextEdits)),b.commitCharacters&&(L.commitCharacters=b.commitCharacters.slice()),b.command&&(L.command=z(b.command)),(b.preselect===!0||b.preselect===!1)&&(L.preselect=b.preselect);let R=dr(b.tags);if(w){if(w.data!==void 0&&(L.data=w.data),w.deprecated===!0||w.deprecated===!1){if(w.deprecated===!0&&R!==void 0&&R.length>0){let A=R.indexOf(Zt.CompletionItemTag.Deprecated);A!==-1&&R.splice(A,1)}L.deprecated=w.deprecated}w.insertTextMode!==void 0&&(L.insertTextMode=w.insertTextMode)}return R!==void 0&&R.length>0&&(L.tags=R),L.insertTextMode===void 0&&b.keepWhitespace===!0&&(L.insertTextMode=_e.InsertTextMode.adjustIndentation),L}function Fr(b,H){let he=_e.InsertTextFormat.PlainText,et,L;H.textEdit?(et=H.textEdit.newText,L=H.textEdit.range):H.insertText instanceof Zt.SnippetString?(he=_e.InsertTextFormat.Snippet,et=H.insertText.value):et=H.insertText,H.range&&(L=H.range),b.insertTextFormat=he,H.fromEdit&&et!==void 0&&L!==void 0?b.textEdit=an(et,L):b.insertText=et}function an(b,H){return mb.is(H)?_e.InsertReplaceEdit.create(b,se(H.inserting),se(H.replacing)):{newText:b,range:se(H)}}function Jn(b){return{range:se(b.range),newText:b.newText}}function dt(b){return b==null?b:b.map(Jn)}function xt(b){return b<=Zt.SymbolKind.TypeParameter?b+1:_e.SymbolKind.Property}function Vt(b){return b}function gn(b){return b.map(Vt)}function jt(b,H,he){return{textDocument:i(b),position:K(H),context:{includeDeclaration:he.includeDeclaration}}}async function jn(b,H){let he=_e.CodeAction.create(b.title);if(b instanceof nN.default&&b.data!==void 0&&(he.data=b.data),b.kind!==void 0&&(he.kind=v(b.kind)),b.diagnostics!==void 0&&(he.diagnostics=await Mn(b.diagnostics,H)),b.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return b.command!==void 0&&(he.command=z(b.command)),b.isPreferred!==void 0&&(he.isPreferred=b.isPreferred),b.disabled!==void 0&&(he.disabled={reason:b.disabled.reason}),he}function Xn(b){let H=_e.CodeAction.create(b.title);if(b instanceof nN.default&&b.data!==void 0&&(H.data=b.data),b.kind!==void 0&&(H.kind=v(b.kind)),b.diagnostics!==void 0&&(H.diagnostics=Un(b.diagnostics)),b.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return b.command!==void 0&&(H.command=z(b.command)),b.isPreferred!==void 0&&(H.isPreferred=b.isPreferred),b.disabled!==void 0&&(H.disabled={reason:b.disabled.reason}),H}async function mn(b,H){if(b==null)return b;let he;return b.only&&vo.string(b.only.value)&&(he=[b.only.value]),_e.CodeActionContext.create(await Mn(b.diagnostics,H),he,Et(b.triggerKind))}function Yn(b){if(b==null)return b;let H;return b.only&&vo.string(b.only.value)&&(H=[b.only.value]),_e.CodeActionContext.create(Un(b.diagnostics),H,Et(b.triggerKind))}function Et(b){switch(b){case Zt.CodeActionTriggerKind.Invoke:return _e.CodeActionTriggerKind.Invoked;case Zt.CodeActionTriggerKind.Automatic:return _e.CodeActionTriggerKind.Automatic;default:return}}function v(b){if(b!=null)return b.value}function F(b){return b==null?b:_e.InlineValueContext.create(b.frameId,se(b.stoppedLocation))}function U(b,H,he){return{context:_e.InlineCompletionContext.create(he.triggerKind,he.selectedCompletionInfo),textDocument:i(b),position:G(H)}}function z(b){let H=_e.Command.create(b.title,b.command);return b.arguments&&(H.arguments=b.arguments),H}function Ce(b){let H=_e.CodeLens.create(se(b.range));return b.command&&(H.command=z(b.command)),b instanceof t9.default&&b.data&&(H.data=b.data),H}function ge(b,H){let he={tabSize:b.tabSize,insertSpaces:b.insertSpaces};return H.trimTrailingWhitespace&&(he.trimTrailingWhitespace=!0),H.trimFinalNewlines&&(he.trimFinalNewlines=!0),H.insertFinalNewline&&(he.insertFinalNewline=!0),he}function Te(b){return{textDocument:i(b)}}function xe(b){return{textDocument:i(b)}}function ue(b){let H=_e.DocumentLink.create(se(b.range));b.target&&(H.target=r(b.target)),b.tooltip!==void 0&&(H.tooltip=b.tooltip);let he=b instanceof n9.default?b:void 0;return he&&he.data&&(H.data=he.data),H}function Se(b){return{textDocument:i(b)}}function de(b){let H={name:b.name,kind:xt(b.kind),uri:r(b.uri),range:se(b.range),selectionRange:se(b.selectionRange)};return b.detail!==void 0&&b.detail.length>0&&(H.detail=b.detail),b.tags!==void 0&&(H.tags=gn(b.tags)),b instanceof r9.default&&b.data!==void 0&&(H.data=b.data),H}function O(b){let H={name:b.name,kind:xt(b.kind),uri:r(b.uri),range:se(b.range),selectionRange:se(b.selectionRange)};return b.detail!==void 0&&b.detail.length>0&&(H.detail=b.detail),b.tags!==void 0&&(H.tags=gn(b.tags)),b instanceof i9.default&&b.data!==void 0&&(H.data=b.data),H}function M(b){let H=b instanceof s9.default?{name:b.name,kind:xt(b.kind),location:b.hasRange?ye(b.location):{uri:n(b.location.uri)},data:b.data}:{name:b.name,kind:xt(b.kind),location:ye(b.location)};return b.tags!==void 0&&(H.tags=gn(b.tags)),b.containerName!==""&&(H.containerName=b.containerName),H}function Y(b){let H=typeof b.label=="string"?b.label:b.label.map(Ee),he=_e.InlayHint.create(G(b.position),H);return b.kind!==void 0&&(he.kind=b.kind),b.textEdits!==void 0&&(he.textEdits=dt(b.textEdits)),b.tooltip!==void 0&&(he.tooltip=Bt(b.tooltip)),b.paddingLeft!==void 0&&(he.paddingLeft=b.paddingLeft),b.paddingRight!==void 0&&(he.paddingRight=b.paddingRight),b instanceof o9.default&&b.data!==void 0&&(he.data=b.data),he}function Ee(b){let H=_e.InlayHintLabelPart.create(b.value);return b.location!==void 0&&(H.location=ye(b.location)),b.command!==void 0&&(H.command=z(b.command)),b.tooltip!==void 0&&(H.tooltip=Bt(b.tooltip)),H}function Bt(b){return typeof b=="string"?b:{kind:_e.MarkupKind.Markdown,value:b.value}}return{asUri:r,asTextDocumentIdentifier:i,asTextDocumentItem:s,asVersionedTextDocumentIdentifier:o,asOpenTextDocumentParams:a,asChangeTextDocumentParams:f,asCloseTextDocumentParams:g,asSaveTextDocumentParams:p,asWillSaveTextDocumentParams:d,asDidCreateFilesParams:h,asDidRenameFilesParams:m,asDidDeleteFilesParams:C,asWillCreateFilesParams:D,asWillRenameFilesParams:T,asWillDeleteFilesParams:k,asTextDocumentPositionParams:I,asCompletionParams:W,asSignatureHelpParams:te,asWorkerPosition:K,asRange:se,asRanges:ie,asPosition:G,asPositions:Q,asPositionsSync:ae,asLocation:ye,asDiagnosticSeverity:ve,asDiagnosticTag:ke,asDiagnostic:Ln,asDiagnostics:Mn,asDiagnosticsSync:Un,asCompletionItem:nn,asTextEdit:Jn,asSymbolKind:xt,asSymbolTag:Vt,asSymbolTags:gn,asReferenceParams:jt,asCodeAction:jn,asCodeActionSync:Xn,asCodeActionContext:mn,asCodeActionContextSync:Yn,asInlineValueContext:F,asCommand:z,asCodeLens:Ce,asFormattingOptions:ge,asDocumentSymbolParams:Te,asCodeLensParams:xe,asDocumentLink:ue,asDocumentLinkParams:Se,asCallHierarchyItem:de,asTypeHierarchyItem:O,asInlayHint:Y,asWorkspaceSymbol:M,asInlineCompletionParams:U}}Cp.createConverter=a9});var aN=P(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});Sp.createConverter=void 0;var le=require("vscode"),Pe=Ie(),Mr=Nr(),Ze=mp(),c9=VS(),u9=GS(),l9=YS(),d9=eb(),sN=rb(),f9=ob(),p9=ub(),h9=fb(),g9=gb(),oN=Ie(),vp;(function(t){function e(n){let r=n;return r&&Mr.string(r.language)&&Mr.string(r.value)}t.is=e})(vp||(vp={}));function m9(t,e,n){let i=t||(y=>le.Uri.parse(y));function s(y){return i(y)}function o(y){let _=[];for(let ee of y)if(typeof ee=="string")_.push(ee);else if(oN.NotebookCellTextDocumentFilter.is(ee))if(typeof ee.notebook=="string")_.push({notebookType:ee.notebook,language:ee.language});else{let me=ee.notebook.notebookType??"*";_.push({notebookType:me,scheme:ee.notebook.scheme,pattern:ee.notebook.pattern,language:ee.language})}else oN.TextDocumentFilter.is(ee)&&_.push({language:ee.language,scheme:ee.scheme,pattern:ee.pattern});return _}async function a(y,_){return Ze.map(y,u,_)}function c(y){let _=new Array(y.length);for(let ee=0;ee<y.length;ee++)_[ee]=u(y[ee]);return _}function u(y){let _=new sN.ProtocolDiagnostic(d(y.range),y.message,m(y.severity),y.data);if(y.code!==void 0){if(typeof y.code=="string"||typeof y.code=="number")Pe.CodeDescription.is(y.codeDescription)?_.code={value:y.code,target:s(y.codeDescription.href)}:_.code=y.code;else if(sN.DiagnosticCode.is(y.code)){_.hasDiagnosticCode=!0;let ee=y.code;_.code={value:ee.value,target:s(ee.target)}}}return y.source&&(_.source=y.source),y.relatedInformation&&(_.relatedInformation=f(y.relatedInformation)),Array.isArray(y.tags)&&(_.tags=g(y.tags)),_}function f(y){let _=new Array(y.length);for(let ee=0;ee<y.length;ee++){let me=y[ee];_[ee]=new le.DiagnosticRelatedInformation(ve(me.location),me.message)}return _}function g(y){if(!y)return;let _=[];for(let ee of y){let me=p(ee);me!==void 0&&_.push(me)}return _.length>0?_:void 0}function p(y){switch(y){case Pe.DiagnosticTag.Unnecessary:return le.DiagnosticTag.Unnecessary;case Pe.DiagnosticTag.Deprecated:return le.DiagnosticTag.Deprecated;default:return}}function l(y){return y?new le.Position(y.line,y.character):void 0}function d(y){return y?new le.Range(y.start.line,y.start.character,y.end.line,y.end.character):void 0}async function h(y,_){return Ze.map(y,ee=>new le.Range(ee.start.line,ee.start.character,ee.end.line,ee.end.character),_)}function m(y){if(y==null)return le.DiagnosticSeverity.Error;switch(y){case Pe.DiagnosticSeverity.Error:return le.DiagnosticSeverity.Error;case Pe.DiagnosticSeverity.Warning:return le.DiagnosticSeverity.Warning;case Pe.DiagnosticSeverity.Information:return le.DiagnosticSeverity.Information;case Pe.DiagnosticSeverity.Hint:return le.DiagnosticSeverity.Hint}return le.DiagnosticSeverity.Error}function C(y){if(Mr.string(y))return T(y);if(vp.is(y))return T().appendCodeblock(y.value,y.language);if(Array.isArray(y)){let _=[];for(let ee of y){let me=T();vp.is(ee)?me.appendCodeblock(ee.value,ee.language):me.appendMarkdown(ee),_.push(me)}return _}else return T(y)}function D(y){if(Mr.string(y))return y;switch(y.kind){case Pe.MarkupKind.Markdown:return T(y.value);case Pe.MarkupKind.PlainText:return y.value;default:return`Unsupported Markup content received. Kind is: ${y.kind}`}}function T(y){let _;if(y===void 0||typeof y=="string")_=new le.MarkdownString(y);else switch(y.kind){case Pe.MarkupKind.Markdown:_=new le.MarkdownString(y.value);break;case Pe.MarkupKind.PlainText:_=new le.MarkdownString,_.appendText(y.value);break;default:_=new le.MarkdownString,_.appendText(`Unsupported Markup content received. Kind is: ${y.kind}`);break}return _.isTrusted=e,_.supportHtml=n,_}function k(y){if(y)return new le.Hover(C(y.contents),d(y.range))}async function I(y,_,ee){if(!y)return;if(Array.isArray(y))return Ze.map(y,fi=>ne(fi,_),ee);let me=y,{defaultRange:cn,commitCharacters:yn}=B(me,_),gt=await Ze.map(me.items,fi=>ne(fi,yn,cn,me.itemDefaults?.insertTextMode,me.itemDefaults?.insertTextFormat,me.itemDefaults?.data),ee);return new le.CompletionList(gt,me.isIncomplete)}function B(y,_){let ee=y.itemDefaults?.editRange,me=y.itemDefaults?.commitCharacters??_;return Pe.Range.is(ee)?{defaultRange:d(ee),commitCharacters:me}:ee!==void 0?{defaultRange:{inserting:d(ee.insert),replacing:d(ee.replace)},commitCharacters:me}:{defaultRange:void 0,commitCharacters:me}}function W(y){return Pe.CompletionItemKind.Text<=y&&y<=Pe.CompletionItemKind.TypeParameter?[y-1,void 0]:[le.CompletionItemKind.Text,y]}function j(y){switch(y){case Pe.CompletionItemTag.Deprecated:return le.CompletionItemTag.Deprecated}}function re(y){if(y==null)return[];let _=[];for(let ee of y){let me=j(ee);me!==void 0&&_.push(me)}return _}function ne(y,_,ee,me,cn,yn){let gt=re(y.tags),fi=V(y),yt=new c9.default(fi);y.detail&&(yt.detail=y.detail),y.documentation&&(yt.documentation=D(y.documentation),yt.documentationFormat=Mr.string(y.documentation)?"$string":y.documentation.kind),y.filterText&&(yt.filterText=y.filterText);let Xl=N(y,ee,cn);if(Xl&&(yt.insertText=Xl.text,yt.range=Xl.range,yt.fromEdit=Xl.fromEdit),Mr.number(y.kind)){let[Fj,bE]=W(y.kind);yt.kind=Fj,bE&&(yt.originalItemKind=bE)}y.sortText&&(yt.sortText=y.sortText),y.additionalTextEdits&&(yt.additionalTextEdits=G(y.additionalTextEdits));let vE=y.commitCharacters!==void 0?Mr.stringArray(y.commitCharacters)?y.commitCharacters:void 0:_;vE&&(yt.commitCharacters=vE.slice()),y.command&&(yt.command=dt(y.command)),(y.deprecated===!0||y.deprecated===!1)&&(yt.deprecated=y.deprecated,y.deprecated===!0&&gt.push(le.CompletionItemTag.Deprecated)),(y.preselect===!0||y.preselect===!1)&&(yt.preselect=y.preselect);let SE=y.data??yn;SE!==void 0&&(yt.data=SE),gt.length>0&&(yt.tags=gt);let gm=y.insertTextMode??me;return gm!==void 0&&(yt.insertTextMode=gm,gm===Pe.InsertTextMode.asIs&&(yt.keepWhitespace=!0)),yt}function V(y){return Pe.CompletionItemLabelDetails.is(y.labelDetails)?{label:y.label,detail:y.labelDetails.detail,description:y.labelDetails.description}:y.label}function N(y,_,ee){let me=y.insertTextFormat??ee;if(y.textEdit!==void 0||_!==void 0){let[cn,yn]=y.textEdit!==void 0?$(y.textEdit):[_,y.textEditText??y.label];return me===Pe.InsertTextFormat.Snippet?{text:new le.SnippetString(yn),range:cn,fromEdit:!0}:{text:yn,range:cn,fromEdit:!0}}else return y.insertText?me===Pe.InsertTextFormat.Snippet?{text:new le.SnippetString(y.insertText),fromEdit:!1}:{text:y.insertText,fromEdit:!1}:void 0}function $(y){return Pe.InsertReplaceEdit.is(y)?[{inserting:d(y.insert),replacing:d(y.replace)},y.newText]:[d(y.range),y.newText]}function te(y){if(y)return new le.TextEdit(d(y.range),y.newText)}async function K(y,_){if(y)return Ze.map(y,te,_)}function G(y){if(!y)return;let _=new Array(y.length);for(let ee=0;ee<y.length;ee++)_[ee]=te(y[ee]);return _}async function Q(y,_){if(!y)return;let ee=new le.SignatureHelp;return Mr.number(y.activeSignature)?ee.activeSignature=y.activeSignature:ee.activeSignature=0,Mr.number(y.activeParameter)?ee.activeParameter=y.activeParameter:ee.activeParameter=0,y.signatures&&(ee.signatures=await ae(y.signatures,_)),ee}async function ae(y,_){return Ze.mapAsync(y,se,_)}async function se(y,_){let ee=new le.SignatureInformation(y.label);return y.documentation!==void 0&&(ee.documentation=D(y.documentation)),y.parameters!==void 0&&(ee.parameters=await ie(y.parameters,_)),y.activeParameter!==void 0&&(ee.activeParameter=y.activeParameter),ee}function ie(y,_){return Ze.map(y,ye,_)}function ye(y){let _=new le.ParameterInformation(y.label);return y.documentation&&(_.documentation=D(y.documentation)),_}function ve(y){return y?new le.Location(i(y.uri),d(y.range)):void 0}async function $e(y,_){if(y)return Tt(y,_)}async function ke(y,_){if(y)return Tt(y,_)}function ht(y){if(!y)return;let _={targetUri:i(y.targetUri),targetRange:d(y.targetRange),originSelectionRange:d(y.originSelectionRange),targetSelectionRange:d(y.targetSelectionRange)};if(!_.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return _}async function Tt(y,_){if(y)if(Mr.array(y)){if(y.length===0)return[];if(Pe.LocationLink.is(y[0])){let ee=y;return Ze.map(ee,ht,_)}else{let ee=y;return Ze.map(ee,ve,_)}}else return Pe.LocationLink.is(y)?[ht(y)]:ve(y)}async function zn(y,_){if(y)return Ze.map(y,ve,_)}async function Ln(y,_){if(y)return Ze.map(y,Mn,_)}function Mn(y){let _=new le.DocumentHighlight(d(y.range));return Mr.number(y.kind)&&(_.kind=Un(y.kind)),_}function Un(y){switch(y){case Pe.DocumentHighlightKind.Text:return le.DocumentHighlightKind.Text;case Pe.DocumentHighlightKind.Read:return le.DocumentHighlightKind.Read;case Pe.DocumentHighlightKind.Write:return le.DocumentHighlightKind.Write}return le.DocumentHighlightKind.Text}async function Gn(y,_){if(y)return Ze.map(y,nn,_)}function nt(y){return y<=Pe.SymbolKind.TypeParameter?y-1:le.SymbolKind.Property}function dr(y){switch(y){case Pe.SymbolTag.Deprecated:return le.SymbolTag.Deprecated;default:return}}function qn(y){if(y==null)return;let _=[];for(let ee of y){let me=dr(ee);me!==void 0&&_.push(me)}return _.length===0?void 0:_}function nn(y){let _=y.data,ee=y.location,me=ee.range===void 0||_!==void 0?new h9.default(y.name,nt(y.kind),y.containerName??"",ee.range===void 0?i(ee.uri):new le.Location(i(y.location.uri),d(ee.range)),_):new le.SymbolInformation(y.name,nt(y.kind),y.containerName??"",new le.Location(i(y.location.uri),d(ee.range)));return Jn(me,y),me}async function Fr(y,_){if(y!=null)return Ze.map(y,an,_)}function an(y){let _=new le.DocumentSymbol(y.name,y.detail||"",nt(y.kind),d(y.range),d(y.selectionRange));if(Jn(_,y),y.children!==void 0&&y.children.length>0){let ee=[];for(let me of y.children)ee.push(an(me));_.children=ee}return _}function Jn(y,_){y.tags=qn(_.tags),_.deprecated&&(y.tags?y.tags.includes(le.SymbolTag.Deprecated)||(y.tags=y.tags.concat(le.SymbolTag.Deprecated)):y.tags=[le.SymbolTag.Deprecated])}function dt(y){let _={title:y.title,command:y.command};return y.arguments&&(_.arguments=y.arguments),_}async function xt(y,_){if(y)return Ze.map(y,dt,_)}let Vt=new Map;Vt.set(Pe.CodeActionKind.Empty,le.CodeActionKind.Empty),Vt.set(Pe.CodeActionKind.QuickFix,le.CodeActionKind.QuickFix),Vt.set(Pe.CodeActionKind.Refactor,le.CodeActionKind.Refactor),Vt.set(Pe.CodeActionKind.RefactorExtract,le.CodeActionKind.RefactorExtract),Vt.set(Pe.CodeActionKind.RefactorInline,le.CodeActionKind.RefactorInline),Vt.set(Pe.CodeActionKind.RefactorRewrite,le.CodeActionKind.RefactorRewrite),Vt.set(Pe.CodeActionKind.Source,le.CodeActionKind.Source),Vt.set(Pe.CodeActionKind.SourceOrganizeImports,le.CodeActionKind.SourceOrganizeImports);function gn(y){if(y==null)return;let _=Vt.get(y);if(_)return _;let ee=y.split(".");_=le.CodeActionKind.Empty;for(let me of ee)_=_.append(me);return _}function jt(y){if(y!=null)return y.map(_=>gn(_))}async function jn(y,_){if(y==null)return;let ee=new d9.default(y.title,y.data);return y.kind!==void 0&&(ee.kind=gn(y.kind)),y.diagnostics!==void 0&&(ee.diagnostics=c(y.diagnostics)),y.edit!==void 0&&(ee.edit=await Et(y.edit,_)),y.command!==void 0&&(ee.command=dt(y.command)),y.isPreferred!==void 0&&(ee.isPreferred=y.isPreferred),y.disabled!==void 0&&(ee.disabled={reason:y.disabled.reason}),ee}function Xn(y,_){return Ze.mapAsync(y,async ee=>Pe.Command.is(ee)?dt(ee):jn(ee,_),_)}function mn(y){if(!y)return;let _=new u9.default(d(y.range));return y.command&&(_.command=dt(y.command)),y.data!==void 0&&y.data!==null&&(_.data=y.data),_}async function Yn(y,_){if(y)return Ze.map(y,mn,_)}async function Et(y,_){if(!y)return;let ee=new Map;if(y.changeAnnotations!==void 0){let yn=y.changeAnnotations;await Ze.forEach(Object.keys(yn),gt=>{let fi=v(yn[gt]);ee.set(gt,fi)},_)}let me=yn=>{if(yn!==void 0)return ee.get(yn)},cn=new le.WorkspaceEdit;if(y.documentChanges){let yn=y.documentChanges;await Ze.forEach(yn,gt=>{if(Pe.CreateFile.is(gt))cn.createFile(i(gt.uri),gt.options,me(gt.annotationId));else if(Pe.RenameFile.is(gt))cn.renameFile(i(gt.oldUri),i(gt.newUri),gt.options,me(gt.annotationId));else if(Pe.DeleteFile.is(gt))cn.deleteFile(i(gt.uri),gt.options,me(gt.annotationId));else if(Pe.TextDocumentEdit.is(gt)){let fi=i(gt.textDocument.uri);for(let yt of gt.edits)Pe.AnnotatedTextEdit.is(yt)?cn.replace(fi,d(yt.range),yt.newText,me(yt.annotationId)):cn.replace(fi,d(yt.range),yt.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(gt,void 0,4)}`)},_)}else if(y.changes){let yn=y.changes;await Ze.forEach(Object.keys(yn),gt=>{cn.set(i(gt),G(yn[gt]))},_)}return cn}function v(y){if(y!==void 0)return{label:y.label,needsConfirmation:!!y.needsConfirmation,description:y.description}}function F(y){let _=d(y.range),ee=y.target?s(y.target):void 0,me=new l9.default(_,ee);return y.tooltip!==void 0&&(me.tooltip=y.tooltip),y.data!==void 0&&y.data!==null&&(me.data=y.data),me}async function U(y,_){if(y)return Ze.map(y,F,_)}function z(y){return new le.Color(y.red,y.green,y.blue,y.alpha)}function Ce(y){return new le.ColorInformation(d(y.range),z(y.color))}async function ge(y,_){if(y)return Ze.map(y,Ce,_)}function Te(y){let _=new le.ColorPresentation(y.label);return _.additionalTextEdits=G(y.additionalTextEdits),y.textEdit&&(_.textEdit=te(y.textEdit)),_}async function xe(y,_){if(y)return Ze.map(y,Te,_)}function ue(y){if(y)switch(y){case Pe.FoldingRangeKind.Comment:return le.FoldingRangeKind.Comment;case Pe.FoldingRangeKind.Imports:return le.FoldingRangeKind.Imports;case Pe.FoldingRangeKind.Region:return le.FoldingRangeKind.Region}}function Se(y){return new le.FoldingRange(y.startLine,y.endLine,ue(y.kind))}async function de(y,_){if(y)return Ze.map(y,Se,_)}function O(y){return new le.SelectionRange(d(y.range),y.parent?O(y.parent):void 0)}async function M(y,_){return Array.isArray(y)?Ze.map(y,O,_):[]}function Y(y){return Pe.InlineValueText.is(y)?new le.InlineValueText(d(y.range),y.text):Pe.InlineValueVariableLookup.is(y)?new le.InlineValueVariableLookup(d(y.range),y.variableName,y.caseSensitiveLookup):new le.InlineValueEvaluatableExpression(d(y.range),y.expression)}async function Ee(y,_){return Array.isArray(y)?Ze.map(y,Y,_):[]}async function Bt(y,_){let ee=typeof y.label=="string"?y.label:await Ze.map(y.label,b,_),me=new g9.default(l(y.position),ee);return y.kind!==void 0&&(me.kind=y.kind),y.textEdits!==void 0&&(me.textEdits=await K(y.textEdits,_)),y.tooltip!==void 0&&(me.tooltip=H(y.tooltip)),y.paddingLeft!==void 0&&(me.paddingLeft=y.paddingLeft),y.paddingRight!==void 0&&(me.paddingRight=y.paddingRight),y.data!==void 0&&(me.data=y.data),me}function b(y){let _=new le.InlayHintLabelPart(y.value);return y.location!==void 0&&(_.location=ve(y.location)),y.tooltip!==void 0&&(_.tooltip=H(y.tooltip)),y.command!==void 0&&(_.command=dt(y.command)),_}function H(y){return typeof y=="string"?y:T(y)}async function he(y,_){if(Array.isArray(y))return Ze.mapAsync(y,Bt,_)}function et(y){if(y===null)return;let _=new f9.default(nt(y.kind),y.name,y.detail||"",s(y.uri),d(y.range),d(y.selectionRange),y.data);return y.tags!==void 0&&(_.tags=qn(y.tags)),_}async function L(y,_){if(y!==null)return Ze.map(y,et,_)}async function w(y,_){return new le.CallHierarchyIncomingCall(et(y.from),await h(y.fromRanges,_))}async function R(y,_){if(y!==null)return Ze.mapAsync(y,w,_)}async function A(y,_){return new le.CallHierarchyOutgoingCall(et(y.to),await h(y.fromRanges,_))}async function x(y,_){if(y!==null)return Ze.mapAsync(y,A,_)}async function S(y,_){if(y!=null)return new le.SemanticTokens(new Uint32Array(y.data),y.resultId)}function q(y){return new le.SemanticTokensEdit(y.start,y.deleteCount,y.data!==void 0?new Uint32Array(y.data):void 0)}async function Z(y,_){if(y!=null)return new le.SemanticTokensEdits(y.edits.map(q),y.resultId)}function Ae(y){return y}async function kt(y,_){if(y!=null)return new le.LinkedEditingRanges(await h(y.ranges,_),mt(y.wordPattern))}function mt(y){if(y!=null)return new RegExp(y)}function Qn(y){if(y===null)return;let _=new p9.default(nt(y.kind),y.name,y.detail||"",s(y.uri),d(y.range),d(y.selectionRange),y.data);return y.tags!==void 0&&(_.tags=qn(y.tags)),_}async function fr(y,_){if(y!==null)return Ze.map(y,Qn,_)}function Gr(y){if(Mr.string(y))return y;if(Pe.RelativePattern.is(y)){if(Pe.URI.is(y.baseUri))return new le.RelativePattern(s(y.baseUri),y.pattern);if(Pe.WorkspaceFolder.is(y.baseUri)){let _=le.workspace.getWorkspaceFolder(s(y.baseUri.uri));return _!==void 0?new le.RelativePattern(_,y.pattern):void 0}}}async function Ke(y,_){if(!y)return;if(Array.isArray(y))return Ze.map(y,cn=>di(cn),_);let ee=y,me=await Ze.map(ee.items,cn=>di(cn),_);return new le.InlineCompletionList(me)}function di(y){let _;typeof y.insertText=="string"?_=y.insertText:_=new le.SnippetString(y.insertText.value);let ee;y.command&&(ee=dt(y.command));let me=new le.InlineCompletionItem(_,d(y.range),ee);return y.filterText&&(me.filterText=y.filterText),me}return{asUri:s,asDocumentSelector:o,asDiagnostics:a,asDiagnostic:u,asRange:d,asRanges:h,asPosition:l,asDiagnosticSeverity:m,asDiagnosticTag:p,asHover:k,asCompletionResult:I,asCompletionItem:ne,asTextEdit:te,asTextEdits:K,asSignatureHelp:Q,asSignatureInformations:ae,asSignatureInformation:se,asParameterInformations:ie,asParameterInformation:ye,asDeclarationResult:$e,asDefinitionResult:ke,asLocation:ve,asReferences:zn,asDocumentHighlights:Ln,asDocumentHighlight:Mn,asDocumentHighlightKind:Un,asSymbolKind:nt,asSymbolTag:dr,asSymbolTags:qn,asSymbolInformations:Gn,asSymbolInformation:nn,asDocumentSymbols:Fr,asDocumentSymbol:an,asCommand:dt,asCommands:xt,asCodeAction:jn,asCodeActionKind:gn,asCodeActionKinds:jt,asCodeActionResult:Xn,asCodeLens:mn,asCodeLenses:Yn,asWorkspaceEdit:Et,asDocumentLink:F,asDocumentLinks:U,asFoldingRangeKind:ue,asFoldingRange:Se,asFoldingRanges:de,asColor:z,asColorInformation:Ce,asColorInformations:ge,asColorPresentation:Te,asColorPresentations:xe,asSelectionRange:O,asSelectionRanges:M,asInlineValue:Y,asInlineValues:Ee,asInlayHint:Bt,asInlayHints:he,asSemanticTokensLegend:Ae,asSemanticTokens:S,asSemanticTokensEdit:q,asSemanticTokensEdits:Z,asCallHierarchyItem:et,asCallHierarchyItems:L,asCallHierarchyIncomingCall:w,asCallHierarchyIncomingCalls:R,asCallHierarchyOutgoingCall:A,asCallHierarchyOutgoingCalls:x,asLinkedEditingRanges:kt,asTypeHierarchyItem:Qn,asTypeHierarchyItems:fr,asGlobPattern:Gr,asInlineCompletionResult:Ke,asInlineCompletionItem:di}}Sp.createConverter=m9});var Pt=P(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.generateUuid=Ur.parse=Ur.isUUID=Ur.v4=Ur.empty=void 0;var ju=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},Bu=class t extends ju{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};Bu._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Bu._timeHighBits=["8","9","a","b"];Ur.empty=new ju("00000000-0000-0000-0000-000000000000");function cN(){return new Bu}Ur.v4=cN;var y9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function uN(t){return y9.test(t)}Ur.isUUID=uN;function C9(t){if(!uN(t))throw new Error("invalid uuid");return new ju(t)}Ur.parse=C9;function v9(){return cN().asHex()}Ur.generateUuid=v9});var Cb=P(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.ProgressPart=void 0;var lN=require("vscode"),dN=Ie(),fN=Nr(),yb=class{constructor(e,n,r){this._client=e,this._token=n,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(dN.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),r&&r(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&lN.window.withProgress({location:lN.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(n,r)=>{if(this._lspProgressDisposable!==void 0)return this._progress=n,this._cancellationToken=r,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(dN.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,s)=>{this._resolve=i,this._reject=s})})}report(e){if(this._infinite&&fN.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(fN.number(e.percentage)){let n=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,n-this._reported);this._reported+=r,this._progress!==void 0&&this._progress.report({message:e.message,increment:r})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};bp.ProgressPart=yb});var Qe=P(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.WorkspaceFeature=fn.TextDocumentLanguageFeature=fn.TextDocumentEventFeature=fn.DynamicDocumentFeature=fn.DynamicFeature=fn.StaticFeature=fn.ensure=fn.LSPCancellationError=void 0;var So=require("vscode"),vb=Ie(),Wn=Nr(),pN=Pt(),Sb=class extends So.CancellationError{constructor(e){super(),this.data=e}};fn.LSPCancellationError=Sb;function S9(t,e){return t[e]===void 0&&(t[e]={}),t[e]}fn.ensure=S9;var hN;(function(t){function e(n){let r=n;return r!=null&&Wn.func(r.fillClientCapabilities)&&Wn.func(r.initialize)&&Wn.func(r.getState)&&Wn.func(r.clear)&&(r.fillInitializeParams===void 0||Wn.func(r.fillInitializeParams))}t.is=e})(hN||(fn.StaticFeature=hN={}));var gN;(function(t){function e(n){let r=n;return r!=null&&Wn.func(r.fillClientCapabilities)&&Wn.func(r.initialize)&&Wn.func(r.getState)&&Wn.func(r.clear)&&(r.fillInitializeParams===void 0||Wn.func(r.fillInitializeParams))&&Wn.func(r.register)&&Wn.func(r.unregister)&&r.registrationType!==void 0}t.is=e})(gN||(fn.DynamicFeature=gN={}));var Wu=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),n=0;for(let i of e){n++;for(let s of So.workspace.textDocuments)if(So.languages.match(i,s)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let r=n>0;return{kind:"document",id:this.registrationType.method,registrations:r,matches:!1}}};fn.DynamicDocumentFeature=Wu;var bb=class extends Wu{static textDocumentFilter(e,n){for(let r of e)if(So.languages.match(r,n)>0)return!0;return!1}constructor(e,n,r,i,s,o,a){super(e),this._event=n,this._type=r,this._middleware=i,this._createParams=s,this._textDocument=o,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new So.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(n=>{this.callback(n).catch(r=>{this._client.error(`Sending document notification ${this._type.method} failed.`,r)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let n=async r=>{let i=this._createParams(r);await this._client.sendNotification(this._type,i),this.notificationSent(this.getTextDocument(r),this._type,i)};if(this.matches(e)){let r=this._middleware();return r?r(e,i=>n(i)):n(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,n,r){this._onNotificationSent.fire({textDocument:e,type:n,params:r})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let n of this._selectors.values())if(So.languages.match(n,e)>0)return{send:r=>this.callback(r)}}};fn.TextDocumentEventFeature=bb;var Db=class extends Wu{constructor(e,n){super(e),this._registrationType=n,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let n=e.data.registerOptions.documentSelector;n!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(n))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:n[0],data:e,provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,n){if(n){if(vb.TextDocumentRegistrationOptions.is(n)){let r=vb.StaticRegistrationOptions.hasId(n)?n.id:pN.generateUuid(),i=n.documentSelector??e;if(i)return[r,Object.assign({},n,{documentSelector:i})]}else if(Wn.boolean(n)&&n===!0||vb.WorkDoneProgressOptions.is(n)){if(!e)return[void 0,void 0];let r=Wn.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e});return[pN.generateUuid(),r]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,n){if(!(!e||!n))return Wn.boolean(n)&&n===!0?{documentSelector:e}:Object.assign({},n,{documentSelector:e})}getProvider(e){for(let n of this._registrations.values()){let r=n.data.registerOptions.documentSelector;if(r!==null&&So.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(r),e)>0)return n.provider}}getAllProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};fn.TextDocumentLanguageFeature=Db;var wb=class{constructor(e,n){this._client=e,this._registrationType=n,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let n=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:n[0],provider:n[1]})}unregister(e){let n=this._registrations.get(e);n!==void 0&&n.disposable.dispose()}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let n of this._registrations.values())e.push(n.provider);return e}};fn.WorkspaceFeature=wb});var yN=P((cie,mN)=>{var b9=typeof process=="object"&&process&&process.platform==="win32";mN.exports=b9?{sep:"\\"}:{sep:"/"}});var DN=P((uie,bN)=>{"use strict";bN.exports=vN;function vN(t,e,n){t instanceof RegExp&&(t=CN(t,n)),e instanceof RegExp&&(e=CN(e,n));var r=SN(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function CN(t,e){var n=e.match(t);return n?n[0]:null}vN.range=SN;function SN(t,e,n){var r,i,s,o,a,c=n.indexOf(t),u=n.indexOf(e,c+1),f=c;if(c>=0&&u>0){if(t===e)return[c,u];for(r=[],s=n.length;f>=0&&!a;)f==c?(r.push(f),c=n.indexOf(t,f+1)):r.length==1?a=[r.pop(),u]:(i=r.pop(),i<s&&(s=i,o=u),u=n.indexOf(e,f+1)),f=c<u&&c>=0?c:u;r.length&&(a=[s,o])}return a}});var RN=P((lie,PN)=>{var wN=DN();PN.exports=T9;var TN="\0SLASH"+Math.random()+"\0",xN="\0OPEN"+Math.random()+"\0",xb="\0CLOSE"+Math.random()+"\0",EN="\0COMMA"+Math.random()+"\0",kN="\0PERIOD"+Math.random()+"\0";function Tb(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function D9(t){return t.split("\\\\").join(TN).split("\\{").join(xN).split("\\}").join(xb).split("\\,").join(EN).split("\\.").join(kN)}function w9(t){return t.split(TN).join("\\").split(xN).join("{").split(xb).join("}").split(EN).join(",").split(kN).join(".")}function FN(t){if(!t)return[""];var e=[],n=wN("{","}",t);if(!n)return t.split(",");var r=n.pre,i=n.body,s=n.post,o=r.split(",");o[o.length-1]+="{"+i+"}";var a=FN(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function T9(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Ku(D9(t),!0).map(w9)):[]}function x9(t){return"{"+t+"}"}function E9(t){return/^-?0\d/.test(t)}function k9(t,e){return t<=e}function F9(t,e){return t>=e}function Ku(t,e){var n=[],r=wN("{","}",t);if(!r)return[t];var i=r.pre,s=r.post.length?Ku(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<s.length;o++){var a=i+"{"+r.body+"}"+s[o];n.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),f=c||u,g=r.body.indexOf(",")>=0;if(!f&&!g)return r.post.match(/,(?!,).*\}/)?(t=r.pre+"{"+r.body+xb+r.post,Ku(t)):[t];var p;if(f)p=r.body.split(/\.\./);else if(p=FN(r.body),p.length===1&&(p=Ku(p[0],!1).map(x9),p.length===1))return s.map(function(ne){return r.pre+p[0]+ne});var l;if(f){var d=Tb(p[0]),h=Tb(p[1]),m=Math.max(p[0].length,p[1].length),C=p.length==3?Math.abs(Tb(p[2])):1,D=k9,T=h<d;T&&(C*=-1,D=F9);var k=p.some(E9);l=[];for(var I=d;D(I,h);I+=C){var B;if(u)B=String.fromCharCode(I),B==="\\"&&(B="");else if(B=String(I),k){var W=m-B.length;if(W>0){var j=new Array(W+1).join("0");I<0?B="-"+j+B.slice(1):B=j+B}}l.push(B)}}else{l=[];for(var re=0;re<p.length;re++)l.push.apply(l,Ku(p[re],!1))}for(var re=0;re<l.length;re++)for(var o=0;o<s.length;o++){var a=i+l[re]+s[o];(!e||f||a)&&n.push(a)}}return n}});var wp=P((fie,Rb)=>{var Cr=Rb.exports=(t,e,n={})=>(Dp(e),!n.nocomment&&e.charAt(0)==="#"?!1:new La(e,n).match(t));Rb.exports=Cr;var Fb=yN();Cr.sep=Fb.sep;var Zr=Symbol("globstar **");Cr.GLOBSTAR=Zr;var P9=RN(),AN={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Pb="[^/]",Eb=Pb+"*?",R9="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",A9="(?:(?!(?:\\/|^)\\.).)*?",NN=t=>t.split("").reduce((e,n)=>(e[n]=!0,e),{}),IN=NN("().*{}+?[]^$\\!"),I9=NN("[.("),_N=/\/+/;Cr.filter=(t,e={})=>(n,r,i)=>Cr(n,t,e);var Es=(t,e={})=>{let n={};return Object.keys(t).forEach(r=>n[r]=t[r]),Object.keys(e).forEach(r=>n[r]=e[r]),n};Cr.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return Cr;let e=Cr,n=(r,i,s)=>e(r,i,Es(t,s));return n.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,Es(t,s))}},n.Minimatch.defaults=r=>e.defaults(Es(t,r)).Minimatch,n.filter=(r,i)=>e.filter(r,Es(t,i)),n.defaults=r=>e.defaults(Es(t,r)),n.makeRe=(r,i)=>e.makeRe(r,Es(t,i)),n.braceExpand=(r,i)=>e.braceExpand(r,Es(t,i)),n.match=(r,i,s)=>e.match(r,i,Es(t,s)),n};Cr.braceExpand=(t,e)=>ON(t,e);var ON=(t,e={})=>(Dp(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:P9(t)),_9=1024*64,Dp=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>_9)throw new TypeError("pattern is too long")},kb=Symbol("subparse");Cr.makeRe=(t,e)=>new La(t,e||{}).makeRe();Cr.match=(t,e,n={})=>{let r=new La(e,n);return t=t.filter(i=>r.match(i)),r.options.nonull&&!t.length&&t.push(e),t};var N9=t=>t.replace(/\\(.)/g,"$1"),O9=t=>t.replace(/\\([^-\]])/g,"$1"),L9=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),M9=t=>t.replace(/[[\]\\]/g,"\\$&"),La=class{constructor(e,n){Dp(e),n||(n={}),this.options=n,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.make()}debug(){}make(){let e=this.pattern,n=this.options;if(!n.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let r=this.globSet=this.braceExpand();n.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,r),r=this.globParts=r.map(i=>i.split(_N)),this.debug(this.pattern,r),r=r.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,r),r=r.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,r),this.set=r}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,n=!1,r=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)n=!n,r++;r&&(this.pattern=e.slice(r)),this.negate=n}matchOne(e,n,r){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:n}),this.debug("matchOne",e.length,n.length);for(var s=0,o=0,a=e.length,c=n.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var u=n[o],f=e[s];if(this.debug(n,u,f),u===!1)return!1;if(u===Zr){this.debug("GLOBSTAR",[n,u,f]);var g=s,p=o+1;if(p===c){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;g<a;){var l=e[g];if(this.debug(`
globstar while`,e,g,n,p,l),this.matchOne(e.slice(g),n.slice(p),r))return this.debug("globstar found match!",g,a,l),!0;if(l==="."||l===".."||!i.dot&&l.charAt(0)==="."){this.debug("dot detected!",e,g,n,p);break}this.debug("globstar swallow a segment, and continue"),g++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,g,n,p),g===a))}var d;if(typeof u=="string"?(d=f===u,this.debug("string match",u,f,d)):(d=f.match(u),this.debug("pattern match",u,f,d)),!d)return!1}if(s===a&&o===c)return!0;if(s===a)return r;if(o===c)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return ON(this.pattern,this.options)}parse(e,n){Dp(e);let r=this.options;if(e==="**")if(r.noglobstar)e="*";else return Zr;if(e==="")return"";let i="",s=!1,o=!1,a=[],c=[],u,f=!1,g=-1,p=-1,l,d,h,m=e.charAt(0)===".",C=r.dot||m,D=()=>m?"":C?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",T=W=>W.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",k=()=>{if(u){switch(u){case"*":i+=Eb,s=!0;break;case"?":i+=Pb,s=!0;break;default:i+="\\"+u;break}this.debug("clearStateChar %j %j",u,i),u=!1}};for(let W=0,j;W<e.length&&(j=e.charAt(W));W++){if(this.debug("%s	%s %s %j",e,W,i,j),o){if(j==="/")return!1;IN[j]&&(i+="\\"),i+=j,o=!1;continue}switch(j){case"/":return!1;case"\\":if(f&&e.charAt(W+1)==="-"){i+=j;continue}k(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,W,i,j),f){this.debug("  in class"),j==="!"&&W===p+1&&(j="^"),i+=j;continue}this.debug("call clearStateChar %j",u),k(),u=j,r.noext&&k();continue;case"(":{if(f){i+="(";continue}if(!u){i+="\\(";continue}let re={type:u,start:W-1,reStart:i.length,open:AN[u].open,close:AN[u].close};this.debug(this.pattern,"	",re),a.push(re),i+=re.open,re.start===0&&re.type!=="!"&&(m=!0,i+=T(e.slice(W+1))),this.debug("plType %j %j",u,i),u=!1;continue}case")":{let re=a[a.length-1];if(f||!re){i+="\\)";continue}a.pop(),k(),s=!0,d=re,i+=d.close,d.type==="!"&&c.push(Object.assign(d,{reEnd:i.length}));continue}case"|":{let re=a[a.length-1];if(f||!re){i+="\\|";continue}k(),i+="|",re.start===0&&re.type!=="!"&&(m=!0,i+=T(e.slice(W+1)));continue}case"[":if(k(),f){i+="\\"+j;continue}f=!0,p=W,g=i.length,i+=j;continue;case"]":if(W===p+1||!f){i+="\\"+j;continue}l=e.substring(p+1,W);try{RegExp("["+M9(O9(l))+"]"),i+=j}catch{i=i.substring(0,g)+"(?:$.)"}s=!0,f=!1;continue;default:k(),IN[j]&&!(j==="^"&&f)&&(i+="\\"),i+=j;break}}for(f&&(l=e.slice(p+1),h=this.parse(l,kb),i=i.substring(0,g)+"\\["+h[0],s=s||h[1]),d=a.pop();d;d=a.pop()){let W;W=i.slice(d.reStart+d.open.length),this.debug("setting tail",i,d),W=W.replace(/((?:\\{2}){0,64})(\\?)\|/g,(re,ne,V)=>(V||(V="\\"),ne+ne+V+"|")),this.debug(`tail=%j
   %s`,W,W,d,i);let j=d.type==="*"?Eb:d.type==="?"?Pb:"\\"+d.type;s=!0,i=i.slice(0,d.reStart)+j+"\\("+W}k(),o&&(i+="\\\\");let I=I9[i.charAt(0)];for(let W=c.length-1;W>-1;W--){let j=c[W],re=i.slice(0,j.reStart),ne=i.slice(j.reStart,j.reEnd-8),V=i.slice(j.reEnd),N=i.slice(j.reEnd-8,j.reEnd)+V,$=re.split(")").length,te=re.split("(").length-$,K=V;for(let Q=0;Q<te;Q++)K=K.replace(/\)[+*?]?/,"");V=K;let G=V===""&&n!==kb?"(?:$|\\/)":"";i=re+ne+V+G+N}if(i!==""&&s&&(i="(?=.)"+i),I&&(i=D()+i),n===kb)return[i,s];if(r.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return N9(e);let B=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",B),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let n=this.options,r=n.noglobstar?Eb:n.dot?R9:A9,i=n.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?L9(a):a===Zr?Zr:a._src).reduce((a,c)=>(a[a.length-1]===Zr&&c===Zr||a.push(c),a),[]),o.forEach((a,c)=>{a!==Zr||o[c-1]===Zr||(c===0?o.length>1?o[c+1]="(?:\\/|"+r+"\\/)?"+o[c+1]:o[c]=r:c===o.length-1?o[c-1]+="(?:\\/|"+r+")?":(o[c-1]+="(?:\\/|\\/"+r+"\\/)"+o[c+1],o[c+1]=Zr))}),o.filter(a=>a!==Zr).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(e,n=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&n)return!0;let r=this.options;Fb.sep!=="/"&&(e=e.split(Fb.sep).join("/")),e=e.split(_N),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],c=e;if(r.matchBase&&a.length===1&&(c=[s]),this.matchOne(c,a,n))return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}static defaults(e){return Cr.defaults(e).Minimatch}};Cr.Minimatch=La});var Ub=P(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.DiagnosticFeature=ks.DiagnosticPullMode=ks.vsdiag=void 0;var U9=wp(),Ve=require("vscode"),$t=Ie(),q9=Pt(),Ab=Qe();function Tp(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var qr;(function(t){let e;(function(n){n.full="full",n.unChanged="unChanged"})(e=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={}))})(qr||(ks.vsdiag=qr={}));var xp;(function(t){t.onType="onType",t.onSave="onSave"})(xp||(ks.DiagnosticPullMode=xp={}));var Fn;(function(t){t.active="open",t.reschedule="reschedule",t.outDated="drop"})(Fn||(Fn={}));var Ib=class t{constructor(){this.open=new Set,this._onOpen=new Ve.EventEmitter,this._onClose=new Ve.EventEmitter,t.fillTabResources(this.open);let e=n=>{if(n.closed.length===0&&n.opened.length===0)return;let r=this.open,i=new Set;t.fillTabResources(i);let s=new Set,o=new Set(i);for(let a of r.values())i.has(a)?o.delete(a):s.add(a);if(this.open=i,s.size>0){let a=new Set;for(let c of s)a.add(Ve.Uri.parse(c));this._onClose.fire(a)}if(o.size>0){let a=new Set;for(let c of o)a.add(Ve.Uri.parse(c));this._onOpen.fire(a)}};Ve.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=Ve.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof Ve.Uri?Ve.window.activeTextEditor?.document.uri===e:Ve.window.activeTextEditor?.document===e}isVisible(e){let n=e instanceof Ve.Uri?e:e.uri;return this.open.has(n.toString())}getTabResources(){let e=new Set;return t.fillTabResources(new Set,e),e}static fillTabResources(e,n){let r=e??new Set;for(let i of Ve.window.tabGroups.all)for(let s of i.tabs){let o=s.input,a;o instanceof Ve.TabInputText?a=o.uri:o instanceof Ve.TabInputTextDiff?a=o.modified:o instanceof Ve.TabInputCustom&&(a=o.uri),a!==void 0&&!r.has(a.toString())&&(r.add(a.toString()),n!==void 0&&n.add(a))}}},sn;(function(t){t[t.document=1]="document",t[t.workspace=2]="workspace"})(sn||(sn={}));var Bi;(function(t){function e(n){return n instanceof Ve.Uri?n.toString():n.uri.toString()}t.asKey=e})(Bi||(Bi={}));var _b=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,n,r){let i=e===sn.document?this.documentPullStates:this.workspacePullStates,[s,o,a]=n instanceof Ve.Uri?[n.toString(),n,r]:[n.uri.toString(),n.uri,n.version],c=i.get(s);return c===void 0&&(c={document:o,pulledVersion:a,resultId:void 0},i.set(s,c)),c}update(e,n,r,i){let s=e===sn.document?this.documentPullStates:this.workspacePullStates,[o,a,c,u]=n instanceof Ve.Uri?[n.toString(),n,r,i]:[n.uri.toString(),n.uri,n.version,r],f=s.get(o);f===void 0?(f={document:a,pulledVersion:c,resultId:u},s.set(o,f)):(f.pulledVersion=c,f.resultId=u)}unTrack(e,n){let r=Bi.asKey(n);(e===sn.document?this.documentPullStates:this.workspacePullStates).delete(r)}tracks(e,n){let r=Bi.asKey(n);return(e===sn.document?this.documentPullStates:this.workspacePullStates).has(r)}getResultId(e,n){let r=Bi.asKey(n);return(e===sn.document?this.documentPullStates:this.workspacePullStates).get(r)?.resultId}getAllResultIds(){let e=[];for(let[n,r]of this.workspacePullStates)this.documentPullStates.has(n)&&(r=this.documentPullStates.get(n)),r.resultId!==void 0&&e.push({uri:n,value:r.resultId});return e}},Nb=class{constructor(e,n,r){this.client=e,this.tabs=n,this.options=r,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new Ve.EventEmitter,this.provider=this.createProvider(),this.diagnostics=Ve.languages.createDiagnosticCollection(r.identifier),this.openRequests=new Map,this.documentStates=new _b,this.workspaceErrorCounter=0}knows(e,n){let r=n instanceof Ve.Uri?n:n.uri;return this.documentStates.tracks(e,n)||this.openRequests.has(r.toString())}forget(e,n){this.documentStates.unTrack(e,n)}pull(e,n){if(this.isDisposed)return;let r=e instanceof Ve.Uri?e:e.uri;this.pullAsync(e).then(()=>{n&&n()},i=>{this.client.error(`Document pull failed for text document ${r.toString()}`,i,!1)})}async pullAsync(e,n){if(this.isDisposed)return;let r=e instanceof Ve.Uri,i=r?e:e.uri,s=i.toString();n=r?n:e.version;let o=this.openRequests.get(s),a=r?this.documentStates.track(sn.document,e,n):this.documentStates.track(sn.document,e);if(o===void 0){let c=new Ve.CancellationTokenSource;this.openRequests.set(s,{state:Fn.active,document:e,version:n,tokenSource:c});let u,f;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:qr.DocumentDiagnosticReportKind.full,items:[]}}catch(g){if(g instanceof Ab.LSPCancellationError&&$t.DiagnosticServerCancellationData.is(g.data)&&g.data.retriggerRequest===!1&&(f={state:Fn.outDated,document:e}),f===void 0&&g instanceof Ve.CancellationError)f={state:Fn.reschedule,document:e};else throw g}if(f=f??this.openRequests.get(s),f===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(s),!this.tabs.isVisible(e)){this.documentStates.unTrack(sn.document,e);return}if(f.state===Fn.outDated)return;u!==void 0&&(u.kind===qr.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=n,a.resultId=u.resultId),f.state===Fn.reschedule&&this.pull(e)}else o.state===Fn.active?(o.tokenSource.cancel(),this.openRequests.set(s,{state:Fn.reschedule,document:o.document})):o.state===Fn.outDated&&this.openRequests.set(s,{state:Fn.reschedule,document:o.document})}forgetDocument(e){let n=e instanceof Ve.Uri?e:e.uri,r=n.toString(),i=this.openRequests.get(r);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(r,{state:Fn.reschedule,document:e}):this.pull(e,()=>{this.forget(sn.document,e)}):(i!==void 0&&(i.state===Fn.active&&i.tokenSource.cancel(),this.openRequests.set(r,{state:Fn.outDated,document:e})),this.diagnostics.delete(n),this.forget(sn.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,$t.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof Ab.LSPCancellationError)&&!$t.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,$t.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new Ve.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(n=>({uri:this.client.protocol2CodeConverter.asUri(n.uri),value:n.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,n=>{if(!(!n||this.isDisposed))for(let r of n.items)r.kind===qr.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(sn.document,r.uri)||this.diagnostics.set(r.uri,r.items)),this.documentStates.update(sn.workspace,r.uri,r.version??void 0,r.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(n,r,i)=>{let s=(a,c,u)=>{let f={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof Ve.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:qr.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest($t.DocumentDiagnosticRequest.type,f,u).then(async g=>g==null||this.isDisposed||u.isCancellationRequested?{kind:qr.DocumentDiagnosticReportKind.full,items:[]}:g.kind===$t.DocumentDiagnosticReportKind.Full?{kind:qr.DocumentDiagnosticReportKind.full,resultId:g.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(g.items,u)}:{kind:qr.DocumentDiagnosticReportKind.unChanged,resultId:g.resultId},g=>this.client.handleFailedRequest($t.DocumentDiagnosticRequest.type,u,g,{kind:qr.DocumentDiagnosticReportKind.full,items:[]}))},o=this.client.middleware;return o.provideDiagnostics?o.provideDiagnostics(n,r,i,s):s(n,r,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(n,r,i)=>{let s=async u=>u.kind===$t.DocumentDiagnosticReportKind.Full?{kind:qr.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,r)}:{kind:qr.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},o=u=>{let f=[];for(let g of u)f.push({uri:this.client.code2ProtocolConverter.asUri(g.uri),value:g.value});return f},a=(u,f)=>{let g=(0,q9.generateUuid)(),p=this.client.onProgress($t.WorkspaceDiagnosticRequest.partialResult,g,async d=>{if(d==null){i(null);return}let h={items:[]};for(let m of d.items)try{h.items.push(await s(m))}catch(C){this.client.error("Converting workspace diagnostics failed.",C)}i(h)}),l={identifier:this.options.identifier,previousResultIds:o(u),partialResultToken:g};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest($t.WorkspaceDiagnosticRequest.type,l,f).then(async d=>{if(f.isCancellationRequested)return{items:[]};let h={items:[]};for(let m of d.items)h.items.push(await s(m));return p.dispose(),i(h),{items:[]}},d=>(p.dispose(),this.client.handleFailedRequest($t.DocumentDiagnosticRequest.type,f,d,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(n,r,i,a):a(n,r,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,n]of this.openRequests)n.state===Fn.active&&n.tokenSource.cancel(),this.openRequests.set(e,{state:Fn.outDated,document:n.document});this.diagnostics.dispose()}},Ob=class{constructor(e){this.diagnosticRequestor=e,this.documents=new $t.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let n=Bi.asKey(e);this.documents.has(n)||(this.documents.set(n,e,$t.Touch.Last),this.trigger())}remove(e){let n=Bi.asKey(e);this.documents.delete(n),this.documents.size===0?this.stop():n===this.endDocumentKey()&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,$t.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let n=Bi.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(n,e,$t.Touch.Last),n===this.endDocumentKey()&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}endDocumentKey(){return this.endDocument!==void 0?Bi.asKey(this.endDocument):void 0}},Lb=class{constructor(e,n,r){let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},s=e.protocol2CodeConverter.asDocumentSelector(r.documentSelector),o=[],a=d=>{let h=r.documentSelector;if(i.match!==void 0)return i.match(h,d);for(let m of h)if($t.TextDocumentFilter.is(m)){if(typeof m=="string"||m.language!==void 0&&m.language!=="*"||m.scheme!==void 0&&m.scheme!=="*"&&m.scheme!==d.scheme)return!1;if(m.pattern!==void 0){let C=new U9.Minimatch(m.pattern,{noext:!0});if(!C.makeRe()||!C.match(d.fsPath))return!1}}return!0},c=d=>d instanceof Ve.Uri?a(d):Ve.languages.match(s,d)>0&&n.isVisible(d),u=d=>d instanceof Ve.Uri?this.activeTextDocument?.uri.toString()===d.toString():this.activeTextDocument===d;this.diagnosticRequestor=new Nb(e,n,r),this.backgroundScheduler=new Ob(this.diagnosticRequestor);let f=d=>{!c(d)||!r.interFileDependencies||u(d)||this.backgroundScheduler.add(d)};this.activeTextDocument=Ve.window.activeTextEditor?.document,Ve.window.onDidChangeActiveTextEditor(d=>{let h=this.activeTextDocument;this.activeTextDocument=d?.document,h!==void 0&&f(h),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let g=e.getFeature($t.DidOpenTextDocumentNotification.method);o.push(g.onNotificationSent(d=>{let h=d.textDocument;this.diagnosticRequestor.knows(sn.document,h)||c(h)&&this.diagnosticRequestor.pull(h,()=>{f(h)})})),o.push(n.onOpen(d=>{for(let h of d){if(this.diagnosticRequestor.knows(sn.document,h))continue;let m=h.toString(),C;for(let D of Ve.workspace.textDocuments)if(m===D.uri.toString()){C=D;break}C!==void 0&&c(C)&&this.diagnosticRequestor.pull(C,()=>{f(C)})}}));let p=new Set;for(let d of Ve.workspace.textDocuments)c(d)&&(this.diagnosticRequestor.pull(d,()=>{f(d)}),p.add(d.uri.toString()));if(i.onTabs===!0)for(let d of n.getTabResources())!p.has(d.toString())&&c(d)&&this.diagnosticRequestor.pull(d,()=>{f(d)});if(i.onChange===!0){let d=e.getFeature($t.DidChangeTextDocumentNotification.method);o.push(d.onNotificationSent(async h=>{let m=h.textDocument;(i.filter===void 0||!i.filter(m,xp.onType))&&this.diagnosticRequestor.knows(sn.document,m)&&this.diagnosticRequestor.pull(m,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let d=e.getFeature($t.DidSaveTextDocumentNotification.method);o.push(d.onNotificationSent(h=>{let m=h.textDocument;(i.filter===void 0||!i.filter(m,xp.onSave))&&this.diagnosticRequestor.knows(sn.document,m)&&this.diagnosticRequestor.pull(h.textDocument,()=>{this.backgroundScheduler.trigger()})}))}let l=e.getFeature($t.DidCloseTextDocumentNotification.method);o.push(l.onNotificationSent(d=>{this.cleanUpDocument(d.textDocument)})),n.onClose(d=>{for(let h of d)this.cleanUpDocument(h)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let d of Ve.workspace.textDocuments)c(d)&&this.diagnosticRequestor.pull(d)}),r.workspaceDiagnostics===!0&&r.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=Ve.Disposable.from(...o,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(sn.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},Mb=class extends Ab.TextDocumentLanguageFeature{constructor(e){super(e,$t.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let n=Tp(Tp(e,"textDocument"),"diagnostic");n.dynamicRegistration=!0,n.relatedDocumentSupport=!1,Tp(Tp(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,n){this._client.onRequest($t.DiagnosticRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeDiagnosticsEmitter.fire()});let[i,s]=this.getRegistration(n,e.diagnosticProvider);!i||!s||this.register({id:i,registerOptions:s})}clear(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.clear()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new Ib);let n=new Lb(this._client,this.tabs,e);return[n.disposable,n]}};ks.DiagnosticFeature=Mb});var UN=P(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.NotebookDocumentSyncFeature=void 0;var Pn=require("vscode"),j9=wp(),Wi=Ie(),B9=Pt(),LN=Nr();function MN(t,e){return t[e]===void 0&&(t[e]={}),t[e]}var Ma;(function(t){let e;(function(n){function r(p,l){return{version:p.version,uri:l.asUri(p.uri)}}n.asVersionedNotebookDocumentIdentifier=r;function i(p,l,d){let h=Wi.NotebookDocument.create(d.asUri(p.uri),p.notebookType,p.version,s(l,d));return Object.keys(p.metadata).length>0&&(h.metadata=o(p.metadata)),h}n.asNotebookDocument=i;function s(p,l){return p.map(d=>a(d,l))}n.asNotebookCells=s;function o(p){return u(new Set,p)}n.asMetadata=o;function a(p,l){let d=Wi.NotebookCell.create(c(p.kind),l.asUri(p.document.uri));return Object.keys(p.metadata).length>0&&(d.metadata=o(p.metadata)),p.executionSummary!==void 0&&LN.number(p.executionSummary.executionOrder)&&LN.boolean(p.executionSummary.success)&&(d.executionSummary={executionOrder:p.executionSummary.executionOrder,success:p.executionSummary.success}),d}n.asNotebookCell=a;function c(p){switch(p){case Pn.NotebookCellKind.Markup:return Wi.NotebookCellKind.Markup;case Pn.NotebookCellKind.Code:return Wi.NotebookCellKind.Code}}function u(p,l){if(p.has(l))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(l)){let d=[];for(let h of l)if(h!==null&&typeof h=="object"||Array.isArray(h))d.push(u(p,h));else{if(h instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");d.push(h)}return d}else{let d=Object.keys(l),h=Object.create(null);for(let m of d){let C=l[m];if(C!==null&&typeof C=="object"||Array.isArray(C))h[m]=u(p,C);else{if(C instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");h[m]=C}}return h}}function f(p,l){let d=l.asChangeTextDocumentParams(p,p.document.uri,p.document.version);return{document:d.textDocument,changes:d.contentChanges}}n.asTextContentChange=f;function g(p,l){let d=Object.create(null);if(p.metadata&&(d.metadata=t.c2p.asMetadata(p.metadata)),p.cells!==void 0){let h=Object.create(null),m=p.cells;m.structure&&(h.structure={array:{start:m.structure.array.start,deleteCount:m.structure.array.deleteCount,cells:m.structure.array.cells!==void 0?m.structure.array.cells.map(C=>t.c2p.asNotebookCell(C,l)):void 0},didOpen:m.structure.didOpen!==void 0?m.structure.didOpen.map(C=>l.asOpenTextDocumentParams(C.document).textDocument):void 0,didClose:m.structure.didClose!==void 0?m.structure.didClose.map(C=>l.asCloseTextDocumentParams(C.document).textDocument):void 0}),m.data!==void 0&&(h.data=m.data.map(C=>t.c2p.asNotebookCell(C,l))),m.textContent!==void 0&&(h.textContent=m.textContent.map(C=>t.c2p.asTextContentChange(C,l))),Object.keys(h).length>0&&(d.cells=h)}return d}n.asNotebookDocumentChangeEvent=g})(e=t.c2p||(t.c2p={}))})(Ma||(Ma={}));var qb;(function(t){function e(a,c,u){let f=a.length,g=c.length,p=0;for(;p<g&&p<f&&n(a[p],c[p],u);)p++;if(p<g&&p<f){let l=f-1,d=g-1;for(;l>=0&&d>=0&&n(a[l],c[d],u);)l--,d--;let h=l+1-p,m=p===d+1?void 0:c.slice(p,d+1);return m!==void 0?{start:p,deleteCount:h,cells:m}:{start:p,deleteCount:h}}else return p<g?{start:p,deleteCount:0,cells:c.slice(p)}:p<f?{start:p,deleteCount:f-p}:void 0}t.computeDiff=e;function n(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!r(a.executionSummary,c.executionSummary)?!1:!u||u&&s(a.metadata,c.metadata)}function r(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function s(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),f=Array.isArray(c);if(u!==f)return!1;if(u&&f){if(a.length!==c.length)return!1;for(let g=0;g<a.length;g++)if(!s(a[g],c[g]))return!1}if(o(a)&&o(c)){let g=Object.keys(a),p=Object.keys(c);if(g.length!==p.length||(g.sort(),p.sort(),!s(g,p)))return!1;for(let l=0;l<g.length;l++){let d=g[l];if(!s(a[d],c[d]))return!1}return!0}return!1}function o(a){return a!==null&&typeof a=="object"}t.isObjectLiteral=o})(qb||(qb={}));var jb;(function(t){function e(n,r){if(typeof n=="string")return n==="*"||r.notebookType===n;if(n.notebookType!==void 0&&n.notebookType!=="*"&&r.notebookType!==n.notebookType)return!1;let i=r.uri;if(n.scheme!==void 0&&n.scheme!=="*"&&i.scheme!==n.scheme)return!1;if(n.pattern!==void 0){let s=new j9.Minimatch(n.pattern,{noext:!0});if(!s.makeRe()||!s.match(i.fsPath))return!1}return!0}t.matchNotebook=e})(jb||(jb={}));var Ep;(function(t){function e(r){let i=r.notebookSelector,s=[];for(let o of i){let a=(typeof o.notebook=="string"?o.notebook:o.notebook?.notebookType)??"*",c=typeof o.notebook=="string"?void 0:o.notebook?.scheme,u=typeof o.notebook=="string"?void 0:o.notebook?.pattern;if(o.cells!==void 0)for(let f of o.cells)s.push(n(a,c,u,f.language));else s.push(n(a,c,u,void 0))}return s}t.asDocumentSelector=e;function n(r,i,s,o){return i===void 0&&s===void 0?{notebook:r,language:o}:{notebook:{notebookType:r,scheme:i,pattern:s},language:o}}})(Ep||(Ep={}));var kp;(function(t){function e(n){return{cells:n,uris:new Set(n.map(r=>r.document.uri.toString()))}}t.create=e})(kp||(kp={}));var Ua=class{constructor(e,n){this.client=e,this.options=n,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(Ep.asDocumentSelector(n)),Pn.workspace.onDidOpenNotebookDocument(r=>{this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r)},void 0,this.disposables);for(let r of Pn.workspace.notebookDocuments)this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r);Pn.workspace.onDidChangeNotebookDocument(r=>this.didChangeNotebookDocument(r),void 0,this.disposables),this.options.save===!0&&Pn.workspace.onDidSaveNotebookDocument(r=>this.didSave(r),void 0,this.disposables),Pn.workspace.onDidCloseNotebookDocument(r=>{this.didClose(r),this.notebookDidOpen.delete(r.uri.toString())},void 0,this.disposables)}getState(){for(let e of Pn.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return Pn.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,n){if(Pn.languages.match(this.selector,n.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let r=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,n);if(r!==void 0){let s=r.uris.has(n.document.uri.toString());if(i&&s||!i&&!s)return;if(i){let o=this.getMatchingCells(e);if(o!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,r,o);a!==void 0&&this.doSendChange(a,o).catch(()=>{})}}}else i&&this.doSendOpen(e,[n]).catch(()=>{})}didChangeNotebookCellTextDocument(e,n){Pn.languages.match(this.selector,n.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[n]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,n){let r=this.notebookSyncInfo.get(e.uri.toString());if(r===void 0)return;let i=n.document.uri,s=r.cells.findIndex(o=>o.document.uri.toString()===i.toString());if(s!==-1)if(s===0&&r.cells.length===1)this.doSendClose(e,r.cells).catch(()=>{});else{let o=r.cells.slice(),a=o.splice(s,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:s,deleteCount:1},didClose:a}}},o).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,n=this.getMatchingCells(e),r=this.notebookSyncInfo.get(e.uri.toString())){if(r!==void 0)if(n!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,r,n);i!==void 0&&this.doSendChange(i,n).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(n===void 0)return;this.doSendOpen(e,n).catch(()=>{})}}didChangeNotebookDocument(e){let n=e.notebook,r=this.notebookSyncInfo.get(n.uri.toString());if(r===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(n);if(i===void 0)return;this.didOpen(n,i,r)}else{let i=this.getMatchingCells(n);if(i===void 0){this.didClose(n,r);return}let s=this.asNotebookDocumentChangeEvent(e.notebook,e,r,i);s!==void 0&&this.doSendChange(s,i).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,n=this.notebookSyncInfo.get(e.uri.toString())){if(n===void 0)return;let r=e.getCells().filter(i=>n.uris.has(i.document.uri.toString()));this.doSendClose(e,r).catch(()=>{})}async sendDidOpenNotebookDocument(e){let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,n){let r=async(s,o)=>{let a=Ma.c2p.asNotebookDocument(s,o,this.client.code2ProtocolConverter),c=o.map(u=>this.client.code2ProtocolConverter.asTextDocumentItem(u.document));try{await this.client.sendNotification(Wi.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(u){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",u),u}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),kp.create(n)),i?.didOpen!==void 0?i.didOpen(e,n,r):r(e,n)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,n=this.getMatchingCells(e.notebook)){let r=async s=>{try{await this.client.sendNotification(Wi.DidChangeNotebookDocumentNotification.type,{notebookDocument:Ma.c2p.asVersionedNotebookDocumentIdentifier(s.notebook,this.client.code2ProtocolConverter),change:Ma.c2p.asNotebookDocumentChangeEvent(s,this.client.code2ProtocolConverter)})}catch(o){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",o),o}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),kp.create(n??[])),i?.didChange!==void 0?i?.didChange(e,r):r(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let n=async i=>{try{await this.client.sendNotification(Wi.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}})}catch(s){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",s),s}},r=this.client.middleware?.notebooks;return r?.didSave!==void 0?r.didSave(e,n):n(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,n){let r=async(s,o)=>{try{await this.client.sendNotification(Wi.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(s.uri)},cellTextDocuments:o.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,n,r):r(e,n)}asNotebookDocumentChangeEvent(e,n,r,i){if(n!==void 0&&n.notebook!==e)throw new Error("Notebook must be identical");let s={notebook:e};n?.metadata!==void 0&&(s.metadata=Ma.c2p.asMetadata(n.metadata));let o;if(n?.cellChanges!==void 0&&n.cellChanges.length>0){let a=[];o=new Set(i.map(c=>c.document.uri.toString()));for(let c of n.cellChanges)o.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(s.cells=s.cells??{},s.cells.data=a)}if((n?.contentChanges!==void 0&&n.contentChanges.length>0||n===void 0)&&r!==void 0&&i!==void 0){let a=r.cells,c=i,u=qb.computeDiff(a,c,!1),f,g;if(u!==void 0){f=u.cells===void 0?new Map:new Map(u.cells.map(d=>[d.document.uri.toString(),d])),g=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(d=>[d.document.uri.toString(),d]));for(let d of Array.from(g.keys()))f.has(d)&&(g.delete(d),f.delete(d));s.cells=s.cells??{};let p=[],l=[];if(f.size>0||g.size>0){for(let d of f.values())p.push(d);for(let d of g.values())l.push(d)}s.cells.structure={array:u,didOpen:p,didClose:l}}}return Object.keys(s).length>1?s:void 0}getMatchingCells(e,n=e.getCells()){if(this.options.notebookSelector!==void 0){for(let r of this.options.notebookSelector)if(r.notebook===void 0||jb.matchNotebook(r.notebook,e)){let i=this.filterCells(e,n,r.cells);return i.length===0?void 0:i}}}cellMatches(e,n){let r=this.getMatchingCells(e,[n]);return r!==void 0&&r[0]===n}filterCells(e,n,r){let i=r!==void 0?n.filter(s=>{let o=s.document.languageId;return r.some((a=>a.language==="*"||o===a.language))}):n;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}},Fp=class t{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Wi.NotebookDocumentSyncRegistrationType.type,Pn.workspace.onDidOpenTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[r,i]=this.findNotebookDocumentAndCell(n);if(!(r===void 0||i===void 0))for(let s of this.registrations.values())s instanceof Ua&&s.didOpenNotebookCellTextDocument(r,i)}),Pn.workspace.onDidChangeTextDocument(n=>{if(n.contentChanges.length===0)return;let r=n.document;if(r.uri.scheme!==t.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(r);if(i!==void 0)for(let s of this.registrations.values())s instanceof Ua&&s.didChangeNotebookCellTextDocument(i,n)}),Pn.workspace.onDidCloseTextDocument(n=>{if(n.uri.scheme!==t.CellScheme)return;let[r,i]=this.findNotebookDocumentAndCell(n);if(!(r===void 0||i===void 0))for(let s of this.registrations.values())s instanceof Ua&&s.didCloseNotebookCellTextDocument(r,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let n=e.getState();if(n.kind==="document"&&n.registrations===!0&&n.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let n=MN(MN(e,"notebookDocument"),"synchronization");n.dynamicRegistration=!0,n.executionSummarySupport=!0}preInitialize(e){let n=e.notebookDocumentSync;n!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(Ep.asDocumentSelector(n)))}initialize(e){let n=e.notebookDocumentSync;if(n===void 0)return;let r=n.id??B9.generateUuid();this.register({id:r,registerOptions:n})}register(e){let n=new Ua(this.client,e.registerOptions);this.registrations.set(e.id,n)}unregister(e){let n=this.registrations.get(e);n&&n.dispose()}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==t.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&Pn.languages.match(this.dedicatedChannel,e)>0)return!0;for(let n of this.registrations.values())if(n.handles(e))return!0;return!1}getProvider(e){for(let n of this.registrations.values())if(n.handles(e.document))return n}findNotebookDocumentAndCell(e){let n=e.uri.toString();for(let r of Pn.workspace.notebookDocuments)for(let i of r.getCells())if(i.document.uri.toString()===n)return[r,i];return[void 0,void 0]}};Pp.NotebookDocumentSyncFeature=Fp;Fp.CellScheme="vscode-notebook-cell"});var jN=P(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.SyncConfigurationFeature=Fs.toJSONObject=Fs.ConfigurationFeature=void 0;var qa=require("vscode"),$u=Ie(),W9=Nr(),K9=Pt(),qN=Qe(),Bb=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest($u.ConfigurationRequest.type,(n,r)=>{let i=o=>{let a=[];for(let c of o.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},s=e.middleware.workspace;return s&&s.configuration?s.configuration(n,r,i):i(n,r)})}getConfiguration(e,n){let r=null;if(n){let i=n.lastIndexOf(".");if(i===-1)r=bo(qa.workspace.getConfiguration(void 0,e).get(n));else{let s=qa.workspace.getConfiguration(n.substr(0,i),e);s&&(r=bo(s.get(n.substr(i+1))))}}else{let i=qa.workspace.getConfiguration(void 0,e);r={};for(let s of Object.keys(i))i.has(s)&&(r[s]=bo(i.get(s)))}return r===void 0&&(r=null),r}clear(){}};Fs.ConfigurationFeature=Bb;function bo(t){if(t){if(Array.isArray(t))return t.map(bo);if(typeof t=="object"){let e=Object.create(null);for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=bo(t[n]));return e}}return t}Fs.toJSONObject=bo;var Wb=class{constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return $u.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,qN.ensure)((0,qN.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:K9.generateUuid(),registerOptions:{section:e}})}register(e){let n=qa.workspace.onDidChangeConfiguration(r=>{this.onDidChangeConfiguration(e.registerOptions.section,r)});this._listeners.set(e.id,n),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let n=this._listeners.get(e);n&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,n){if(this.isCleared)return;let r;if(W9.string(e)?r=[e]:r=e,r!==void 0&&n!==void 0&&!r.some(a=>n.affectsConfiguration(a)))return;let i=async o=>o===void 0?this._client.sendNotification($u.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification($u.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(o)}),s=this._client.middleware.workspace?.didChangeConfiguration;(s?s(r,i):i(r)).catch(o=>{this._client.error(`Sending notification ${$u.DidChangeConfigurationNotification.type.method} failed`,o)})}extractSettingsInformation(e){function n(s,o){let a=s;for(let c=0;c<o.length-1;c++){let u=a[o[c]];u||(u=Object.create(null),a[o[c]]=u),a=u}return a}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],a=o.indexOf("."),c=null;if(a>=0?c=qa.workspace.getConfiguration(o.substr(0,a),r).get(o.substr(a+1)):c=qa.workspace.getConfiguration(void 0,r).get(o),c){let u=e[s].split(".");n(i,u)[u[u.length-1]]=bo(c)}}return i}};Fs.SyncConfigurationFeature=Wb});var BN=P(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.DidSaveTextDocumentFeature=sr.WillSaveWaitUntilFeature=sr.WillSaveFeature=sr.DidChangeTextDocumentFeature=sr.DidCloseTextDocumentFeature=sr.DidOpenTextDocumentFeature=void 0;var vr=require("vscode"),Ct=Ie(),Lt=Qe(),ja=Pt(),Kb=class extends Lt.TextDocumentEventFeature{constructor(e,n){super(e,vr.workspace.onDidOpenTextDocument,Ct.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,r=>e.code2ProtocolConverter.asOpenTextDocumentParams(r),r=>r,Lt.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Lt.ensure)((0,Lt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:ja.generateUuid(),registerOptions:{documentSelector:n}})}get registrationType(){return Ct.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let n=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);vr.workspace.textDocuments.forEach(r=>{let i=r.uri.toString();if(!this._syncedDocuments.has(i)&&vr.languages.match(n,r)>0&&!this._client.hasDedicatedTextSynchronizationFeature(r)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));(s.didOpen?s.didOpen(r,o):o(r)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(i,r)}})}getTextDocument(e){return e}notificationSent(e,n,r){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,n,r)}};sr.DidOpenTextDocumentFeature=Kb;var $b=class extends Lt.TextDocumentEventFeature{constructor(e,n,r){super(e,vr.workspace.onDidCloseTextDocument,Ct.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,i=>e.code2ProtocolConverter.asCloseTextDocumentParams(i),i=>i,Lt.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=n,this._pendingTextDocumentChanges=r}get registrationType(){return Ct.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Lt.ensure)((0,Lt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.openClose&&this.register({id:ja.generateUuid(),registerOptions:{documentSelector:n}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,n,r){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,n,r)}unregister(e){let n=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach(i=>{if(vr.languages.match(n,i)>0&&!this._selectorFilter(r,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(s.didClose?s.didClose(i,o):o(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};sr.DidCloseTextDocumentFeature=$b;var Vb=class extends Lt.DynamicDocumentFeature{constructor(e,n){super(e),this._changeData=new Map,this._onNotificationSent=new vr.EventEmitter,this._onPendingChangeAdded=new vr.EventEmitter,this._pendingTextDocumentChanges=n,this._syncKind=Ct.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return Ct.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Lt.ensure)((0,Lt.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.change!==void 0&&r.change!==Ct.TextDocumentSyncKind.None&&this.register({id:ja.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},{syncKind:r.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=vr.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let n=e.document.uri,r=e.document.version,i=[];for(let s of this._changeData.values())if(vr.languages.match(s.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let o=this._client.middleware;if(s.syncKind===Ct.TextDocumentSyncKind.Incremental){let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,n,r);await this._client.sendNotification(Ct.DidChangeTextDocumentNotification.type,u),this.notificationSent(c.document,Ct.DidChangeTextDocumentNotification.type,u)};i.push(o.didChange?o.didChange(e,c=>a(c)):a(e))}else if(s.syncKind===Ct.TextDocumentSyncKind.Full){let a=async c=>{let u=c.document.uri.toString();this._pendingTextDocumentChanges.set(u,c.document),this._onPendingChangeAdded.fire()};i.push(o.didChange?o.didChange(e,c=>a(c)):a(e))}}return Promise.all(i).then(void 0,s=>{throw this._client.error(`Sending document notification ${Ct.DidChangeTextDocumentNotification.type.method} failed`,s),s})}notificationSent(e,n,r){this._onNotificationSent.fire({textDocument:e,type:n,params:r})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=Ct.TextDocumentSyncKind.None;else{this._syncKind=Ct.TextDocumentSyncKind.None;for(let n of this._changeData.values())if(this.updateSyncKind(n.syncKind),this._syncKind===Ct.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=Ct.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let n;if(e.size===0)n=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{n=[];for(let r of this._pendingTextDocumentChanges)e.has(r[0])||(n.push(r[1]),this._pendingTextDocumentChanges.delete(r[0]))}return n}getProvider(e){for(let n of this._changeData.values())if(vr.languages.match(n.documentSelector,e)>0)return{send:r=>this.callback(r)}}updateSyncKind(e){if(this._syncKind!==Ct.TextDocumentSyncKind.Full)switch(e){case Ct.TextDocumentSyncKind.Full:this._syncKind=e;break;case Ct.TextDocumentSyncKind.Incremental:this._syncKind===Ct.TextDocumentSyncKind.None&&(this._syncKind=Ct.TextDocumentSyncKind.Incremental);break}}};sr.DidChangeTextDocumentFeature=Vb;var Hb=class extends Lt.TextDocumentEventFeature{constructor(e){super(e,vr.workspace.onWillSaveTextDocument,Ct.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,n=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(n),n=>n.document,(n,r)=>Lt.TextDocumentEventFeature.textDocumentFilter(n,r.document))}get registrationType(){return Ct.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let n=(0,Lt.ensure)((0,Lt.ensure)(e,"textDocument"),"synchronization");n.willSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSave&&this.register({id:ja.generateUuid(),registerOptions:{documentSelector:n}})}getTextDocument(e){return e.document}};sr.WillSaveFeature=Hb;var zb=class extends Lt.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return Ct.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let n=(0,Lt.ensure)((0,Lt.ensure)(e,"textDocument"),"synchronization");n.willSaveWaitUntil=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;n&&r&&r.willSaveWaitUntil&&this.register({id:ja.generateUuid(),registerOptions:{documentSelector:n}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=vr.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Lt.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let n=this._client.middleware,r=i=>this._client.sendRequest(Ct.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async s=>{let o=await this._client.protocol2CodeConverter.asTextEdits(s);return o===void 0?[]:o});e.waitUntil(n.willSaveWaitUntil?n.willSaveWaitUntil(e,r):r(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};sr.WillSaveWaitUntilFeature=zb;var Gb=class extends Lt.TextDocumentEventFeature{constructor(e){super(e,vr.workspace.onDidSaveTextDocument,Ct.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,n=>e.code2ProtocolConverter.asSaveTextDocumentParams(n,this._includeText),n=>n,Lt.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return Ct.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Lt.ensure)((0,Lt.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,n){let r=e.resolvedTextDocumentSync;if(n&&r&&r.save){let i=typeof r.save=="boolean"?{includeText:!1}:{includeText:!!r.save.includeText};this.register({id:ja.generateUuid(),registerOptions:Object.assign({},{documentSelector:n},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};sr.DidSaveTextDocumentFeature=Gb});var WN=P(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.CompletionItemFeature=void 0;var $9=require("vscode"),He=Ie(),Jb=Qe(),V9=Pt(),H9=[He.CompletionItemKind.Text,He.CompletionItemKind.Method,He.CompletionItemKind.Function,He.CompletionItemKind.Constructor,He.CompletionItemKind.Field,He.CompletionItemKind.Variable,He.CompletionItemKind.Class,He.CompletionItemKind.Interface,He.CompletionItemKind.Module,He.CompletionItemKind.Property,He.CompletionItemKind.Unit,He.CompletionItemKind.Value,He.CompletionItemKind.Enum,He.CompletionItemKind.Keyword,He.CompletionItemKind.Snippet,He.CompletionItemKind.Color,He.CompletionItemKind.File,He.CompletionItemKind.Reference,He.CompletionItemKind.Folder,He.CompletionItemKind.EnumMember,He.CompletionItemKind.Constant,He.CompletionItemKind.Struct,He.CompletionItemKind.Event,He.CompletionItemKind.Operator,He.CompletionItemKind.TypeParameter],Xb=class extends Jb.TextDocumentLanguageFeature{constructor(e){super(e,He.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let n=(0,Jb.ensure)((0,Jb.ensure)(e,"textDocument"),"completion");n.dynamicRegistration=!0,n.contextSupport=!0,n.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[He.MarkupKind.Markdown,He.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[He.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[He.InsertTextMode.asIs,He.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},n.insertTextMode=He.InsertTextMode.adjustIndentation,n.completionItemKind={valueSet:H9},n.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}}initialize(e,n){let r=this.getRegistrationOptions(n,e.completionProvider);r&&this.register({id:V9.generateUuid(),registerOptions:r})}registerLanguageProvider(e,n){this.labelDetailsSupport.set(n,!!e.completionItem?.labelDetailsSupport);let r=e.triggerCharacters??[],i=e.allCommitCharacters,s=e.documentSelector,o={provideCompletionItems:(a,c,u,f)=>{let g=this._client,p=this._client.middleware,l=(d,h,m,C)=>g.sendRequest(He.CompletionRequest.type,g.code2ProtocolConverter.asCompletionParams(d,h,m),C).then(D=>C.isCancellationRequested?null:g.protocol2CodeConverter.asCompletionResult(D,i,C),D=>g.handleFailedRequest(He.CompletionRequest.type,C,D,null));return p.provideCompletionItem?p.provideCompletionItem(a,c,f,u,l):l(a,c,f,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,f=this._client.middleware,g=(p,l)=>u.sendRequest(He.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(p,!!this.labelDetailsSupport.get(n)),l).then(d=>l.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(d),d=>u.handleFailedRequest(He.CompletionResolveRequest.type,l,d,p));return f.resolveCompletionItem?f.resolveCompletionItem(a,c,g):g(a,c)}:void 0};return[$9.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(s),o,...r),o]}};Rp.CompletionItemFeature=Xb});var KN=P(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});Ap.HoverFeature=void 0;var z9=require("vscode"),Vu=Ie(),Yb=Qe(),G9=Pt(),Qb=class extends Yb.TextDocumentLanguageFeature{constructor(e){super(e,Vu.HoverRequest.type)}fillClientCapabilities(e){let n=(0,Yb.ensure)((0,Yb.ensure)(e,"textDocument"),"hover");n.dynamicRegistration=!0,n.contentFormat=[Vu.MarkupKind.Markdown,Vu.MarkupKind.PlainText]}initialize(e,n){let r=this.getRegistrationOptions(n,e.hoverProvider);r&&this.register({id:G9.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideHover:(i,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(Vu.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asHover(l),l=>a.handleFailedRequest(Vu.HoverRequest.type,p,l,null)),u=a.middleware;return u.provideHover?u.provideHover(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return z9.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Ap.HoverFeature=Qb});var $N=P(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});Ip.DefinitionFeature=void 0;var J9=require("vscode"),Zb=Ie(),eD=Qe(),X9=Pt(),tD=class extends eD.TextDocumentLanguageFeature{constructor(e){super(e,Zb.DefinitionRequest.type)}fillClientCapabilities(e){let n=(0,eD.ensure)((0,eD.ensure)(e,"textDocument"),"definition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.definitionProvider);r&&this.register({id:X9.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDefinition:(i,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(Zb.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(l,p),l=>a.handleFailedRequest(Zb.DefinitionRequest.type,p,l,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return J9.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Ip.DefinitionFeature=tD});var HN=P(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.SignatureHelpFeature=void 0;var VN=require("vscode"),Hu=Ie(),nD=Qe(),Y9=Pt(),rD=class extends nD.TextDocumentLanguageFeature{constructor(e){super(e,Hu.SignatureHelpRequest.type)}fillClientCapabilities(e){let n=(0,nD.ensure)((0,nD.ensure)(e,"textDocument"),"signatureHelp");n.dynamicRegistration=!0,n.signatureInformation={documentationFormat:[Hu.MarkupKind.Markdown,Hu.MarkupKind.PlainText]},n.signatureInformation.parameterInformation={labelOffsetSupport:!0},n.signatureInformation.activeParameterSupport=!0,n.contextSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.signatureHelpProvider);r&&this.register({id:Y9.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n={provideSignatureHelp:(r,i,s,o)=>{let a=this._client,c=(f,g,p,l)=>a.sendRequest(Hu.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(f,g,p),l).then(d=>l.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(d,l),d=>a.handleFailedRequest(Hu.SignatureHelpRequest.type,l,d,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(r,i,o,s,c):c(r,i,o,s)}};return[this.registerProvider(e,n),n]}registerProvider(e,n){let r=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return VN.languages.registerSignatureHelpProvider(r,n,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return VN.languages.registerSignatureHelpProvider(r,n,i)}}};_p.SignatureHelpFeature=rD});var zN=P(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});Np.DocumentHighlightFeature=void 0;var Q9=require("vscode"),iD=Ie(),sD=Qe(),Z9=Pt(),oD=class extends sD.TextDocumentLanguageFeature{constructor(e){super(e,iD.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,sD.ensure)((0,sD.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentHighlightProvider);r&&this.register({id:Z9.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentHighlights:(i,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(iD.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(l,p),l=>a.handleFailedRequest(iD.DocumentHighlightRequest.type,p,l,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,s,o,c):c(i,s,o)}};return[Q9.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};Np.DocumentHighlightFeature=oD});var uD=P(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.DocumentSymbolFeature=Ei.SupportedSymbolTags=Ei.SupportedSymbolKinds=void 0;var e4=require("vscode"),ot=Ie(),aD=Qe(),t4=Pt();Ei.SupportedSymbolKinds=[ot.SymbolKind.File,ot.SymbolKind.Module,ot.SymbolKind.Namespace,ot.SymbolKind.Package,ot.SymbolKind.Class,ot.SymbolKind.Method,ot.SymbolKind.Property,ot.SymbolKind.Field,ot.SymbolKind.Constructor,ot.SymbolKind.Enum,ot.SymbolKind.Interface,ot.SymbolKind.Function,ot.SymbolKind.Variable,ot.SymbolKind.Constant,ot.SymbolKind.String,ot.SymbolKind.Number,ot.SymbolKind.Boolean,ot.SymbolKind.Array,ot.SymbolKind.Object,ot.SymbolKind.Key,ot.SymbolKind.Null,ot.SymbolKind.EnumMember,ot.SymbolKind.Struct,ot.SymbolKind.Event,ot.SymbolKind.Operator,ot.SymbolKind.TypeParameter];Ei.SupportedSymbolTags=[ot.SymbolTag.Deprecated];var cD=class extends aD.TextDocumentLanguageFeature{constructor(e){super(e,ot.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,aD.ensure)((0,aD.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:Ei.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:Ei.SupportedSymbolTags},n.labelSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentSymbolProvider);r&&this.register({id:t4.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentSymbols:(s,o)=>{let a=this._client,c=async(f,g)=>{try{let p=await a.sendRequest(ot.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(f),g);if(g.isCancellationRequested||p===void 0||p===null)return null;if(p.length===0)return[];{let l=p[0];return ot.DocumentSymbol.is(l)?await a.protocol2CodeConverter.asDocumentSymbols(p,g):await a.protocol2CodeConverter.asSymbolInformations(p,g)}}catch(p){return a.handleFailedRequest(ot.DocumentSymbolRequest.type,g,p,null)}},u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(s,o,c):c(s,o)}},i=e.label!==void 0?{label:e.label}:void 0;return[e4.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,i),r]}};Ei.DocumentSymbolFeature=cD});var JN=P(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.WorkspaceSymbolFeature=void 0;var n4=require("vscode"),zu=Ie(),lD=Qe(),GN=uD(),r4=Pt(),dD=class extends lD.WorkspaceFeature{constructor(e){super(e,zu.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let n=(0,lD.ensure)((0,lD.ensure)(e,"workspace"),"symbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:GN.SupportedSymbolKinds},n.tagSupport={valueSet:GN.SupportedSymbolTags},n.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:r4.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let n={provideWorkspaceSymbols:(r,i)=>{let s=this._client,o=(c,u)=>s.sendRequest(zu.WorkspaceSymbolRequest.type,{query:c},u).then(f=>u.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformations(f,u),f=>s.handleFailedRequest(zu.WorkspaceSymbolRequest.type,u,f,null)),a=s.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(r,i,o):o(r,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(r,i)=>{let s=this._client,o=(c,u)=>s.sendRequest(zu.WorkspaceSymbolResolveRequest.type,s.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(f=>u.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformation(f),f=>s.handleFailedRequest(zu.WorkspaceSymbolResolveRequest.type,u,f,null)),a=s.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(r,i,o):o(r,i)}:void 0};return[n4.languages.registerWorkspaceSymbolProvider(n),n]}};Op.WorkspaceSymbolFeature=dD});var XN=P(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});Lp.ReferencesFeature=void 0;var i4=require("vscode"),fD=Ie(),pD=Qe(),s4=Pt(),hD=class extends pD.TextDocumentLanguageFeature{constructor(e){super(e,fD.ReferencesRequest.type)}fillClientCapabilities(e){(0,pD.ensure)((0,pD.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.referencesProvider);r&&this.register({id:s4.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideReferences:(i,s,o,a)=>{let c=this._client,u=(g,p,l,d)=>c.sendRequest(fD.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(g,p,l),d).then(h=>d.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(h,d),h=>c.handleFailedRequest(fD.ReferencesRequest.type,d,h,null)),f=c.middleware;return f.provideReferences?f.provideReferences(i,s,o,a,u):u(i,s,o,a)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return i4.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Lp.ReferencesFeature=hD});var YN=P(Mp=>{"use strict";Object.defineProperty(Mp,"__esModule",{value:!0});Mp.CodeActionFeature=void 0;var o4=require("vscode"),Sr=Ie(),a4=Pt(),gD=Qe(),mD=class extends gD.TextDocumentLanguageFeature{constructor(e){super(e,Sr.CodeActionRequest.type)}fillClientCapabilities(e){let n=(0,gD.ensure)((0,gD.ensure)(e,"textDocument"),"codeAction");n.dynamicRegistration=!0,n.isPreferredSupport=!0,n.disabledSupport=!0,n.dataSupport=!0,n.resolveSupport={properties:["edit"]},n.codeActionLiteralSupport={codeActionKind:{valueSet:[Sr.CodeActionKind.Empty,Sr.CodeActionKind.QuickFix,Sr.CodeActionKind.Refactor,Sr.CodeActionKind.RefactorExtract,Sr.CodeActionKind.RefactorInline,Sr.CodeActionKind.RefactorRewrite,Sr.CodeActionKind.Source,Sr.CodeActionKind.SourceOrganizeImports]}},n.honorsChangeAnnotations=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.codeActionProvider);r&&this.register({id:a4.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideCodeActions:(i,s,o,a)=>{let c=this._client,u=async(g,p,l,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(p),context:c.code2ProtocolConverter.asCodeActionContextSync(l)};return c.sendRequest(Sr.CodeActionRequest.type,h,d).then(m=>d.isCancellationRequested||m===null||m===void 0?null:c.protocol2CodeConverter.asCodeActionResult(m,d),m=>c.handleFailedRequest(Sr.CodeActionRequest.type,d,m,null))},f=c.middleware;return f.provideCodeActions?f.provideCodeActions(i,s,o,a,u):u(i,s,o,a)},resolveCodeAction:e.resolveProvider?(i,s)=>{let o=this._client,a=this._client.middleware,c=async(u,f)=>o.sendRequest(Sr.CodeActionResolveRequest.type,o.code2ProtocolConverter.asCodeActionSync(u),f).then(g=>f.isCancellationRequested?u:o.protocol2CodeConverter.asCodeAction(g,f),g=>o.handleFailedRequest(Sr.CodeActionResolveRequest.type,f,g,u));return a.resolveCodeAction?a.resolveCodeAction(i,s,c):c(i,s)}:void 0};return[o4.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),r]}};Mp.CodeActionFeature=mD});var ZN=P(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.CodeLensFeature=void 0;var QN=require("vscode"),Ba=Ie(),c4=Pt(),Gu=Qe(),yD=class extends Gu.TextDocumentLanguageFeature{constructor(e){super(e,Ba.CodeLensRequest.type)}fillClientCapabilities(e){(0,Gu.ensure)((0,Gu.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,Gu.ensure)((0,Gu.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,n){this._client.onRequest(Ba.CodeLensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(n,e.codeLensProvider);i&&this.register({id:c4.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r=new QN.EventEmitter,i={onDidChangeCodeLenses:r.event,provideCodeLenses:(s,o)=>{let a=this._client,c=(f,g)=>a.sendRequest(Ba.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(f),g).then(p=>g.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(p,g),p=>a.handleFailedRequest(Ba.CodeLensRequest.type,g,p,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(s,o,c):c(s,o)},resolveCodeLens:e.resolveProvider?(s,o)=>{let a=this._client,c=(f,g)=>a.sendRequest(Ba.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(f),g).then(p=>g.isCancellationRequested?f:a.protocol2CodeConverter.asCodeLens(p),p=>a.handleFailedRequest(Ba.CodeLensResolveRequest.type,g,p,f)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(s,o,c):c(s,o)}:void 0};return[QN.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),{provider:i,onDidChangeCodeLensEmitter:r}]}};Up.CodeLensFeature=yD});var eO=P(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.DocumentOnTypeFormattingFeature=Ps.DocumentRangeFormattingFeature=Ps.DocumentFormattingFeature=void 0;var qp=require("vscode"),ei=Ie(),bD=Pt(),Ki=Qe(),Wa;(function(t){function e(n){let r=qp.workspace.getConfiguration("files",n);return{trimTrailingWhitespace:r.get("trimTrailingWhitespace"),trimFinalNewlines:r.get("trimFinalNewlines"),insertFinalNewline:r.get("insertFinalNewline")}}t.fromConfiguration=e})(Wa||(Wa={}));var CD=class extends Ki.TextDocumentLanguageFeature{constructor(e){super(e,ei.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Ki.ensure)((0,Ki.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentFormattingProvider);r&&this.register({id:bD.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentFormattingEdits:(i,s,o)=>{let a=this._client,c=(f,g,p)=>{let l={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),options:a.code2ProtocolConverter.asFormattingOptions(g,Wa.fromConfiguration(f))};return a.sendRequest(ei.DocumentFormattingRequest.type,l,p).then(d=>p.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(d,p),d=>a.handleFailedRequest(ei.DocumentFormattingRequest.type,p,d,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,s,o,c):c(i,s,o)}};return[qp.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};Ps.DocumentFormattingFeature=CD;var vD=class extends Ki.TextDocumentLanguageFeature{constructor(e){super(e,ei.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let n=(0,Ki.ensure)((0,Ki.ensure)(e,"textDocument"),"rangeFormatting");n.dynamicRegistration=!0,n.rangesSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentRangeFormattingProvider);r&&this.register({id:bD.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentRangeFormattingEdits:(i,s,o,a)=>{let c=this._client,u=(g,p,l,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(p),options:c.code2ProtocolConverter.asFormattingOptions(l,Wa.fromConfiguration(g))};return c.sendRequest(ei.DocumentRangeFormattingRequest.type,h,d).then(m=>d.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(m,d),m=>c.handleFailedRequest(ei.DocumentRangeFormattingRequest.type,d,m,null))},f=c.middleware;return f.provideDocumentRangeFormattingEdits?f.provideDocumentRangeFormattingEdits(i,s,o,a,u):u(i,s,o,a)}};return e.rangesSupport&&(r.provideDocumentRangesFormattingEdits=(i,s,o,a)=>{let c=this._client,u=(g,p,l,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),ranges:c.code2ProtocolConverter.asRanges(p),options:c.code2ProtocolConverter.asFormattingOptions(l,Wa.fromConfiguration(g))};return c.sendRequest(ei.DocumentRangesFormattingRequest.type,h,d).then(m=>d.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(m,d),m=>c.handleFailedRequest(ei.DocumentRangesFormattingRequest.type,d,m,null))},f=c.middleware;return f.provideDocumentRangesFormattingEdits?f.provideDocumentRangesFormattingEdits(i,s,o,a,u):u(i,s,o,a)}),[qp.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};Ps.DocumentRangeFormattingFeature=vD;var SD=class extends Ki.TextDocumentLanguageFeature{constructor(e){super(e,ei.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Ki.ensure)((0,Ki.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentOnTypeFormattingProvider);r&&this.register({id:bD.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideOnTypeFormattingEdits:(s,o,a,c,u)=>{let f=this._client,g=(l,d,h,m,C)=>{let D={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(l),position:f.code2ProtocolConverter.asPosition(d),ch:h,options:f.code2ProtocolConverter.asFormattingOptions(m,Wa.fromConfiguration(l))};return f.sendRequest(ei.DocumentOnTypeFormattingRequest.type,D,C).then(T=>C.isCancellationRequested?null:f.protocol2CodeConverter.asTextEdits(T,C),T=>f.handleFailedRequest(ei.DocumentOnTypeFormattingRequest.type,C,T,null))},p=f.middleware;return p.provideOnTypeFormattingEdits?p.provideOnTypeFormattingEdits(s,o,a,c,u,g):g(s,o,a,c,u)}},i=e.moreTriggerCharacter||[];return[qp.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r,e.firstTriggerCharacter,...i),r]}};Ps.DocumentOnTypeFormattingFeature=SD});var nO=P(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});jp.RenameFeature=void 0;var u4=require("vscode"),Do=Ie(),l4=Pt(),tO=Nr(),DD=Qe(),wD=class extends DD.TextDocumentLanguageFeature{constructor(e){super(e,Do.RenameRequest.type)}fillClientCapabilities(e){let n=(0,DD.ensure)((0,DD.ensure)(e,"textDocument"),"rename");n.dynamicRegistration=!0,n.prepareSupport=!0,n.prepareSupportDefaultBehavior=Do.PrepareSupportDefaultBehavior.Identifier,n.honorsChangeAnnotations=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.renameProvider);r&&(tO.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register({id:l4.generateUuid(),registerOptions:r}))}registerLanguageProvider(e){let n=e.documentSelector,r={provideRenameEdits:(i,s,o,a)=>{let c=this._client,u=(g,p,l,d)=>{let h={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),position:c.code2ProtocolConverter.asPosition(p),newName:l};return c.sendRequest(Do.RenameRequest.type,h,d).then(m=>d.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(m,d),m=>c.handleFailedRequest(Do.RenameRequest.type,d,m,null,!1))},f=c.middleware;return f.provideRenameEdits?f.provideRenameEdits(i,s,o,a,u):u(i,s,o,a)},prepareRename:e.prepareProvider?(i,s,o)=>{let a=this._client,c=(f,g,p)=>{let l={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),position:a.code2ProtocolConverter.asPosition(g)};return a.sendRequest(Do.PrepareRenameRequest.type,l,p).then(d=>p.isCancellationRequested?null:Do.Range.is(d)?a.protocol2CodeConverter.asRange(d):this.isDefaultBehavior(d)?d.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):d&&Do.Range.is(d.range)?{range:a.protocol2CodeConverter.asRange(d.range),placeholder:d.placeholder}:Promise.reject(new Error("The element can't be renamed.")),d=>{throw typeof d.message=="string"?new Error(d.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,s,o,c):c(i,s,o)}:void 0};return[this.registerProvider(n,r),r]}registerProvider(e,n){return u4.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}isDefaultBehavior(e){let n=e;return n&&tO.boolean(n.defaultBehavior)}};jp.RenameFeature=wD});var rO=P(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.DocumentLinkFeature=void 0;var d4=require("vscode"),Ju=Ie(),TD=Qe(),f4=Pt(),xD=class extends TD.TextDocumentLanguageFeature{constructor(e){super(e,Ju.DocumentLinkRequest.type)}fillClientCapabilities(e){let n=(0,TD.ensure)((0,TD.ensure)(e,"textDocument"),"documentLink");n.dynamicRegistration=!0,n.tooltipSupport=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.documentLinkProvider);r&&this.register({id:f4.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDocumentLinks:(i,s)=>{let o=this._client,a=(u,f)=>o.sendRequest(Ju.DocumentLinkRequest.type,o.code2ProtocolConverter.asDocumentLinkParams(u),f).then(g=>f.isCancellationRequested?null:o.protocol2CodeConverter.asDocumentLinks(g,f),g=>o.handleFailedRequest(Ju.DocumentLinkRequest.type,f,g,null)),c=o.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,s,a):a(i,s)},resolveDocumentLink:e.resolveProvider?(i,s)=>{let o=this._client,a=(u,f)=>o.sendRequest(Ju.DocumentLinkResolveRequest.type,o.code2ProtocolConverter.asDocumentLink(u),f).then(g=>f.isCancellationRequested?u:o.protocol2CodeConverter.asDocumentLink(g),g=>o.handleFailedRequest(Ju.DocumentLinkResolveRequest.type,f,g,u)),c=o.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,s,a):a(i,s)}:void 0};return[d4.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};Bp.DocumentLinkFeature=xD});var sO=P(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.ExecuteCommandFeature=void 0;var p4=require("vscode"),ED=Ie(),h4=Pt(),iO=Qe(),kD=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return ED.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,iO.ensure)((0,iO.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:h4.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let n=this._client,r=n.middleware,i=(s,o)=>{let a={command:s,arguments:o};return n.sendRequest(ED.ExecuteCommandRequest.type,a).then(void 0,c=>n.handleFailedRequest(ED.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let s=[];for(let o of e.registerOptions.commands)s.push(p4.commands.registerCommand(o,(...a)=>r.executeCommand?r.executeCommand(o,a,i):i(o,a)));this._commands.set(e.id,s)}}unregister(e){let n=this._commands.get(e);n&&n.forEach(r=>r.dispose())}clear(){this._commands.forEach(e=>{e.forEach(n=>n.dispose())}),this._commands.clear()}};Wp.ExecuteCommandFeature=kD});var oO=P($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.FileSystemWatcherFeature=void 0;var g4=require("vscode"),wo=Ie(),Kp=Qe(),FD=class{constructor(e,n){this._client=e,this._notifyFileEvent=n,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return wo.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,Kp.ensure)((0,Kp.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,Kp.ensure)((0,Kp.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,n){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let n=[];for(let r of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(r.globPattern);if(i===void 0)continue;let s=!0,o=!0,a=!0;r.kind!==void 0&&r.kind!==null&&(s=(r.kind&wo.WatchKind.Create)!==0,o=(r.kind&wo.WatchKind.Change)!==0,a=(r.kind&wo.WatchKind.Delete)!==0);let c=g4.workspace.createFileSystemWatcher(i,!s,!o,!a);this.hookListeners(c,s,o,a,n),n.push(c)}this._watchers.set(e.id,n)}registerRaw(e,n){let r=[];for(let i of n)this.hookListeners(i,!0,!0,!0,r);this._watchers.set(e,r)}hookListeners(e,n,r,i,s){n&&e.onDidCreate(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:wo.FileChangeType.Created}),null,s),r&&e.onDidChange(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:wo.FileChangeType.Changed}),null,s),i&&e.onDidDelete(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:wo.FileChangeType.Deleted}),null,s)}unregister(e){let n=this._watchers.get(e);if(n)for(let r of n)r.dispose()}clear(){this._watchers.forEach(e=>{for(let n of e)n.dispose()}),this._watchers.clear()}};$p.FileSystemWatcherFeature=FD});var aO=P(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});Vp.ColorProviderFeature=void 0;var m4=require("vscode"),Xu=Ie(),PD=Qe(),RD=class extends PD.TextDocumentLanguageFeature{constructor(e){super(e,Xu.DocumentColorRequest.type)}fillClientCapabilities(e){(0,PD.ensure)((0,PD.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.colorProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideColorPresentations:(i,s,o)=>{let a=this._client,c=(f,g,p)=>{let l={color:f,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(g.document),range:a.code2ProtocolConverter.asRange(g.range)};return a.sendRequest(Xu.ColorPresentationRequest.type,l,p).then(d=>p.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(d,p),d=>a.handleFailedRequest(Xu.ColorPresentationRequest.type,p,d,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,s,o,c):c(i,s,o)},provideDocumentColors:(i,s)=>{let o=this._client,a=(u,f)=>{let g={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(u)};return o.sendRequest(Xu.DocumentColorRequest.type,g,f).then(p=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(p,f),p=>o.handleFailedRequest(Xu.DocumentColorRequest.type,f,p,null))},c=o.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,s,a):a(i,s)}};return[m4.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};Vp.ColorProviderFeature=RD});var cO=P(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});Hp.ImplementationFeature=void 0;var y4=require("vscode"),AD=Ie(),ID=Qe(),_D=class extends ID.TextDocumentLanguageFeature{constructor(e){super(e,AD.ImplementationRequest.type)}fillClientCapabilities(e){let n=(0,ID.ensure)((0,ID.ensure)(e,"textDocument"),"implementation");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.implementationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideImplementation:(i,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(AD.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(l,p),l=>a.handleFailedRequest(AD.ImplementationRequest.type,p,l,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return y4.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Hp.ImplementationFeature=_D});var uO=P(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});zp.TypeDefinitionFeature=void 0;var C4=require("vscode"),ND=Ie(),Yu=Qe(),OD=class extends Yu.TextDocumentLanguageFeature{constructor(e){super(e,ND.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,Yu.ensure)((0,Yu.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let n=(0,Yu.ensure)((0,Yu.ensure)(e,"textDocument"),"typeDefinition");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.typeDefinitionProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideTypeDefinition:(i,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(ND.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(l,p),l=>a.handleFailedRequest(ND.TypeDefinitionRequest.type,p,l,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return C4.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};zp.TypeDefinitionFeature=OD});var lO=P(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.WorkspaceFoldersFeature=Ka.arrayDiff=void 0;var v4=Pt(),Gp=require("vscode"),Qu=Ie();function LD(t,e){if(t!=null)return t[e]}function MD(t,e){return t.filter(n=>e.indexOf(n)<0)}Ka.arrayDiff=MD;var UD=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return Qu.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let n=Gp.workspace.workspaceFolders;this.initializeWithFolders(n),n===void 0?e.workspaceFolders=null:e.workspaceFolders=n.map(r=>this.asProtocol(r))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let n=this._client;n.onRequest(Qu.WorkspaceFoldersRequest.type,s=>{let o=()=>{let c=Gp.workspace.workspaceFolders;return c===void 0?null:c.map(f=>this.asProtocol(f))},a=n.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(s,o):o(s)});let r=LD(LD(LD(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof r=="string"?i=r:r===!0&&(i=v4.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let n;if(this._initialFolders&&e){let r=MD(this._initialFolders,e),i=MD(e,this._initialFolders);(i.length>0||r.length>0)&&(n=this.doSendEvent(i,r))}else this._initialFolders?n=this.doSendEvent([],this._initialFolders):e&&(n=this.doSendEvent(e,[]));n!==void 0&&n.catch(r=>{this._client.error(`Sending notification ${Qu.DidChangeWorkspaceFoldersNotification.type.method} failed`,r)})}doSendEvent(e,n){let r={event:{added:e.map(i=>this.asProtocol(i)),removed:n.map(i=>this.asProtocol(i))}};return this._client.sendNotification(Qu.DidChangeWorkspaceFoldersNotification.type,r)}register(e){let n=e.id,r=this._client,i=Gp.workspace.onDidChangeWorkspaceFolders(s=>{let o=u=>this.doSendEvent(u.added,u.removed),a=r.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(s,o):o(s)).catch(u=>{this._client.error(`Sending notification ${Qu.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(n,i),this.sendInitialEvent(Gp.workspace.workspaceFolders)}unregister(e){let n=this._listeners.get(e);n!==void 0&&(this._listeners.delete(e),n.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};Ka.WorkspaceFoldersFeature=UD});var fO=P(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});Jp.FoldingRangeFeature=void 0;var dO=require("vscode"),To=Ie(),Zu=Qe(),qD=class extends Zu.TextDocumentLanguageFeature{constructor(e){super(e,To.FoldingRangeRequest.type)}fillClientCapabilities(e){let n=(0,Zu.ensure)((0,Zu.ensure)(e,"textDocument"),"foldingRange");n.dynamicRegistration=!0,n.rangeLimit=5e3,n.lineFoldingOnly=!0,n.foldingRangeKind={valueSet:[To.FoldingRangeKind.Comment,To.FoldingRangeKind.Imports,To.FoldingRangeKind.Region]},n.foldingRange={collapsedText:!1},(0,Zu.ensure)((0,Zu.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,n){this._client.onRequest(To.FoldingRangeRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeFoldingRange.fire()});let[r,i]=this.getRegistration(n,e.foldingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r=new dO.EventEmitter,i={onDidChangeFoldingRanges:r.event,provideFoldingRanges:(s,o,a)=>{let c=this._client,u=(g,p,l)=>{let d={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g)};return c.sendRequest(To.FoldingRangeRequest.type,d,l).then(h=>l.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(h,l),h=>c.handleFailedRequest(To.FoldingRangeRequest.type,l,h,null))},f=c.middleware;return f.provideFoldingRanges?f.provideFoldingRanges(s,o,a,u):u(s,o,a)}};return[dO.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),i),{provider:i,onDidChangeFoldingRange:r}]}};Jp.FoldingRangeFeature=qD});var pO=P(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});Xp.DeclarationFeature=void 0;var S4=require("vscode"),jD=Ie(),BD=Qe(),WD=class extends BD.TextDocumentLanguageFeature{constructor(e){super(e,jD.DeclarationRequest.type)}fillClientCapabilities(e){let n=(0,BD.ensure)((0,BD.ensure)(e,"textDocument"),"declaration");n.dynamicRegistration=!0,n.linkSupport=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.declarationProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideDeclaration:(i,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(jD.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(l,p),l=>a.handleFailedRequest(jD.DeclarationRequest.type,p,l,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return S4.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Xp.DeclarationFeature=WD});var hO=P(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});Yp.SelectionRangeFeature=void 0;var b4=require("vscode"),KD=Ie(),$D=Qe(),VD=class extends $D.TextDocumentLanguageFeature{constructor(e){super(e,KD.SelectionRangeRequest.type)}fillClientCapabilities(e){let n=(0,$D.ensure)((0,$D.ensure)(e,"textDocument"),"selectionRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.selectionRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideSelectionRanges:(i,s,o)=>{let a=this._client,c=async(f,g,p)=>{let l={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),positions:a.code2ProtocolConverter.asPositionsSync(g,p)};return a.sendRequest(KD.SelectionRangeRequest.type,l,p).then(d=>p.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(d,p),d=>a.handleFailedRequest(KD.SelectionRangeRequest.type,p,d,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return b4.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};Yp.SelectionRangeFeature=VD});var mO=P(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});Qp.ProgressFeature=void 0;var gO=Ie(),D4=Cb();function w4(t,e){return t[e]===void 0&&(t[e]=Object.create(null)),t[e]}var HD=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:gO.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){w4(e,"window").workDoneProgress=!0}initialize(){let e=this._client,n=i=>{this.activeParts.delete(i)},r=i=>{this.activeParts.add(new D4.ProgressPart(this._client,i.token,n))};e.onRequest(gO.WorkDoneProgressCreateRequest.type,r)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};Qp.ProgressFeature=HD});var yO=P(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});Zp.CallHierarchyFeature=void 0;var T4=require("vscode"),xo=Ie(),zD=Qe(),GD=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,n,r){let i=this.client,s=this.middleware,o=(a,c,u)=>{let f=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(xo.CallHierarchyPrepareRequest.type,f,u).then(g=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(g,u),g=>i.handleFailedRequest(xo.CallHierarchyPrepareRequest.type,u,g,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,n,r,o):o(e,n,r)}provideCallHierarchyIncomingCalls(e,n){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asCallHierarchyItem(o)};return r.sendRequest(xo.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>r.handleFailedRequest(xo.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,n,s):s(e,n)}provideCallHierarchyOutgoingCalls(e,n){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asCallHierarchyItem(o)};return r.sendRequest(xo.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>r.handleFailedRequest(xo.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,n,s):s(e,n)}},JD=class extends zD.TextDocumentLanguageFeature{constructor(e){super(e,xo.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=e,r=(0,zD.ensure)((0,zD.ensure)(n,"textDocument"),"callHierarchy");r.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.callHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=this._client,r=new GD(n);return[T4.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};Zp.CallHierarchyFeature=JD});var CO=P(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});th.SemanticTokensFeature=void 0;var eh=require("vscode"),Oe=Ie(),el=Qe(),x4=Nr(),XD=class extends el.TextDocumentLanguageFeature{constructor(e){super(e,Oe.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let n=(0,el.ensure)((0,el.ensure)(e,"textDocument"),"semanticTokens");n.dynamicRegistration=!0,n.tokenTypes=[Oe.SemanticTokenTypes.namespace,Oe.SemanticTokenTypes.type,Oe.SemanticTokenTypes.class,Oe.SemanticTokenTypes.enum,Oe.SemanticTokenTypes.interface,Oe.SemanticTokenTypes.struct,Oe.SemanticTokenTypes.typeParameter,Oe.SemanticTokenTypes.parameter,Oe.SemanticTokenTypes.variable,Oe.SemanticTokenTypes.property,Oe.SemanticTokenTypes.enumMember,Oe.SemanticTokenTypes.event,Oe.SemanticTokenTypes.function,Oe.SemanticTokenTypes.method,Oe.SemanticTokenTypes.macro,Oe.SemanticTokenTypes.keyword,Oe.SemanticTokenTypes.modifier,Oe.SemanticTokenTypes.comment,Oe.SemanticTokenTypes.string,Oe.SemanticTokenTypes.number,Oe.SemanticTokenTypes.regexp,Oe.SemanticTokenTypes.operator,Oe.SemanticTokenTypes.decorator],n.tokenModifiers=[Oe.SemanticTokenModifiers.declaration,Oe.SemanticTokenModifiers.definition,Oe.SemanticTokenModifiers.readonly,Oe.SemanticTokenModifiers.static,Oe.SemanticTokenModifiers.deprecated,Oe.SemanticTokenModifiers.abstract,Oe.SemanticTokenModifiers.async,Oe.SemanticTokenModifiers.modification,Oe.SemanticTokenModifiers.documentation,Oe.SemanticTokenModifiers.defaultLibrary],n.formats=[Oe.TokenFormat.Relative],n.requests={range:!0,full:{delta:!0}},n.multilineTokenSupport=!1,n.overlappingTokenSupport=!1,n.serverCancelSupport=!0,n.augmentsSyntaxTokens=!0,(0,el.ensure)((0,el.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,n){this._client.onRequest(Oe.SemanticTokensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeSemanticTokensEmitter.fire()});let[i,s]=this.getRegistration(n,e.semanticTokensProvider);!i||!s||this.register({id:i,registerOptions:s})}registerLanguageProvider(e){let n=e.documentSelector,r=x4.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,s=new eh.EventEmitter,o=r?{onDidChangeSemanticTokens:s.event,provideDocumentSemanticTokens:(l,d)=>{let h=this._client,m=h.middleware,C=(D,T)=>{let k={textDocument:h.code2ProtocolConverter.asTextDocumentIdentifier(D)};return h.sendRequest(Oe.SemanticTokensRequest.type,k,T).then(I=>T.isCancellationRequested?null:h.protocol2CodeConverter.asSemanticTokens(I,T),I=>h.handleFailedRequest(Oe.SemanticTokensRequest.type,T,I,null))};return m.provideDocumentSemanticTokens?m.provideDocumentSemanticTokens(l,d,C):C(l,d)},provideDocumentSemanticTokensEdits:i?(l,d,h)=>{let m=this._client,C=m.middleware,D=(T,k,I)=>{let B={textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(T),previousResultId:k};return m.sendRequest(Oe.SemanticTokensDeltaRequest.type,B,I).then(async W=>I.isCancellationRequested?null:Oe.SemanticTokens.is(W)?await m.protocol2CodeConverter.asSemanticTokens(W,I):await m.protocol2CodeConverter.asSemanticTokensEdits(W,I),W=>m.handleFailedRequest(Oe.SemanticTokensDeltaRequest.type,I,W,null))};return C.provideDocumentSemanticTokensEdits?C.provideDocumentSemanticTokensEdits(l,d,h,D):D(l,d,h)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(l,d,h)=>{let m=this._client,C=m.middleware,D=(T,k,I)=>{let B={textDocument:m.code2ProtocolConverter.asTextDocumentIdentifier(T),range:m.code2ProtocolConverter.asRange(k)};return m.sendRequest(Oe.SemanticTokensRangeRequest.type,B,I).then(W=>I.isCancellationRequested?null:m.protocol2CodeConverter.asSemanticTokens(W,I),W=>m.handleFailedRequest(Oe.SemanticTokensRangeRequest.type,I,W,null))};return C.provideDocumentRangeSemanticTokens?C.provideDocumentRangeSemanticTokens(l,d,h,D):D(l,d,h)}}:void 0,u=[],f=this._client,g=f.protocol2CodeConverter.asSemanticTokensLegend(e.legend),p=f.protocol2CodeConverter.asDocumentSelector(n);return o!==void 0&&u.push(eh.languages.registerDocumentSemanticTokensProvider(p,o,g)),c!==void 0&&u.push(eh.languages.registerDocumentRangeSemanticTokensProvider(p,c,g)),[new eh.Disposable(()=>u.forEach(l=>l.dispose())),{range:c,full:o,onDidChangeSemanticTokensEmitter:s}]}};th.SemanticTokensFeature=XD});var bO=P(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.WillDeleteFilesFeature=or.WillRenameFilesFeature=or.WillCreateFilesFeature=or.DidDeleteFilesFeature=or.DidRenameFilesFeature=or.DidCreateFilesFeature=void 0;var jr=require("vscode"),E4=wp(),$i=Ie(),k4=Pt();function vO(t,e){return t[e]===void 0&&(t[e]={}),t[e]}function F4(t,e){return t[e]}function SO(t,e,n){t[e]=n}var tl=class t{constructor(e,n,r,i,s){this._client=e,this._event=n,this._registrationType=r,this._clientCapability=i,this._serverCapability=s,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let n=vO(vO(e,"workspace"),"fileOperations");SO(n,"dynamicRegistration",!0),SO(n,this._clientCapability,!0)}initialize(e){let n=e.workspace?.fileOperations,r=n!==void 0?F4(n,this._serverCapability):void 0;if(r?.filters!==void 0)try{this.register({id:k4.generateUuid(),registerOptions:{filters:r.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let n=e.registerOptions.filters.map(r=>{let i=new E4.Minimatch(r.pattern.glob,t.asMinimatchOptions(r.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${r.pattern.glob}!`);return{scheme:r.scheme,matcher:i,kind:r.pattern.matches}});this._filters.set(e.id,n)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return t.getFileType(e)}async filter(e,n){let r=await Promise.all(e.files.map(async s=>{let o=n(s),a=o.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==o.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let f=await this.getFileType(o);if(f===void 0)return this._client.error(`Failed to determine file type for ${o.toString()}.`),!0;if(f===jr.FileType.File&&u.kind===$i.FileOperationPatternKind.file||f===jr.FileType.Directory&&u.kind===$i.FileOperationPatternKind.folder)return!0}else if(u.kind===$i.FileOperationPatternKind.folder&&await t.getFileType(o)===jr.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((s,o)=>r[o]);return{...e,files:i}}static async getFileType(e){try{return(await jr.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let n={dot:!0};return e?.ignoreCase===!0&&(n.nocase=!0),n}},nh=class extends tl{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s),this._notificationType=r,this._accessUri=o,this._createParams=a}async send(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(n,r)}}},rh=class extends nh{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let n=e.fsPath;if(this._fsPathFileTypes.has(n))return this._fsPathFileTypes.get(n);let r=await tl.getFileType(e);return r&&this._fsPathFileTypes.set(n,r),r}async cacheFileTypes(e,n){await this.filter(e,n)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},YD=class extends nh{constructor(e){super(e,jr.workspace.onDidCreateFiles,$i.DidCreateFilesNotification.type,"didCreate","didCreate",n=>n,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.didCreateFiles?r.didCreateFiles(e,n):n(e)}};or.DidCreateFilesFeature=YD;var QD=class extends rh{constructor(e){super(e,jr.workspace.onDidRenameFiles,$i.DidRenameFilesNotification.type,"didRename","didRename",n=>n.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=jr.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,n=>n.oldUri))}doSend(e,n){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r?.didRenameFiles?r.didRenameFiles(e,n):n(e)}};or.DidRenameFilesFeature=QD;var ZD=class extends rh{constructor(e){super(e,jr.workspace.onDidDeleteFiles,$i.DidDeleteFilesNotification.type,"didDelete","didDelete",n=>n,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=jr.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,n=>n))}doSend(e,n){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r?.didDeleteFiles?r.didDeleteFiles(e,n):n(e)}};or.DidDeleteFilesFeature=ZD;var nl=class extends tl{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s),this._requestType=r,this._accessUri=o,this._createParams=a}async send(e){let n=this.waitUntil(e);e.waitUntil(n)}async waitUntil(e){let n=await this.filter(e,this._accessUri);if(n.files.length){let r=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(n,r)}else return}},ew=class extends nl{constructor(e){super(e,jr.workspace.onWillCreateFiles,$i.WillCreateFilesRequest.type,"willCreate","willCreate",n=>n,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willCreateFiles?r.willCreateFiles(e,n):n(e)}};or.WillCreateFilesFeature=ew;var tw=class extends nl{constructor(e){super(e,jr.workspace.onWillRenameFiles,$i.WillRenameFilesRequest.type,"willRename","willRename",n=>n.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willRenameFiles?r.willRenameFiles(e,n):n(e)}};or.WillRenameFilesFeature=tw;var nw=class extends nl{constructor(e){super(e,jr.workspace.onWillDeleteFiles,$i.WillDeleteFilesRequest.type,"willDelete","willDelete",n=>n,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,n){let r=this._client.middleware.workspace;return r?.willDeleteFiles?r.willDeleteFiles(e,n):n(e)}};or.WillDeleteFilesFeature=nw});var DO=P(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.LinkedEditingFeature=void 0;var P4=require("vscode"),rw=Ie(),iw=Qe(),sw=class extends iw.TextDocumentLanguageFeature{constructor(e){super(e,rw.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let n=(0,iw.ensure)((0,iw.ensure)(e,"textDocument"),"linkedEditingRange");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.linkedEditingRangeProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r={provideLinkedEditingRanges:(i,s,o)=>{let a=this._client,c=(f,g,p)=>a.sendRequest(rw.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,g),p).then(l=>p.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(l,p),l=>a.handleFailedRequest(rw.LinkedEditingRangeRequest.type,p,l,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,s,o,c):c(i,s,o)}};return[this.registerProvider(n,r),r]}registerProvider(e,n){return P4.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};ih.LinkedEditingFeature=sw});var wO=P(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.TypeHierarchyFeature=void 0;var R4=require("vscode"),Eo=Ie(),ow=Qe(),aw=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,n,r){let i=this.client,s=this.middleware,o=(a,c,u)=>{let f=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(Eo.TypeHierarchyPrepareRequest.type,f,u).then(g=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(g,u),g=>i.handleFailedRequest(Eo.TypeHierarchyPrepareRequest.type,u,g,null))};return s.prepareTypeHierarchy?s.prepareTypeHierarchy(e,n,r,o):o(e,n,r)}provideTypeHierarchySupertypes(e,n){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asTypeHierarchyItem(o)};return r.sendRequest(Eo.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>r.handleFailedRequest(Eo.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,n,s):s(e,n)}provideTypeHierarchySubtypes(e,n){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asTypeHierarchyItem(o)};return r.sendRequest(Eo.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>r.handleFailedRequest(Eo.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,n,s):s(e,n)}},cw=class extends ow.TextDocumentLanguageFeature{constructor(e){super(e,Eo.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let n=(0,ow.ensure)((0,ow.ensure)(e,"textDocument"),"typeHierarchy");n.dynamicRegistration=!0}initialize(e,n){let[r,i]=this.getRegistration(n,e.typeHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=this._client,r=new aw(n);return[R4.languages.registerTypeHierarchyProvider(n.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};sh.TypeHierarchyFeature=cw});var xO=P(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});ah.InlineValueFeature=void 0;var TO=require("vscode"),oh=Ie(),rl=Qe(),uw=class extends rl.TextDocumentLanguageFeature{constructor(e){super(e,oh.InlineValueRequest.type)}fillClientCapabilities(e){(0,rl.ensure)((0,rl.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,rl.ensure)((0,rl.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,n){this._client.onRequest(oh.InlineValueRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlineValues.fire()});let[r,i]=this.getRegistration(n,e.inlineValueProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r=new TO.EventEmitter,i={onDidChangeInlineValues:r.event,provideInlineValues:(s,o,a,c)=>{let u=this._client,f=(p,l,d,h)=>{let m={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(p),range:u.code2ProtocolConverter.asRange(l),context:u.code2ProtocolConverter.asInlineValueContext(d)};return u.sendRequest(oh.InlineValueRequest.type,m,h).then(C=>h.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(C,h),C=>u.handleFailedRequest(oh.InlineValueRequest.type,h,C,null))},g=u.middleware;return g.provideInlineValues?g.provideInlineValues(s,o,a,c,f):f(s,o,a,c)}};return[this.registerProvider(n,i),{provider:i,onDidChangeInlineValues:r}]}registerProvider(e,n){return TO.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};ah.InlineValueFeature=uw});var kO=P(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.InlayHintsFeature=void 0;var EO=require("vscode"),$a=Ie(),il=Qe(),lw=class extends il.TextDocumentLanguageFeature{constructor(e){super(e,$a.InlayHintRequest.type)}fillClientCapabilities(e){let n=(0,il.ensure)((0,il.ensure)(e,"textDocument"),"inlayHint");n.dynamicRegistration=!0,n.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,il.ensure)((0,il.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,n){this._client.onRequest($a.InlayHintRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlayHints.fire()});let[r,i]=this.getRegistration(n,e.inlayHintProvider);!r||!i||this.register({id:r,registerOptions:i})}registerLanguageProvider(e){let n=e.documentSelector,r=new EO.EventEmitter,i={onDidChangeInlayHints:r.event,provideInlayHints:(s,o,a)=>{let c=this._client,u=async(g,p,l)=>{let d={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(g),range:c.code2ProtocolConverter.asRange(p)};try{let h=await c.sendRequest($a.InlayHintRequest.type,d,l);return l.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(h,l)}catch(h){return c.handleFailedRequest($a.InlayHintRequest.type,l,h,null)}},f=c.middleware;return f.provideInlayHints?f.provideInlayHints(s,o,a,u):u(s,o,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(s,o)=>{let a=this._client,c=async(f,g)=>{try{let p=await a.sendRequest($a.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(f),g);if(g.isCancellationRequested)return null;let l=a.protocol2CodeConverter.asInlayHint(p,g);return g.isCancellationRequested?null:l}catch(p){return a.handleFailedRequest($a.InlayHintResolveRequest.type,g,p,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(s,o,c):c(s,o)}:void 0,[this.registerProvider(n,i),{provider:i,onDidChangeInlayHints:r}]}registerProvider(e,n){return EO.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),n)}};ch.InlayHintsFeature=lw});var FO=P(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.InlineCompletionItemFeature=void 0;var A4=require("vscode"),dw=Ie(),fw=Qe(),I4=Pt(),pw=class extends fw.TextDocumentLanguageFeature{constructor(e){super(e,dw.InlineCompletionRequest.type)}fillClientCapabilities(e){let n=(0,fw.ensure)((0,fw.ensure)(e,"textDocument"),"inlineCompletion");n.dynamicRegistration=!0}initialize(e,n){let r=this.getRegistrationOptions(n,e.inlineCompletionProvider);r&&this.register({id:I4.generateUuid(),registerOptions:r})}registerLanguageProvider(e){let n=e.documentSelector,r={provideInlineCompletionItems:(i,s,o,a)=>{let c=this._client,u=this._client.middleware,f=(g,p,l,d)=>c.sendRequest(dw.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(g,p,l),d).then(h=>d.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(h,d),h=>c.handleFailedRequest(dw.InlineCompletionRequest.type,d,h,null));return u.provideInlineCompletionItems?u.provideInlineCompletionItems(i,s,o,a,f):f(i,s,o,a)}};return[A4.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(n),r),r]}};uh.InlineCompletionItemFeature=pw});var vw=P(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.ProposedFeatures=pn.BaseLanguageClient=pn.MessageTransports=pn.SuspendMode=pn.State=pn.CloseAction=pn.ErrorAction=pn.RevealOutputChannelOn=void 0;var pt=require("vscode"),oe=Ie(),_4=iN(),N4=aN(),ni=Nr(),lh=mp(),PO=Pt(),O4=Cb(),ti=Qe(),L4=Ub(),RO=UN(),AO=jN(),Va=BN(),M4=WN(),U4=KN(),q4=$N(),j4=HN(),B4=zN(),W4=uD(),K4=JN(),$4=XN(),V4=YN(),H4=ZN(),hw=eO(),z4=nO(),G4=rO(),J4=sO(),X4=oO(),Y4=aO(),Q4=cO(),Z4=uO(),eG=lO(),tG=fO(),nG=pO(),rG=hO(),iG=mO(),sG=yO(),oG=CO(),Ha=bO(),aG=DO(),cG=wO(),uG=xO(),lG=kO(),dG=FO(),ko;(function(t){t[t.Debug=0]="Debug",t[t.Info=1]="Info",t[t.Warn=2]="Warn",t[t.Error=3]="Error",t[t.Never=4]="Never"})(ko||(pn.RevealOutputChannelOn=ko={}));var ol;(function(t){t[t.Continue=1]="Continue",t[t.Shutdown=2]="Shutdown"})(ol||(pn.ErrorAction=ol={}));var Rs;(function(t){t[t.DoNotRestart=1]="DoNotRestart",t[t.Restart=2]="Restart"})(Rs||(pn.CloseAction=Rs={}));var sl;(function(t){t[t.Stopped=1]="Stopped",t[t.Starting=3]="Starting",t[t.Running=2]="Running"})(sl||(pn.State=sl={}));var IO;(function(t){t.off="off",t.on="on"})(IO||(pn.SuspendMode=IO={}));var gw;(function(t){function e(n){return n==null?!1:typeof n=="boolean"||typeof n=="object"&&n!==null&&ni.stringArray(n.enabledCommands)?n:!1}t.sanitizeIsTrusted=e})(gw||(gw={}));var mw=class{constructor(e,n){this.client=e,this.maxRestartCount=n,this.restarts=[]}error(e,n,r){return r&&r<=3?{action:ol.Continue}:{action:ol.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Rs.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=180*1e3?{action:Rs.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Rs.Restart})}},We;(function(t){t.Initial="initial",t.Starting="starting",t.StartFailed="startFailed",t.Running="running",t.Stopping="stopping",t.Stopped="stopped"})(We||(We={}));var _O;(function(t){function e(n){return n&&oe.MessageReader.is(n.reader)&&oe.MessageWriter.is(n.writer)}t.is=e})(_O||(pn.MessageTransports=_O={}));var al=class t{constructor(e,n,r){this._traceFormat=oe.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new lh.Semaphore(1),this._id=e,this._name=n,r=r||{};let i={isTrusted:!1,supportHtml:!1};r.markdown!==void 0&&(i.isTrusted=gw.sanitizeIsTrusted(r.markdown.isTrusted),i.supportHtml=r.markdown.supportHtml===!0),this._clientOptions={documentSelector:r.documentSelector??[],synchronize:r.synchronize??{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName??this._name,revealOutputChannelOn:r.revealOutputChannelOn??ko.Error,stdioEncoding:r.stdioEncoding??"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler??this.createDefaultErrorHandler(r.connectionOptions?.maxRestartCount),middleware:r.middleware??{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:i,diagnosticPullOptions:r.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:r.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=We.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new lh.Semaphore(1),this._pendingChangeDelayer=new lh.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new lh.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new oe.Emitter,this._stateChangeEmitter=new oe.Emitter,this._trace=oe.Trace.Off,this._tracer={log:(s,o)=>{ni.string(s)?this.logTrace(s,o):this.logObjectTrace(s)}},this._c2p=_4.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=N4.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=pt.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let n=this.getPublicState();this._state=e;let r=this.getPublicState();r!==n&&this._stateChangeEmitter.fire({oldState:n,newState:r})}getPublicState(){switch(this.$state){case We.Starting:return sl.Starting;case We.Running:return sl.Running;default:return sl.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...n){if(this.$state===We.StartFailed||this.$state===We.Stopping||this.$state===We.Stopped)return Promise.reject(new oe.ResponseError(oe.ErrorCodes.ConnectionInactive,"Client is not running"));let r=await this.$start();this._didChangeTextDocumentFeature.syncKind===oe.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(r);let i=this._clientOptions.middleware?.sendRequest;if(i!==void 0){let s,o;return n.length===1?oe.CancellationToken.is(n[0])?o=n[0]:s=n[0]:n.length===2&&(s=n[0],o=n[1]),i(e,s,o,(a,c,u)=>{let f=[];return c!==void 0&&f.push(c),u!==void 0&&f.push(u),r.sendRequest(a,...f)})}else return r.sendRequest(e,...n)}onRequest(e,n){let r=typeof e=="string"?e:e.method;this._requestHandlers.set(r,n);let i=this.activeConnection(),s;return i!==void 0?(this._requestDisposables.set(r,i.onRequest(e,n)),s={dispose:()=>{let o=this._requestDisposables.get(r);o!==void 0&&(o.dispose(),this._requestDisposables.delete(r))}}):(this._pendingRequestHandlers.set(r,n),s={dispose:()=>{this._pendingRequestHandlers.delete(r);let o=this._requestDisposables.get(r);o!==void 0&&(o.dispose(),this._requestDisposables.delete(r))}}),{dispose:()=>{this._requestHandlers.delete(r),s.dispose()}}}async sendNotification(e,n){if(this.$state===We.StartFailed||this.$state===We.Stopping||this.$state===We.Stopped)return Promise.reject(new oe.ResponseError(oe.ErrorCodes.ConnectionInactive,"Client is not running"));let r=this._didChangeTextDocumentFeature.syncKind===oe.TextDocumentSyncKind.Full,i;r&&typeof e!="string"&&e.method===oe.DidOpenTextDocumentNotification.method&&(i=n?.textDocument.uri,this._pendingOpenNotifications.add(i));let s=await this.$start();r&&await this.sendPendingFullTextDocumentChanges(s),i!==void 0&&this._pendingOpenNotifications.delete(i);let o=this._clientOptions.middleware?.sendNotification;return o?o(e,s.sendNotification.bind(s),n):s.sendNotification(e,n)}onNotification(e,n){let r=typeof e=="string"?e:e.method;this._notificationHandlers.set(r,n);let i=this.activeConnection(),s;return i!==void 0?(this._notificationDisposables.set(r,i.onNotification(e,n)),s={dispose:()=>{let o=this._notificationDisposables.get(r);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(r))}}):(this._pendingNotificationHandlers.set(r,n),s={dispose:()=>{this._pendingNotificationHandlers.delete(r);let o=this._notificationDisposables.get(r);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(r))}}),{dispose:()=>{this._notificationHandlers.delete(r),s.dispose()}}}async sendProgress(e,n,r){if(this.$state===We.StartFailed||this.$state===We.Stopping||this.$state===We.Stopped)return Promise.reject(new oe.ResponseError(oe.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,n,r)}catch(i){throw this.error(`Sending progress for token ${n} failed.`,i),i}}onProgress(e,n,r){this._progressHandlers.set(n,{type:e,handler:r});let i=this.activeConnection(),s,o=this._clientOptions.middleware?.handleWorkDoneProgress,a=oe.WorkDoneProgress.is(e)&&o!==void 0?c=>{o(n,c,()=>r(c))}:r;return i!==void 0?(this._progressDisposables.set(n,i.onProgress(e,n,a)),s={dispose:()=>{let c=this._progressDisposables.get(n);c!==void 0&&(c.dispose(),this._progressDisposables.delete(n))}}):(this._pendingProgressHandlers.set(n,{type:e,handler:r}),s={dispose:()=>{this._pendingProgressHandlers.delete(n);let c=this._progressDisposables.get(n);c!==void 0&&(c.dispose(),this._progressDisposables.delete(n))}}),{dispose:()=>{this._progressHandlers.delete(n),s.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new mw(this,e??4)}async setTrace(e){this._trace=e;let n=this.activeConnection();n!==void 0&&await n.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof oe.ResponseError){let n=e;return`  Message: ${n.message}
  Code: ${n.code} ${n.data?`
`+n.data.toString():""}`}return e instanceof Error?ni.string(e.stack)?e.stack:e.message:ni.string(e)?e:e.toString()}debug(e,n,r=!0){this.logOutputMessage(oe.MessageType.Debug,ko.Debug,"Debug",e,n,r)}info(e,n,r=!0){this.logOutputMessage(oe.MessageType.Info,ko.Info,"Info",e,n,r)}warn(e,n,r=!0){this.logOutputMessage(oe.MessageType.Warning,ko.Warn,"Warn",e,n,r)}error(e,n,r=!0){this.logOutputMessage(oe.MessageType.Error,ko.Error,"Error",e,n,r)}logOutputMessage(e,n,r,i,s,o){this.outputChannel.appendLine(`[${r.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${i}`),s!=null&&this.outputChannel.appendLine(this.data2String(s)),(o==="force"||o&&this._clientOptions.revealOutputChannelOn<=n)&&this.showNotificationMessage(e,i)}showNotificationMessage(e,n){n=n??"A request has failed. See the output for more information.",(e===oe.MessageType.Error?pt.window.showErrorMessage:e===oe.MessageType.Warning?pt.window.showWarningMessage:pt.window.showInformationMessage)(n,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0)})}logTrace(e,n){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),n&&this.traceOutputChannel.appendLine(this.data2String(n))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===We.Initial||this.$state===We.Stopping||this.$state===We.Stopped}needsStop(){return this.$state===We.Starting||this.$state===We.Running}activeConnection(){return this.$state===We.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===We.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===We.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,n,r]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?pt.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):pt.languages.createDiagnosticCollection());for(let[i,s]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,s);for(let[i,s]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,s);for(let[i,s]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,s);this.$state=We.Starting;try{let i=await this.createConnection();i.onNotification(oe.LogMessageNotification.type,s=>{switch(s.type){case oe.MessageType.Error:this.error(s.message,void 0,!1);break;case oe.MessageType.Warning:this.warn(s.message,void 0,!1);break;case oe.MessageType.Info:this.info(s.message,void 0,!1);break;case oe.MessageType.Debug:this.debug(s.message,void 0,!1);break;default:this.outputChannel.appendLine(s.message)}}),i.onNotification(oe.ShowMessageNotification.type,s=>{switch(s.type){case oe.MessageType.Error:pt.window.showErrorMessage(s.message);break;case oe.MessageType.Warning:pt.window.showWarningMessage(s.message);break;case oe.MessageType.Info:pt.window.showInformationMessage(s.message);break;default:pt.window.showInformationMessage(s.message)}}),i.onRequest(oe.ShowMessageRequest.type,s=>{let o;switch(s.type){case oe.MessageType.Error:o=pt.window.showErrorMessage;break;case oe.MessageType.Warning:o=pt.window.showWarningMessage;break;case oe.MessageType.Info:o=pt.window.showInformationMessage;break;default:o=pt.window.showInformationMessage}let a=s.actions||[];return o(s.message,...a)}),i.onNotification(oe.TelemetryEventNotification.type,s=>{this._telemetryEmitter.fire(s)}),i.onRequest(oe.ShowDocumentRequest.type,async s=>{let o=async c=>{let u=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await pt.env.openExternal(u)};{let f={};return c.selection!==void 0&&(f.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?f.preserveFocus=!0:c.takeFocus===!0&&(f.preserveFocus=!1),await pt.window.showTextDocument(u,f),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(s,o):o(s)}),i.listen(),await this.initialize(i),n()}catch(i){this.$state=We.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),r(i)}return this._onStart}createOnStartPromise(){let e,n;return[new Promise((i,s)=>{e=i,n=s}),e,n]}async initialize(e){this.refreshTrace(e,!1);let n=this._clientOptions.initializationOptions,[r,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],s={processId:null,clientInfo:{name:pt.env.appName,version:pt.version},locale:this.getLocale(),rootPath:r||null,rootUri:r?this._c2p.asUri(pt.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:ni.func(n)?n():n,trace:oe.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(s),this._clientOptions.progressOnInitialization){let o=PO.generateUuid(),a=new O4.ProgressPart(e,o);s.workDoneToken=o;try{let c=await this.doInitialize(e,s);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,s)}async doInitialize(e,n){try{let r=await e.initialize(n);if(r.capabilities.positionEncoding!==void 0&&r.capabilities.positionEncoding!==oe.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${r.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=r,this.$state=We.Running;let i;ni.number(r.capabilities.textDocumentSync)?r.capabilities.textDocumentSync===oe.TextDocumentSyncKind.None?i={openClose:!1,change:oe.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:r.capabilities.textDocumentSync,save:{includeText:!1}}:r.capabilities.textDocumentSync!==void 0&&r.capabilities.textDocumentSync!==null&&(i=r.capabilities.textDocumentSync),this._capabilities=Object.assign({},r.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(oe.PublishDiagnosticsNotification.type,s=>this.handleDiagnostics(s)),e.onRequest(oe.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest(oe.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest(oe.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s));for(let[s,o]of this._pendingNotificationHandlers)this._notificationDisposables.set(s,e.onNotification(s,o));this._pendingNotificationHandlers.clear();for(let[s,o]of this._pendingRequestHandlers)this._requestDisposables.set(s,e.onRequest(s,o));this._pendingRequestHandlers.clear();for(let[s,o]of this._pendingProgressHandlers)this._progressDisposables.set(s,e.onProgress(o.type,s,o.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(oe.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),r}catch(r){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(r)?this.initialize(e):this.stop():r instanceof oe.ResponseError&&r.data&&r.data.retry?pt.window.showErrorMessage(r.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(r&&r.message&&pt.window.showErrorMessage(r.message),this.error("Server initialization failed.",r),this.stop()),r}}_clientGetRootPath(){let e=pt.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,n){if(this.$state===We.Stopped||this.$state===We.Initial)return;if(this.$state===We.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let r=this.activeConnection();if(r===void 0||this.$state!==We.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=We.Stopping,this.cleanUp(e);let i=new Promise(o=>{(0,oe.RAL)().timer.setTimeout(o,n)}),s=(async o=>(await o.shutdown(),await o.exit(),o))(r);return this._onStop=Promise.race([i,s]).then(o=>{if(o!==void 0)o.end(),o.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},o=>{throw this.error("Stopping server failed",o,!1),o}).finally(()=>{this.$state=We.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let n=this._listeners.splice(0,this._listeners.length);for(let r of n)r.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let r of Array.from(this._features.entries()).map(i=>i[1]).reverse())r.clear();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let n=this;async function r(s){return n._fileEvents.push(s),n._fileEventDelayer.trigger(async()=>{await n.sendNotification(oe.DidChangeWatchedFilesNotification.type,{changes:n._fileEvents}),n._fileEvents=[]})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,r):r(e)).catch(s=>{n.error("Notify file events failed.",s)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let n=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(n.length===0)return;for(let r of n){let i=this.code2ProtocolConverter.asChangeTextDocumentParams(r);await e.sendNotification(oe.DidChangeTextDocumentNotification.type,i),this._didChangeTextDocumentFeature.notificationSent(r,oe.DidChangeTextDocumentNotification.type,i)}}catch(n){throw this.error("Sending pending changes failed",n,!1),n}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}handleDiagnostics(e){if(!this._diagnostics)return;let n=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===n&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,oe.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[n,r]=e.value;this._diagnosticQueue.delete(n);let i=new pt.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:n,tokenSource:i},this._p2c.asDiagnostics(r,i.token).then(s=>{if(!i.token.isCancellationRequested){let o=this._p2c.asUri(n),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(o,s,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(o,s)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,n){this._diagnostics&&this._diagnostics.set(e,n)}getLocale(){return pt.env.language}async $start(){if(this.$state===We.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,s,o)=>{this.handleConnectionError(i,s,o).catch(a=>this.error("Handling connection error failed",a))},n=()=>{this.handleConnectionClosed().catch(i=>this.error("Handling connection close failed",i))},r=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=fG(r.reader,r.writer,e,n,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===We.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:Rs.DoNotRestart};if(this.$state!==We.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===Rs.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp("stop"),this.$state===We.Starting?this.$state=We.StartFailed:this.$state=We.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===Rs.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=We.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(n=>this.error("Restarting server failed",n,"force")))}async handleConnectionError(e,n,r){let i=await this._clientOptions.errorHandler.error(e,n,r);i.action===ol.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,i.handled===!0?!1:"force"),this.stop().catch(s=>{this.error("Stopping server failed",s,!1)})):this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,i.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(pt.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,n=!1){let r=pt.workspace.getConfiguration(this._id),i=oe.Trace.Off,s=oe.TraceFormat.Text;if(r){let o=r.get("trace.server","off");typeof o=="string"?i=oe.Trace.fromString(o):(i=oe.Trace.fromString(r.get("trace.server.verbosity","off")),s=oe.TraceFormat.fromString(r.get("trace.server.format","text")))}this._trace=i,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:n,traceFormat:this._traceFormat}).catch(o=>{this.error("Updating trace failed with error",o,!1)})}hookFileEvents(e){let n=this._clientOptions.synchronize.fileEvents;if(!n)return;let r;ni.array(n)?r=n:r=[n],r&&this._dynamicFeatures.get(oe.DidChangeWatchedFilesNotification.type.method).registerRaw(PO.generateUuid(),r)}registerFeatures(e){for(let n of e)this.registerFeature(n)}registerFeature(e){if(this._features.push(e),ti.DynamicFeature.is(e)){let n=e.registrationType;this._dynamicFeatures.set(n.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let n=this.getFeature(oe.NotebookDocumentSyncRegistrationType.method);return n===void 0||!(n instanceof RO.NotebookDocumentSyncFeature)?!1:n.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new AO.ConfigurationFeature(this)),this.registerFeature(new Va.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new Va.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new Va.WillSaveFeature(this)),this.registerFeature(new Va.WillSaveWaitUntilFeature(this)),this.registerFeature(new Va.DidSaveTextDocumentFeature(this)),this.registerFeature(new Va.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new X4.FileSystemWatcherFeature(this,n=>this.notifyFileEvent(n))),this.registerFeature(new M4.CompletionItemFeature(this)),this.registerFeature(new U4.HoverFeature(this)),this.registerFeature(new j4.SignatureHelpFeature(this)),this.registerFeature(new q4.DefinitionFeature(this)),this.registerFeature(new $4.ReferencesFeature(this)),this.registerFeature(new B4.DocumentHighlightFeature(this)),this.registerFeature(new W4.DocumentSymbolFeature(this)),this.registerFeature(new K4.WorkspaceSymbolFeature(this)),this.registerFeature(new V4.CodeActionFeature(this)),this.registerFeature(new H4.CodeLensFeature(this)),this.registerFeature(new hw.DocumentFormattingFeature(this)),this.registerFeature(new hw.DocumentRangeFormattingFeature(this)),this.registerFeature(new hw.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new z4.RenameFeature(this)),this.registerFeature(new G4.DocumentLinkFeature(this)),this.registerFeature(new J4.ExecuteCommandFeature(this)),this.registerFeature(new AO.SyncConfigurationFeature(this)),this.registerFeature(new Z4.TypeDefinitionFeature(this)),this.registerFeature(new Q4.ImplementationFeature(this)),this.registerFeature(new Y4.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new eG.WorkspaceFoldersFeature(this)),this.registerFeature(new tG.FoldingRangeFeature(this)),this.registerFeature(new nG.DeclarationFeature(this)),this.registerFeature(new rG.SelectionRangeFeature(this)),this.registerFeature(new iG.ProgressFeature(this)),this.registerFeature(new sG.CallHierarchyFeature(this)),this.registerFeature(new oG.SemanticTokensFeature(this)),this.registerFeature(new aG.LinkedEditingFeature(this)),this.registerFeature(new Ha.DidCreateFilesFeature(this)),this.registerFeature(new Ha.DidRenameFilesFeature(this)),this.registerFeature(new Ha.DidDeleteFilesFeature(this)),this.registerFeature(new Ha.WillCreateFilesFeature(this)),this.registerFeature(new Ha.WillRenameFilesFeature(this)),this.registerFeature(new Ha.WillDeleteFilesFeature(this)),this.registerFeature(new cG.TypeHierarchyFeature(this)),this.registerFeature(new uG.InlineValueFeature(this)),this.registerFeature(new lG.InlayHintsFeature(this)),this.registerFeature(new L4.DiagnosticFeature(this)),this.registerFeature(new RO.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(Cw.createAll(this))}fillInitializeParams(e){for(let n of this._features)ni.func(n.fillInitializeParams)&&n.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,ti.ensure)(e,"workspace").applyEdit=!0;let n=(0,ti.ensure)((0,ti.ensure)(e,"workspace"),"workspaceEdit");n.documentChanges=!0,n.resourceOperations=[oe.ResourceOperationKind.Create,oe.ResourceOperationKind.Rename,oe.ResourceOperationKind.Delete],n.failureHandling=oe.FailureHandlingKind.TextOnlyTransactional,n.normalizesLineEndings=!0,n.changeAnnotationSupport={groupsOnLabel:!0};let r=(0,ti.ensure)((0,ti.ensure)(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[oe.DiagnosticTag.Unnecessary,oe.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;let i=(0,ti.ensure)(e,"window"),s=(0,ti.ensure)(i,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let o=(0,ti.ensure)(i,"showDocument");o.support=!0;let a=(0,ti.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(t.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let n=this._clientOptions.documentSelector;for(let r of this._features)ni.func(r.preInitialize)&&r.preInitialize(this._capabilities,n);for(let r of this._features)r.initialize(this._capabilities,n)}async handleRegistrationRequest(e){let n=this.clientOptions.middleware?.handleRegisterCapability;return n?n(e,r=>this.doRegisterCapability(r)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let n of e.registrations)this._ignoredRegistrations.add(n.id);return}for(let n of e.registrations){let r=this._dynamicFeatures.get(n.method);if(r===void 0)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Registration failed.`));let i=n.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let s={id:n.id,registerOptions:i};try{r.register(s)}catch(o){return Promise.reject(o)}}}async handleUnregistrationRequest(e){let n=this.clientOptions.middleware?.handleUnregisterCapability;return n?n(e,r=>this.doUnregisterCapability(r)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let n of e.unregisterations){if(this._ignoredRegistrations.has(n.id))continue;let r=this._dynamicFeatures.get(n.method);if(!r)return Promise.reject(new Error(`No feature implementation for ${n.method} found. Unregistration failed.`));r.unregister(n.id)}}async handleApplyWorkspaceEdit(e){let n=e.edit,r=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(n)),i=new Map;pt.workspace.textDocuments.forEach(o=>i.set(o.uri.toString(),o));let s=!1;if(n.documentChanges){for(let o of n.documentChanges)if(oe.TextDocumentEdit.is(o)&&o.textDocument.version&&o.textDocument.version>=0){let a=this._p2c.asUri(o.textDocument.uri).toString(),c=i.get(a);if(c&&c.version!==o.textDocument.version){s=!0;break}}}return s?Promise.resolve({applied:!1}):ni.asPromise(pt.workspace.applyEdit(r).then(o=>({applied:o})))}handleFailedRequest(e,n,r,i,s=!0){if(r instanceof oe.ResponseError){if(r.code===oe.ErrorCodes.PendingResponseRejected||r.code===oe.ErrorCodes.ConnectionInactive)return i;if(r.code===oe.LSPErrorCodes.RequestCancelled||r.code===oe.LSPErrorCodes.ServerCancelled){if(n!==void 0&&n.isCancellationRequested)return i;throw r.data!==void 0?new ti.LSPCancellationError(r.data):new pt.CancellationError}else if(r.code===oe.LSPErrorCodes.ContentModified){if(t.RequestsToCancelOnContentModified.has(e.method)||t.CancellableResolveCalls.has(e.method))throw new pt.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,r,s),r}};pn.BaseLanguageClient=al;al.RequestsToCancelOnContentModified=new Set([oe.SemanticTokensRequest.method,oe.SemanticTokensRangeRequest.method,oe.SemanticTokensDeltaRequest.method]);al.CancellableResolveCalls=new Set([oe.CompletionResolveRequest.method,oe.CodeLensResolveRequest.method,oe.CodeActionResolveRequest.method,oe.InlayHintResolveRequest.method,oe.DocumentLinkResolveRequest.method,oe.WorkspaceSymbolResolveRequest.method]);var yw=class{error(e){(0,oe.RAL)().console.error(e)}warn(e){(0,oe.RAL)().console.warn(e)}info(e){(0,oe.RAL)().console.info(e)}log(e){(0,oe.RAL)().console.log(e)}};function fG(t,e,n,r,i){let s=new yw,o=(0,oe.createProtocolConnection)(t,e,s,i);return o.onError(c=>{n(c[0],c[1],c[2])}),o.onClose(r),{listen:()=>o.listen(),sendRequest:o.sendRequest,onRequest:o.onRequest,hasPendingResponse:o.hasPendingResponse,sendNotification:o.sendNotification,onNotification:o.onNotification,onProgress:o.onProgress,sendProgress:o.sendProgress,trace:(c,u,f)=>{let g={sendNotification:!1,traceFormat:oe.TraceFormat.Text};return f===void 0?o.trace(c,u,g):(ni.boolean(f),o.trace(c,u,f))},initialize:c=>o.sendRequest(oe.InitializeRequest.type,c),shutdown:()=>o.sendRequest(oe.ShutdownRequest.type,void 0),exit:()=>o.sendNotification(oe.ExitNotification.type),end:()=>o.end(),dispose:()=>o.dispose()}}var Cw;(function(t){function e(n){return[new dG.InlineCompletionItemFeature(n)]}t.createAll=e})(Cw||(pn.ProposedFeatures=Cw={}))});var OO=P(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.terminate=void 0;var NO=require("child_process"),pG=require("path"),hG=process.platform==="win32",gG=process.platform==="darwin",mG=process.platform==="linux";function yG(t,e){if(hG)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),NO.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],i),!0}catch{return!1}else if(mG||gG)try{var n=(0,pG.join)(__dirname,"terminateProcess.sh"),r=NO.spawnSync(n,[t.pid.toString()]);return!r.error}catch{return!1}else return t.kill("SIGKILL"),!0}dh.terminate=yG});var Sw=P((Xie,LO)=>{"use strict";LO.exports=Ie()});var cl=P((Yie,MO)=>{"use strict";var CG=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};MO.exports=CG});var fh=P((Qie,UO)=>{"use strict";var vG="2.0.0",SG=Number.MAX_SAFE_INTEGER||9007199254740991,bG=16,DG=250,wG=["major","premajor","minor","preminor","patch","prepatch","prerelease"];UO.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:bG,MAX_SAFE_BUILD_LENGTH:DG,MAX_SAFE_INTEGER:SG,RELEASE_TYPES:wG,SEMVER_SPEC_VERSION:vG,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ph=P((ki,qO)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:bw,MAX_SAFE_BUILD_LENGTH:TG,MAX_LENGTH:xG}=fh(),EG=cl();ki=qO.exports={};var kG=ki.re=[],FG=ki.safeRe=[],fe=ki.src=[],PG=ki.safeSrc=[],pe=ki.t={},RG=0,Dw="[a-zA-Z0-9-]",AG=[["\\s",1],["\\d",xG],[Dw,TG]],IG=t=>{for(let[e,n]of AG)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},Le=(t,e,n)=>{let r=IG(e),i=RG++;EG(t,i,e),pe[t]=i,fe[i]=e,PG[i]=r,kG[i]=new RegExp(e,n?"g":void 0),FG[i]=new RegExp(r,n?"g":void 0)};Le("NUMERICIDENTIFIER","0|[1-9]\\d*");Le("NUMERICIDENTIFIERLOOSE","\\d+");Le("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Dw}*`);Le("MAINVERSION",`(${fe[pe.NUMERICIDENTIFIER]})\\.(${fe[pe.NUMERICIDENTIFIER]})\\.(${fe[pe.NUMERICIDENTIFIER]})`);Le("MAINVERSIONLOOSE",`(${fe[pe.NUMERICIDENTIFIERLOOSE]})\\.(${fe[pe.NUMERICIDENTIFIERLOOSE]})\\.(${fe[pe.NUMERICIDENTIFIERLOOSE]})`);Le("PRERELEASEIDENTIFIER",`(?:${fe[pe.NONNUMERICIDENTIFIER]}|${fe[pe.NUMERICIDENTIFIER]})`);Le("PRERELEASEIDENTIFIERLOOSE",`(?:${fe[pe.NONNUMERICIDENTIFIER]}|${fe[pe.NUMERICIDENTIFIERLOOSE]})`);Le("PRERELEASE",`(?:-(${fe[pe.PRERELEASEIDENTIFIER]}(?:\\.${fe[pe.PRERELEASEIDENTIFIER]})*))`);Le("PRERELEASELOOSE",`(?:-?(${fe[pe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${fe[pe.PRERELEASEIDENTIFIERLOOSE]})*))`);Le("BUILDIDENTIFIER",`${Dw}+`);Le("BUILD",`(?:\\+(${fe[pe.BUILDIDENTIFIER]}(?:\\.${fe[pe.BUILDIDENTIFIER]})*))`);Le("FULLPLAIN",`v?${fe[pe.MAINVERSION]}${fe[pe.PRERELEASE]}?${fe[pe.BUILD]}?`);Le("FULL",`^${fe[pe.FULLPLAIN]}$`);Le("LOOSEPLAIN",`[v=\\s]*${fe[pe.MAINVERSIONLOOSE]}${fe[pe.PRERELEASELOOSE]}?${fe[pe.BUILD]}?`);Le("LOOSE",`^${fe[pe.LOOSEPLAIN]}$`);Le("GTLT","((?:<|>)?=?)");Le("XRANGEIDENTIFIERLOOSE",`${fe[pe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Le("XRANGEIDENTIFIER",`${fe[pe.NUMERICIDENTIFIER]}|x|X|\\*`);Le("XRANGEPLAIN",`[v=\\s]*(${fe[pe.XRANGEIDENTIFIER]})(?:\\.(${fe[pe.XRANGEIDENTIFIER]})(?:\\.(${fe[pe.XRANGEIDENTIFIER]})(?:${fe[pe.PRERELEASE]})?${fe[pe.BUILD]}?)?)?`);Le("XRANGEPLAINLOOSE",`[v=\\s]*(${fe[pe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[pe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[pe.XRANGEIDENTIFIERLOOSE]})(?:${fe[pe.PRERELEASELOOSE]})?${fe[pe.BUILD]}?)?)?`);Le("XRANGE",`^${fe[pe.GTLT]}\\s*${fe[pe.XRANGEPLAIN]}$`);Le("XRANGELOOSE",`^${fe[pe.GTLT]}\\s*${fe[pe.XRANGEPLAINLOOSE]}$`);Le("COERCEPLAIN",`(^|[^\\d])(\\d{1,${bw}})(?:\\.(\\d{1,${bw}}))?(?:\\.(\\d{1,${bw}}))?`);Le("COERCE",`${fe[pe.COERCEPLAIN]}(?:$|[^\\d])`);Le("COERCEFULL",fe[pe.COERCEPLAIN]+`(?:${fe[pe.PRERELEASE]})?(?:${fe[pe.BUILD]})?(?:$|[^\\d])`);Le("COERCERTL",fe[pe.COERCE],!0);Le("COERCERTLFULL",fe[pe.COERCEFULL],!0);Le("LONETILDE","(?:~>?)");Le("TILDETRIM",`(\\s*)${fe[pe.LONETILDE]}\\s+`,!0);ki.tildeTrimReplace="$1~";Le("TILDE",`^${fe[pe.LONETILDE]}${fe[pe.XRANGEPLAIN]}$`);Le("TILDELOOSE",`^${fe[pe.LONETILDE]}${fe[pe.XRANGEPLAINLOOSE]}$`);Le("LONECARET","(?:\\^)");Le("CARETTRIM",`(\\s*)${fe[pe.LONECARET]}\\s+`,!0);ki.caretTrimReplace="$1^";Le("CARET",`^${fe[pe.LONECARET]}${fe[pe.XRANGEPLAIN]}$`);Le("CARETLOOSE",`^${fe[pe.LONECARET]}${fe[pe.XRANGEPLAINLOOSE]}$`);Le("COMPARATORLOOSE",`^${fe[pe.GTLT]}\\s*(${fe[pe.LOOSEPLAIN]})$|^$`);Le("COMPARATOR",`^${fe[pe.GTLT]}\\s*(${fe[pe.FULLPLAIN]})$|^$`);Le("COMPARATORTRIM",`(\\s*)${fe[pe.GTLT]}\\s*(${fe[pe.LOOSEPLAIN]}|${fe[pe.XRANGEPLAIN]})`,!0);ki.comparatorTrimReplace="$1$2$3";Le("HYPHENRANGE",`^\\s*(${fe[pe.XRANGEPLAIN]})\\s+-\\s+(${fe[pe.XRANGEPLAIN]})\\s*$`);Le("HYPHENRANGELOOSE",`^\\s*(${fe[pe.XRANGEPLAINLOOSE]})\\s+-\\s+(${fe[pe.XRANGEPLAINLOOSE]})\\s*$`);Le("STAR","(<|>)?=?\\s*\\*");Le("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Le("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var hh=P((Zie,jO)=>{"use strict";var _G=Object.freeze({loose:!0}),NG=Object.freeze({}),OG=t=>t?typeof t!="object"?_G:t:NG;jO.exports=OG});var $O=P((ese,KO)=>{"use strict";var BO=/^[0-9]+$/,WO=(t,e)=>{let n=BO.test(t),r=BO.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},LG=(t,e)=>WO(e,t);KO.exports={compareIdentifiers:WO,rcompareIdentifiers:LG}});var ul=P((tse,HO)=>{"use strict";var gh=cl(),{MAX_LENGTH:VO,MAX_SAFE_INTEGER:mh}=fh(),{safeRe:yh,t:Ch}=ph(),MG=hh(),{compareIdentifiers:za}=$O(),ww=class t{constructor(e,n){if(n=MG(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>VO)throw new TypeError(`version is longer than ${VO} characters`);gh("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?yh[Ch.LOOSE]:yh[Ch.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>mh||this.major<0)throw new TypeError("Invalid major version");if(this.minor>mh||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>mh||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<mh)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(gh("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),za(this.major,e.major)||za(this.minor,e.minor)||za(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(gh("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return za(r,i)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(gh("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return za(r,i)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let i=`-${n}`.match(this.options.loose?yh[Ch.PRERELEASELOOSE]:yh[Ch.PRERELEASE]);if(!i||i[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),za(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};HO.exports=ww});var JO=P((nse,GO)=>{"use strict";var zO=ul(),UG=(t,e,n=!1)=>{if(t instanceof zO)return t;try{return new zO(t,e)}catch(r){if(!n)return null;throw r}};GO.exports=UG});var YO=P((rse,XO)=>{"use strict";var Tw=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}};XO.exports=Tw});var Fo=P((ise,ZO)=>{"use strict";var QO=ul(),qG=(t,e,n)=>new QO(t,n).compare(new QO(e,n));ZO.exports=qG});var tL=P((sse,eL)=>{"use strict";var jG=Fo(),BG=(t,e,n)=>jG(t,e,n)===0;eL.exports=BG});var rL=P((ose,nL)=>{"use strict";var WG=Fo(),KG=(t,e,n)=>WG(t,e,n)!==0;nL.exports=KG});var sL=P((ase,iL)=>{"use strict";var $G=Fo(),VG=(t,e,n)=>$G(t,e,n)>0;iL.exports=VG});var aL=P((cse,oL)=>{"use strict";var HG=Fo(),zG=(t,e,n)=>HG(t,e,n)>=0;oL.exports=zG});var uL=P((use,cL)=>{"use strict";var GG=Fo(),JG=(t,e,n)=>GG(t,e,n)<0;cL.exports=JG});var dL=P((lse,lL)=>{"use strict";var XG=Fo(),YG=(t,e,n)=>XG(t,e,n)<=0;lL.exports=YG});var pL=P((dse,fL)=>{"use strict";var QG=tL(),ZG=rL(),e6=sL(),t6=aL(),n6=uL(),r6=dL(),i6=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return QG(t,n,r);case"!=":return ZG(t,n,r);case">":return e6(t,n,r);case">=":return t6(t,n,r);case"<":return n6(t,n,r);case"<=":return r6(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};fL.exports=i6});var SL=P((fse,vL)=>{"use strict";var ll=Symbol("SemVer ANY"),kw=class t{static get ANY(){return ll}constructor(e,n){if(n=hL(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Ew("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===ll?this.value="":this.value=this.operator+this.semver.version,Ew("comp",this)}parse(e){let n=this.options.loose?gL[mL.COMPARATORLOOSE]:gL[mL.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new yL(r[2],this.options.loose):this.semver=ll}toString(){return this.value}test(e){if(Ew("Comparator.test",e,this.options.loose),this.semver===ll||e===ll)return!0;if(typeof e=="string")try{e=new yL(e,this.options)}catch{return!1}return xw(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new CL(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new CL(this.value,n).test(e.semver):(n=hL(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||xw(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||xw(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};vL.exports=kw;var hL=hh(),{safeRe:gL,t:mL}=ph(),xw=pL(),Ew=cl(),yL=ul(),CL=Fw()});var Fw=P((pse,TL)=>{"use strict";var s6=/\s+/g,Pw=class t{constructor(e,n){if(n=a6(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof Rw)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(s6," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!DL(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&h6(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&f6)|(this.options.loose&&p6))+":"+e,i=bL.get(r);if(i)return i;let s=this.options.loose,o=s?ar[Kn.HYPHENRANGELOOSE]:ar[Kn.HYPHENRANGE];e=e.replace(o,T6(this.options.includePrerelease)),Dt("hyphen replace",e),e=e.replace(ar[Kn.COMPARATORTRIM],u6),Dt("comparator trim",e),e=e.replace(ar[Kn.TILDETRIM],l6),Dt("tilde trim",e),e=e.replace(ar[Kn.CARETTRIM],d6),Dt("caret trim",e);let a=e.split(" ").map(g=>g6(g,this.options)).join(" ").split(/\s+/).map(g=>w6(g,this.options));s&&(a=a.filter(g=>(Dt("loose invalid filter",g,this.options),!!g.match(ar[Kn.COMPARATORLOOSE])))),Dt("range list",a);let c=new Map,u=a.map(g=>new Rw(g,this.options));for(let g of u){if(DL(g))return[g];c.set(g.value,g)}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return bL.set(r,f),f}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>wL(r,n)&&e.set.some(i=>wL(i,n)&&r.every(s=>i.every(o=>s.intersects(o,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new c6(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(x6(this.set[n],e,this.options))return!0;return!1}};TL.exports=Pw;var o6=YO(),bL=new o6,a6=hh(),Rw=SL(),Dt=cl(),c6=ul(),{safeRe:ar,t:Kn,comparatorTrimReplace:u6,tildeTrimReplace:l6,caretTrimReplace:d6}=ph(),{FLAG_INCLUDE_PRERELEASE:f6,FLAG_LOOSE:p6}=fh(),DL=t=>t.value==="<0.0.0-0",h6=t=>t.value==="",wL=(t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(s=>i.intersects(s,e)),i=r.pop();return n},g6=(t,e)=>(Dt("comp",t,e),t=C6(t,e),Dt("caret",t),t=m6(t,e),Dt("tildes",t),t=S6(t,e),Dt("xrange",t),t=D6(t,e),Dt("stars",t),t),$n=t=>!t||t.toLowerCase()==="x"||t==="*",m6=(t,e)=>t.trim().split(/\s+/).map(n=>y6(n,e)).join(" "),y6=(t,e)=>{let n=e.loose?ar[Kn.TILDELOOSE]:ar[Kn.TILDE];return t.replace(n,(r,i,s,o,a)=>{Dt("tilde",t,r,i,s,o,a);let c;return $n(i)?c="":$n(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:$n(o)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(Dt("replaceTilde pr",a),c=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,Dt("tilde return",c),c})},C6=(t,e)=>t.trim().split(/\s+/).map(n=>v6(n,e)).join(" "),v6=(t,e)=>{Dt("caret",t,e);let n=e.loose?ar[Kn.CARETLOOSE]:ar[Kn.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,s,o,a,c)=>{Dt("caret",t,i,s,o,a,c);let u;return $n(s)?u="":$n(o)?u=`>=${s}.0.0${r} <${+s+1}.0.0-0`:$n(a)?s==="0"?u=`>=${s}.${o}.0${r} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.0${r} <${+s+1}.0.0-0`:c?(Dt("replaceCaret pr",c),s==="0"?o==="0"?u=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`):(Dt("no pr"),s==="0"?o==="0"?u=`>=${s}.${o}.${a}${r} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}${r} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),Dt("caret return",u),u})},S6=(t,e)=>(Dt("replaceXRanges",t,e),t.split(/\s+/).map(n=>b6(n,e)).join(" ")),b6=(t,e)=>{t=t.trim();let n=e.loose?ar[Kn.XRANGELOOSE]:ar[Kn.XRANGE];return t.replace(n,(r,i,s,o,a,c)=>{Dt("xRange",t,r,i,s,o,a,c);let u=$n(s),f=u||$n(o),g=f||$n(a),p=g;return i==="="&&p&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&p?(f&&(o=0),a=0,i===">"?(i=">=",f?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",f?s=+s+1:o=+o+1),i==="<"&&(c="-0"),r=`${i+s}.${o}.${a}${c}`):f?r=`>=${s}.0.0${c} <${+s+1}.0.0-0`:g&&(r=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),Dt("xRange return",r),r})},D6=(t,e)=>(Dt("replaceStars",t,e),t.trim().replace(ar[Kn.STAR],"")),w6=(t,e)=>(Dt("replaceGTE0",t,e),t.trim().replace(ar[e.includePrerelease?Kn.GTE0PRE:Kn.GTE0],"")),T6=t=>(e,n,r,i,s,o,a,c,u,f,g,p)=>($n(r)?n="":$n(i)?n=`>=${r}.0.0${t?"-0":""}`:$n(s)?n=`>=${r}.${i}.0${t?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,$n(u)?c="":$n(f)?c=`<${+u+1}.0.0-0`:$n(g)?c=`<${u}.${+f+1}.0-0`:p?c=`<=${u}.${f}.${g}-${p}`:t?c=`<${u}.${f}.${+g+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),x6=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(Dt(t[r].semver),t[r].semver!==Rw.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var EL=P((hse,xL)=>{"use strict";var E6=Fw(),k6=(t,e,n)=>{try{e=new E6(e,n)}catch{return!1}return e.test(t)};xL.exports=k6});var FL=P(br=>{"use strict";var F6=br&&br.__createBinding||(Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]})),Aw=br&&br.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&F6(e,t,n)};Object.defineProperty(br,"__esModule",{value:!0});br.DiagnosticPullMode=br.vsdiag=void 0;Aw(Ie(),br);Aw(Qe(),br);var kL=Ub();Object.defineProperty(br,"vsdiag",{enumerable:!0,get:function(){return kL.vsdiag}});Object.defineProperty(br,"DiagnosticPullMode",{enumerable:!0,get:function(){return kL.DiagnosticPullMode}});Aw(vw(),br)});var IL=P(cr=>{"use strict";var P6=cr&&cr.__createBinding||(Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]})),AL=cr&&cr.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&P6(e,t,n)};Object.defineProperty(cr,"__esModule",{value:!0});cr.SettingMonitor=cr.LanguageClient=cr.TransportKind=void 0;var Vi=require("child_process"),Iw=require("fs"),_w=require("path"),Is=require("vscode"),Rt=Nr(),PL=vw(),R6=OO(),Mt=Sw(),A6=JO(),I6=EL();AL(Sw(),cr);AL(FL(),cr);var RL="^1.82.0",Ut;(function(t){t[t.stdio=0]="stdio",t[t.ipc=1]="ipc",t[t.pipe=2]="pipe",t[t.socket=3]="socket"})(Ut||(cr.TransportKind=Ut={}));var As;(function(t){function e(n){let r=n;return r&&r.kind===Ut.socket&&Rt.number(r.port)}t.isSocket=e})(As||(As={}));var Nw;(function(t){function e(n){return Rt.string(n.command)}t.is=e})(Nw||(Nw={}));var Ow;(function(t){function e(n){return Rt.string(n.module)}t.is=e})(Ow||(Ow={}));var Lw;(function(t){function e(n){let r=n;return r&&r.writer!==void 0&&r.reader!==void 0}t.is=e})(Lw||(Lw={}));var Mw;(function(t){function e(n){let r=n;return r&&r.process!==void 0&&typeof r.detached=="boolean"}t.is=e})(Mw||(Mw={}));var Uw=class extends PL.BaseLanguageClient{constructor(e,n,r,i,s){let o,a,c,u,f;Rt.string(n)?(o=e,a=n,c=r,u=i,f=!!s):(o=e.toLowerCase(),a=e,c=n,u=r,f=i),f===void 0&&(f=!1),super(o,a,u),this._serverOptions=c,this._forceDebug=f,this._isInDebugMode=f;try{this.checkVersion()}catch(g){throw Rt.string(g.message)&&this.outputChannel.appendLine(g.message),g}}checkVersion(){let e=A6(Is.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${Is.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!I6(e,RL))throw new Error(`The language client requires VS Code version ${RL} but received version ${Is.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,R6.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function n(f,g){if(!f&&!g)return;let p=Object.create(null);return Object.keys(process.env).forEach(l=>p[l]=process.env[l]),g&&(p.ELECTRON_RUN_AS_NODE="1",p.ELECTRON_NO_ASAR="1"),f&&Object.keys(f).forEach(l=>p[l]=f[l]),p}let r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function s(){let f=process.execArgv;return f?f.some(g=>r.some(p=>g.startsWith(p))||i.some(p=>g===p)):!1}function o(f){if(f.stdin===null||f.stdout===null||f.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(Rt.func(a))return a().then(f=>{if(PL.MessageTransports.is(f))return this._isDetached=!!f.detached,f;if(Lw.is(f))return this._isDetached=!!f.detached,{reader:new Mt.StreamMessageReader(f.reader),writer:new Mt.StreamMessageWriter(f.writer)};{let g;return Mw.is(f)?(g=f.process,this._isDetached=f.detached):(g=f,this._isDetached=!1),g.stderr.on("data",p=>this.outputChannel.append(Rt.string(p)?p:p.toString(e))),{reader:new Mt.StreamMessageReader(g.stdout),writer:new Mt.StreamMessageWriter(g.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||s()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(f=>{if(Ow.is(c)&&c.module){let g=c,p=g.transport||Ut.stdio;if(g.runtime){let l=[],d=g.options??Object.create(null);d.execArgv&&d.execArgv.forEach(D=>l.push(D)),l.push(g.module),g.args&&g.args.forEach(D=>l.push(D));let h=Object.create(null);h.cwd=f,h.env=n(d.env,!1);let m=this._getRuntimePath(g.runtime,f),C;if(p===Ut.ipc?(h.stdio=[null,null,null,"ipc"],l.push("--node-ipc")):p===Ut.stdio?l.push("--stdio"):p===Ut.pipe?(C=(0,Mt.generateRandomPipeName)(),l.push(`--pipe=${C}`)):As.isSocket(p)&&l.push(`--socket=${p.port}`),l.push(`--clientProcessId=${process.pid.toString()}`),p===Ut.ipc||p===Ut.stdio){let D=Vi.spawn(m,l,h);return!D||!D.pid?Ga(D,`Launching server using runtime ${m} failed.`):(this._serverProcess=D,D.stderr.on("data",T=>this.outputChannel.append(Rt.string(T)?T:T.toString(e))),p===Ut.ipc?(D.stdout.on("data",T=>this.outputChannel.append(Rt.string(T)?T:T.toString(e))),Promise.resolve({reader:new Mt.IPCMessageReader(D),writer:new Mt.IPCMessageWriter(D)})):Promise.resolve({reader:new Mt.StreamMessageReader(D.stdout),writer:new Mt.StreamMessageWriter(D.stdin)}))}else{if(p===Ut.pipe)return(0,Mt.createClientPipeTransport)(C).then(D=>{let T=Vi.spawn(m,l,h);return!T||!T.pid?Ga(T,`Launching server using runtime ${m} failed.`):(this._serverProcess=T,T.stderr.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),T.stdout.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),D.onConnected().then(k=>({reader:k[0],writer:k[1]})))});if(As.isSocket(p))return(0,Mt.createClientSocketTransport)(p.port).then(D=>{let T=Vi.spawn(m,l,h);return!T||!T.pid?Ga(T,`Launching server using runtime ${m} failed.`):(this._serverProcess=T,T.stderr.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),T.stdout.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),D.onConnected().then(k=>({reader:k[0],writer:k[1]})))})}}else{let l;return new Promise((d,h)=>{let m=(g.args&&g.args.slice())??[];p===Ut.ipc?m.push("--node-ipc"):p===Ut.stdio?m.push("--stdio"):p===Ut.pipe?(l=(0,Mt.generateRandomPipeName)(),m.push(`--pipe=${l}`)):As.isSocket(p)&&m.push(`--socket=${p.port}`),m.push(`--clientProcessId=${process.pid.toString()}`);let C=g.options??Object.create(null);if(C.env=n(C.env,!0),C.execArgv=C.execArgv||[],C.cwd=f,C.silent=!0,p===Ut.ipc||p===Ut.stdio){let D=Vi.fork(g.module,m||[],C);o(D),this._serverProcess=D,D.stderr.on("data",T=>this.outputChannel.append(Rt.string(T)?T:T.toString(e))),p===Ut.ipc?(D.stdout.on("data",T=>this.outputChannel.append(Rt.string(T)?T:T.toString(e))),d({reader:new Mt.IPCMessageReader(this._serverProcess),writer:new Mt.IPCMessageWriter(this._serverProcess)})):d({reader:new Mt.StreamMessageReader(D.stdout),writer:new Mt.StreamMessageWriter(D.stdin)})}else p===Ut.pipe?(0,Mt.createClientPipeTransport)(l).then(D=>{let T=Vi.fork(g.module,m||[],C);o(T),this._serverProcess=T,T.stderr.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),T.stdout.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),D.onConnected().then(k=>{d({reader:k[0],writer:k[1]})},h)},h):As.isSocket(p)&&(0,Mt.createClientSocketTransport)(p.port).then(D=>{let T=Vi.fork(g.module,m||[],C);o(T),this._serverProcess=T,T.stderr.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),T.stdout.on("data",k=>this.outputChannel.append(Rt.string(k)?k:k.toString(e))),D.onConnected().then(k=>{d({reader:k[0],writer:k[1]})},h)},h)})}}else if(Nw.is(c)&&c.command){let g=c,p=c.args!==void 0?c.args.slice(0):[],l,d=c.transport;if(d===Ut.stdio)p.push("--stdio");else if(d===Ut.pipe)l=(0,Mt.generateRandomPipeName)(),p.push(`--pipe=${l}`);else if(As.isSocket(d))p.push(`--socket=${d.port}`);else if(d===Ut.ipc)throw new Error("Transport kind ipc is not support for command executable");let h=Object.assign({},g.options);if(h.cwd=h.cwd||f,d===void 0||d===Ut.stdio){let m=Vi.spawn(g.command,p,h);return!m||!m.pid?Ga(m,`Launching server using command ${g.command} failed.`):(m.stderr.on("data",C=>this.outputChannel.append(Rt.string(C)?C:C.toString(e))),this._serverProcess=m,this._isDetached=!!h.detached,Promise.resolve({reader:new Mt.StreamMessageReader(m.stdout),writer:new Mt.StreamMessageWriter(m.stdin)}))}else{if(d===Ut.pipe)return(0,Mt.createClientPipeTransport)(l).then(m=>{let C=Vi.spawn(g.command,p,h);return!C||!C.pid?Ga(C,`Launching server using command ${g.command} failed.`):(this._serverProcess=C,this._isDetached=!!h.detached,C.stderr.on("data",D=>this.outputChannel.append(Rt.string(D)?D:D.toString(e))),C.stdout.on("data",D=>this.outputChannel.append(Rt.string(D)?D:D.toString(e))),m.onConnected().then(D=>({reader:D[0],writer:D[1]})))});if(As.isSocket(d))return(0,Mt.createClientSocketTransport)(d.port).then(m=>{let C=Vi.spawn(g.command,p,h);return!C||!C.pid?Ga(C,`Launching server using command ${g.command} failed.`):(this._serverProcess=C,this._isDetached=!!h.detached,C.stderr.on("data",D=>this.outputChannel.append(Rt.string(D)?D:D.toString(e))),C.stdout.on("data",D=>this.outputChannel.append(Rt.string(D)?D:D.toString(e))),m.onConnected().then(D=>({reader:D[0],writer:D[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(f,g)=>{f!==null&&this.error(`Server process exited with code ${f}.`,void 0,!1),g!==null&&this.error(`Server process exited with signal ${g}.`,void 0,!1)})})}_getRuntimePath(e,n){if(_w.isAbsolute(e))return e;let r=this._mainGetRootPath();if(r!==void 0){let i=_w.join(r,e);if(Iw.existsSync(i))return i}if(n!==void 0){let i=_w.join(n,e);if(Iw.existsSync(i))return i}return e}_mainGetRootPath(){let e=Is.workspace.workspaceFolders;if(!e||e.length===0)return;let n=e[0];if(n.uri.scheme==="file")return n.uri.fsPath}_getServerWorkingDir(e){let n=e&&e.cwd;return n||(n=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),n?new Promise(r=>{Iw.lstat(n,(i,s)=>{r(!i&&s.isDirectory()?n:void 0)})}):Promise.resolve(void 0)}};cr.LanguageClient=Uw;var qw=class{constructor(e,n){this._client=e,this._setting=n,this._listeners=[]}start(){return Is.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new Is.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),n=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,i=r?Is.workspace.getConfiguration(n).get(r,!1):Is.workspace.getConfiguration(n);i&&this._client.needsStart()?this._client.start().catch(s=>this._client.error("Start failed after configuration change",s,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(s=>this._client.error("Stop failed after configuration change",s,"force"))}};cr.SettingMonitor=qw;function Ga(t,e){return t===null?Promise.reject(e):new Promise((n,r)=>{t.on("error",i=>{r(`${e} ${i}`)}),setImmediate(()=>r(e))})}});var vh=P((yse,_L)=>{"use strict";_L.exports=IL()});var BU=P((mpe,jU)=>{"use strict";jU.exports=function(t){return typeof t=="string"?qU(t):Cx(t)};function Cx(t){return!t||typeof t!="object"||KX(t)||$X(t)?t:WX(t)?zX(t,Cx):GX(HX(t),function(e,n){var r=qU(n);return e[r]=Cx(t[n]),e},{})}function qU(t){return t.replace(/[_.-](\w|$)/g,function(e,n){return n.toUpperCase()})}var WX=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},KX=function(t){return Object.prototype.toString.call(t)==="[object Date]"},$X=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},VX=Object.prototype.hasOwnProperty,HX=Object.keys||function(t){var e=[];for(var n in t)VX.call(t,n)&&e.push(n);return e};function zX(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}function GX(t,e,n){if(t.reduce)return t.reduce(e,n);for(var r=0;r<t.length;r++)n=e(n,t[r],r);return n}});var wq=P((che,Ix)=>{"use strict";var JY=(function(){function t(e,n){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),c;!(i=(c=a.next()).done)&&(r.push(c.value),!(n&&r.length===n));i=!0);}catch(u){s=!0,o=u}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),Ng="[\x1B\x9B][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]",Dq="\0-\b\v-\x1B\x9B\xAD\u200B\u2028\u2029\uFEFF\uFE00-\uFE0F",Ax=`
`+Dq,XY=new RegExp("(?:"+Ng+")|["+Dq+"]","g"),Px=new RegExp("(?:"+Ng+")|["+Ax+"]","g"),Rx=new RegExp("((?:"+Ng+")|[	"+Ax+"])?([^	"+Ax+"]*)","g");Ix.exports={zeroWidthCharacters:Px,ansiEscapeCodes:new RegExp(Ng,"g"),strlen:t=>Array.from(t.replace(Px,"")).length,isBlank:t=>t.replace(Px,"").replace(/\s/g,"").length===0,blank:t=>Array.from(t.replace(XY,"")).map(e=>e==="	"||e===`
`?e:" ").join(""),partition(t){for(var e,n=[];Rx.lastIndex!==t.length&&(e=Rx.exec(t));)n.push([e[1]||"",e[2]]);return Rx.lastIndex=0,n},first(t,e){let n="",r=0;for(let s of Ix.exports.partition(t)){var i=JY(s,2);let o=i[0],a=i[1],c=Array.from(a).slice(0,e-r);n+=o+c.join(""),r+=c.length}return n}}});var Fq=P((uhe,kq)=>{"use strict";function pc(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var Og=Object,xq=wq(),YY=xq.first,Lg=xq.strlen,QY=(t,e)=>YY(t,e-1)+"\u2026",Tq=(t,e)=>{let n=(d,h)=>d.reduce((m,C)=>C.map((D,T)=>[].concat(pc(m[T]||[]),[D])),[]).map(m=>h.apply(void 0,pc(m))),r=t.map(d=>d.map(h=>h.replace(/\n/g,"\\n"))),i=r.map(d=>d.map(Lg)),s=n(i,Math.max),o=Og.assign({delimiter:"  ",minColumnWidths:s.map(d=>0),maxTotalWidth:0},e),a=Lg(o.delimiter),c=s.reduce((d,h)=>d+h,0),u=s.map(d=>d/c),f=o.maxTotalWidth-a*(s.length-1),g=Math.max(0,c-f),p=n([o.minColumnWidths,s,u],(d,h,m)=>Math.max(d,Math.floor(h-g*m))),l=i.map(d=>n([p,d],(h,m)=>h-m));return n([r,l],(d,h)=>n([d,h],(m,C)=>C>=0?o.right?" ".repeat(C)+m:m+" ".repeat(C):QY(m,Lg(m)+C)).join(o.delimiter))},Eq=t=>Og.assign(e=>{var n;if(e[0]&&Array.isArray(e[0]))return Tq(e.map(o=>o.map((a,c)=>a===void 0?"":t.print(a,c))),t).join(`
`);let r=[].concat(pc(new Set((n=[]).concat.apply(n,pc(e.map(Og.keys)))))),i=[r.map(t.title)].concat(pc(e.map(o=>r.map(a=>o[a]===void 0?"":t.print(o[a],a))))),s=Tq(i,t);return(t.dash?[s[0],t.dash.repeat(Lg(s[0]))].concat(pc(s.slice(1))):s).join(`
`)},t,{configure:e=>Eq(Og.assign({},t,e))});kq.exports=Eq({maxTotalWidth:Number.MAX_SAFE_INTEGER,print:String,title:String,dash:"-",right:!1})});var n2=P((tge,t2)=>{"use strict";t2.exports=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}});var M2={};mm(M2,{__addDisposableResource:()=>N2,__assign:()=>jg,__asyncDelegator:()=>E2,__asyncGenerator:()=>x2,__asyncValues:()=>k2,__await:()=>gc,__awaiter:()=>v2,__classPrivateFieldGet:()=>A2,__classPrivateFieldIn:()=>_2,__classPrivateFieldSet:()=>I2,__createBinding:()=>Wg,__decorate:()=>f2,__disposeResources:()=>O2,__esDecorate:()=>h2,__exportStar:()=>b2,__extends:()=>l2,__generator:()=>S2,__importDefault:()=>R2,__importStar:()=>P2,__makeTemplateObject:()=>F2,__metadata:()=>C2,__param:()=>p2,__propKey:()=>m2,__read:()=>t0,__rest:()=>d2,__rewriteRelativeImportExtension:()=>L2,__runInitializers:()=>g2,__setFunctionName:()=>y2,__spread:()=>D2,__spreadArray:()=>T2,__spreadArrays:()=>w2,__values:()=>Bg,default:()=>zQ});function l2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Zx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function d2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function f2(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function p2(t,e){return function(n,r){e(n,r,t)}}function h2(t,e,n,r,i,s){function o(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),g,p=!1,l=n.length-1;l>=0;l--){var d={};for(var h in r)d[h]=h==="access"?{}:r[h];for(var h in r.access)d.access[h]=r.access[h];d.addInitializer=function(C){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(C||null))};var m=(0,n[l])(a==="accessor"?{get:f.get,set:f.set}:f[c],d);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(g=o(m.get))&&(f.get=g),(g=o(m.set))&&(f.set=g),(g=o(m.init))&&i.unshift(g)}else(g=o(m))&&(a==="field"?i.unshift(g):f[c]=g)}u&&Object.defineProperty(u,r.name,f),p=!0}function g2(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function m2(t){return typeof t=="symbol"?t:"".concat(t)}function y2(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function C2(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function v2(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(g){o(g)}}function c(f){try{u(r.throw(f))}catch(g){o(g)}}function u(f){f.done?s(f.value):i(f.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function S2(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return c([u,f])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(f){u=[6,f],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function b2(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Wg(e,t,n)}function Bg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function t0(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function D2(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(t0(arguments[e]));return t}function w2(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function T2(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function gc(t){return this instanceof gc?(this.v=t,this):new gc(t)}function x2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(l){return function(d){return Promise.resolve(d).then(l,g)}}function a(l,d){r[l]&&(i[l]=function(h){return new Promise(function(m,C){s.push([l,h,m,C])>1||c(l,h)})},d&&(i[l]=d(i[l])))}function c(l,d){try{u(r[l](d))}catch(h){p(s[0][3],h)}}function u(l){l.value instanceof gc?Promise.resolve(l.value.v).then(f,g):p(s[0][2],l)}function f(l){c("next",l)}function g(l){c("throw",l)}function p(l,d){l(d),s.shift(),s.length&&c(s[0][0],s[0][1])}}function E2(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:gc(t[i](o)),done:!1}:s?s(o):o}:s}}function k2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Bg=="function"?Bg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function F2(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function P2(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=e0(t),r=0;r<n.length;r++)n[r]!=="default"&&Wg(e,t,n[r]);return VQ(e,t),e}function R2(t){return t&&t.__esModule?t:{default:t}}function A2(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function I2(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function _2(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function N2(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}function O2(t){function e(s){t.error=t.hasError?new HQ(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function L2(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,o){return r?e?".jsx":".js":i&&(!s||!o)?n:i+s+"."+o.toLowerCase()+"js"}):t}var Zx,jg,Wg,VQ,e0,HQ,zQ,U2=Nj(()=>{Zx=function(t,e){return Zx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Zx(t,e)};jg=function(){return jg=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jg.apply(this,arguments)};Wg=Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]});VQ=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},e0=function(t){return e0=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},e0(t)};HQ=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};zQ={__extends:l2,__assign:jg,__rest:d2,__decorate:f2,__param:p2,__esDecorate:h2,__runInitializers:g2,__propKey:m2,__setFunctionName:y2,__metadata:C2,__awaiter:v2,__generator:S2,__createBinding:Wg,__exportStar:b2,__values:Bg,__read:t0,__spread:D2,__spreadArrays:w2,__spreadArray:T2,__await:gc,__asyncGenerator:x2,__asyncDelegator:E2,__asyncValues:k2,__makeTemplateObject:F2,__importStar:P2,__importDefault:R2,__classPrivateFieldGet:A2,__classPrivateFieldSet:I2,__classPrivateFieldIn:_2,__addDisposableResource:N2,__disposeResources:O2,__rewriteRelativeImportExtension:L2}});var mc=P(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.stringArray=Nn.array=Nn.func=Nn.error=Nn.number=Nn.string=Nn.boolean=void 0;function GQ(t){return t===!0||t===!1}Nn.boolean=GQ;function q2(t){return typeof t=="string"||t instanceof String}Nn.string=q2;function JQ(t){return typeof t=="number"||t instanceof Number}Nn.number=JQ;function XQ(t){return t instanceof Error}Nn.error=XQ;function YQ(t){return typeof t=="function"}Nn.func=YQ;function j2(t){return Array.isArray(t)}Nn.array=j2;function QQ(t){return j2(t)&&t.every(e=>q2(e))}Nn.stringArray=QQ});var E0=P(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.Message=we.NotificationType9=we.NotificationType8=we.NotificationType7=we.NotificationType6=we.NotificationType5=we.NotificationType4=we.NotificationType3=we.NotificationType2=we.NotificationType1=we.NotificationType0=we.NotificationType=we.RequestType9=we.RequestType8=we.RequestType7=we.RequestType6=we.RequestType5=we.RequestType4=we.RequestType3=we.RequestType2=we.RequestType1=we.RequestType=we.RequestType0=we.AbstractMessageSignature=we.ParameterStructures=we.ResponseError=we.ErrorCodes=void 0;var Go=mc(),n0;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(n0||(we.ErrorCodes=n0={}));var r0=class t extends Error{constructor(e,n,r){super(n),this.code=Go.number(e)?e:n0.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};we.ResponseError=r0;var lr=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};we.ParameterStructures=lr;lr.auto=new lr("auto");lr.byPosition=new lr("byPosition");lr.byName=new lr("byName");var wt=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return lr.auto}};we.AbstractMessageSignature=wt;var i0=class extends wt{constructor(e){super(e,0)}};we.RequestType0=i0;var s0=class extends wt{constructor(e,n=lr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};we.RequestType=s0;var o0=class extends wt{constructor(e,n=lr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};we.RequestType1=o0;var a0=class extends wt{constructor(e){super(e,2)}};we.RequestType2=a0;var c0=class extends wt{constructor(e){super(e,3)}};we.RequestType3=c0;var u0=class extends wt{constructor(e){super(e,4)}};we.RequestType4=u0;var l0=class extends wt{constructor(e){super(e,5)}};we.RequestType5=l0;var d0=class extends wt{constructor(e){super(e,6)}};we.RequestType6=d0;var f0=class extends wt{constructor(e){super(e,7)}};we.RequestType7=f0;var p0=class extends wt{constructor(e){super(e,8)}};we.RequestType8=p0;var h0=class extends wt{constructor(e){super(e,9)}};we.RequestType9=h0;var g0=class extends wt{constructor(e,n=lr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};we.NotificationType=g0;var m0=class extends wt{constructor(e){super(e,0)}};we.NotificationType0=m0;var y0=class extends wt{constructor(e,n=lr.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};we.NotificationType1=y0;var C0=class extends wt{constructor(e){super(e,2)}};we.NotificationType2=C0;var v0=class extends wt{constructor(e){super(e,3)}};we.NotificationType3=v0;var S0=class extends wt{constructor(e){super(e,4)}};we.NotificationType4=S0;var b0=class extends wt{constructor(e){super(e,5)}};we.NotificationType5=b0;var D0=class extends wt{constructor(e){super(e,6)}};we.NotificationType6=D0;var w0=class extends wt{constructor(e){super(e,7)}};we.NotificationType7=w0;var T0=class extends wt{constructor(e){super(e,8)}};we.NotificationType8=T0;var x0=class extends wt{constructor(e){super(e,9)}};we.NotificationType9=x0;var B2;(function(t){function e(i){let s=i;return s&&Go.string(s.method)&&(Go.string(s.id)||Go.number(s.id))}t.isRequest=e;function n(i){let s=i;return s&&Go.string(s.method)&&i.id===void 0}t.isNotification=n;function r(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(Go.string(s.id)||Go.number(s.id)||s.id===null)}t.isResponse=r})(B2||(we.Message=B2={}))});var F0=P(Vs=>{"use strict";var W2;Object.defineProperty(Vs,"__esModule",{value:!0});Vs.LRUCache=Vs.LinkedMap=Vs.Touch=void 0;var On;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(On||(Vs.Touch=On={}));var Kg=class{constructor(){this[W2]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=On.None){let r=this._map.get(e);if(r)return n!==On.None&&this.touch(r,n),r.value}set(e,n,r=On.None){let i=this._map.get(e);if(i)i.value=n,r!==On.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case On.None:this.addItemLast(i);break;case On.First:this.addItemFirst(i);break;case On.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){let e=this._state,n=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(W2=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==On.First&&n!==On.Last)){if(n===On.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===On.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};Vs.LinkedMap=Kg;var k0=class extends Kg{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=On.AsNew){return super.get(e,n)}peek(e){return super.get(e,On.None)}set(e,n){return super.set(e,n,On.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Vs.LRUCache=k0});var $2=P($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.Disposable=void 0;var K2;(function(t){function e(n){return{dispose:n}}t.create=e})(K2||($g.Disposable=K2={}))});var Hs=P(A0=>{"use strict";Object.defineProperty(A0,"__esModule",{value:!0});var P0;function R0(){if(P0===void 0)throw new Error("No runtime abstraction layer installed");return P0}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");P0=n}t.install=e})(R0||(R0={}));A0.default=R0});var Cc=P(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.Emitter=yc.Event=void 0;var ZQ=Hs(),V2;(function(t){let e={dispose(){}};t.None=function(){return e}})(V2||(yc.Event=V2={}));var I0=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{n.push(r[s].apply(i[s],e))}catch(a){(0,ZQ.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Vg=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new I0),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};yc.Emitter=Vg;Vg._noop=function(){}});var Gg=P(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.CancellationTokenSource=vc.CancellationToken=void 0;var eZ=Hs(),tZ=mc(),_0=Cc(),Hg;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:_0.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:_0.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||tZ.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Hg||(vc.CancellationToken=Hg={}));var nZ=Object.freeze(function(t,e){let n=(0,eZ.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}}),zg=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?nZ:(this._emitter||(this._emitter=new _0.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},N0=class{get token(){return this._token||(this._token=new zg),this._token}cancel(){this._token?this._token.cancel():this._token=Hg.Cancelled}dispose(){this._token?this._token instanceof zg&&this._token.dispose():this._token=Hg.None}};vc.CancellationTokenSource=N0});var H2=P(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.SharedArrayReceiverStrategy=Sc.SharedArraySenderStrategy=void 0;var rZ=Gg(),Bl;(function(t){t.Continue=0,t.Cancelled=1})(Bl||(Bl={}));var O0=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=Bl.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){let r=this.buffers.get(n);if(r===void 0)return;let i=new Int32Array(r,0,1);Atomics.store(i,0,Bl.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Sc.SharedArraySenderStrategy=O0;var L0=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Bl.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},M0=class{constructor(e){this.token=new L0(e)}cancel(){}dispose(){}},U0=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let n=e.$cancellationData;return n===void 0?new rZ.CancellationTokenSource:new M0(n)}};Sc.SharedArrayReceiverStrategy=U0});var j0=P(Jg=>{"use strict";Object.defineProperty(Jg,"__esModule",{value:!0});Jg.Semaphore=void 0;var iZ=Hs(),q0=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,iZ.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Jg.Semaphore=q0});var G2=P(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.ReadableStreamMessageReader=zs.AbstractMessageReader=zs.MessageReader=void 0;var W0=Hs(),bc=mc(),B0=Cc(),sZ=j0(),z2;(function(t){function e(n){let r=n;return r&&bc.func(r.listen)&&bc.func(r.dispose)&&bc.func(r.onError)&&bc.func(r.onClose)&&bc.func(r.onPartialMessage)}t.is=e})(z2||(zs.MessageReader=z2={}));var Xg=class{constructor(){this.errorEmitter=new B0.Emitter,this.closeEmitter=new B0.Emitter,this.partialMessageEmitter=new B0.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${bc.string(e.message)?e.message:"unknown"}`)}};zs.AbstractMessageReader=Xg;var K0;(function(t){function e(n){let r,i,s,o=new Map,a,c=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(s=n.contentDecoder,o.set(s.name,s)),n.contentDecoders!==void 0)for(let u of n.contentDecoders)o.set(u.name,u);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let u of n.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,W0.default)().applicationJson.decoder,c.set(a.name,a)),{charset:r,contentDecoder:s,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:c}}t.fromOptions=e})(K0||(K0={}));var $0=class extends Xg{constructor(e,n){super(),this.readable=e,this.options=K0.fromOptions(n),this.buffer=(0,W0.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new sZ.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,W0.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};zs.ReadableStreamMessageReader=$0});var Z2=P(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.WriteableStreamMessageWriter=Gs.AbstractMessageWriter=Gs.MessageWriter=void 0;var J2=Hs(),Wl=mc(),oZ=j0(),X2=Cc(),aZ="Content-Length: ",Y2=`\r
`,Q2;(function(t){function e(n){let r=n;return r&&Wl.func(r.dispose)&&Wl.func(r.onClose)&&Wl.func(r.onError)&&Wl.func(r.write)}t.is=e})(Q2||(Gs.MessageWriter=Q2={}));var Yg=class{constructor(){this.errorEmitter=new X2.Emitter,this.closeEmitter=new X2.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Wl.string(e.message)?e.message:"unknown"}`)}};Gs.AbstractMessageWriter=Yg;var V0;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,J2.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,J2.default)().applicationJson.encoder}}t.fromOptions=e})(V0||(V0={}));var H0=class extends Yg{constructor(e,n){super(),this.writable=e,this.options=V0.fromOptions(n),this.errorCount=0,this.writeSemaphore=new oZ.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(aZ,r.byteLength.toString(),Y2),i.push(Y2),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Gs.WriteableStreamMessageWriter=H0});var ej=P(Qg=>{"use strict";Object.defineProperty(Qg,"__esModule",{value:!0});Qg.AbstractMessageBuffer=void 0;var cZ=13,uZ=10,lZ=`\r
`,z0=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,s=0;e:for(;r<this._chunks.length;){let u=this._chunks[r];for(i=0;i<u.length;){switch(u[i]){case cZ:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case uZ:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}s+=u.byteLength,r++}if(n!==4)return;let o=this._read(s+i),a=new Map,c=this.toString(o,"ascii").split(lZ);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let f=c[u],g=f.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let p=f.substr(0,g),l=f.substr(g+1).trim();a.set(e?p.toLowerCase():p,l)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};Qg.AbstractMessageBuffer=z0});var sj=P(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.createMessageConnection=Me.ConnectionOptions=Me.MessageStrategy=Me.CancellationStrategy=Me.CancellationSenderStrategy=Me.CancellationReceiverStrategy=Me.RequestCancellationReceiverStrategy=Me.IdCancellationReceiverStrategy=Me.ConnectionStrategy=Me.ConnectionError=Me.ConnectionErrors=Me.LogTraceNotification=Me.SetTraceNotification=Me.TraceFormat=Me.TraceValues=Me.Trace=Me.NullLogger=Me.ProgressType=Me.ProgressToken=void 0;var tj=Hs(),qt=mc(),Re=E0(),nj=F0(),Kl=Cc(),G0=Gg(),Hl;(function(t){t.type=new Re.NotificationType("$/cancelRequest")})(Hl||(Hl={}));var J0;(function(t){function e(n){return typeof n=="string"||typeof n=="number"}t.is=e})(J0||(Me.ProgressToken=J0={}));var $l;(function(t){t.type=new Re.NotificationType("$/progress")})($l||($l={}));var X0=class{constructor(){}};Me.ProgressType=X0;var Y0;(function(t){function e(n){return qt.func(n)}t.is=e})(Y0||(Y0={}));Me.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var lt;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(lt||(Me.Trace=lt={}));var rj;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(rj||(Me.TraceValues=rj={}));(function(t){function e(r){if(!qt.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(lt||(Me.Trace=lt={}));var Er;(function(t){t.Text="text",t.JSON="json"})(Er||(Me.TraceFormat=Er={}));(function(t){function e(n){return qt.string(n)?(n=n.toLowerCase(),n==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(Er||(Me.TraceFormat=Er={}));var Q0;(function(t){t.type=new Re.NotificationType("$/setTrace")})(Q0||(Me.SetTraceNotification=Q0={}));var Zg;(function(t){t.type=new Re.NotificationType("$/logTrace")})(Zg||(Me.LogTraceNotification=Zg={}));var Vl;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Vl||(Me.ConnectionErrors=Vl={}));var Dc=class t extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,t.prototype)}};Me.ConnectionError=Dc;var Z0;(function(t){function e(n){let r=n;return r&&qt.func(r.cancelUndispatched)}t.is=e})(Z0||(Me.ConnectionStrategy=Z0={}));var em;(function(t){function e(n){let r=n;return r&&(r.kind===void 0||r.kind==="id")&&qt.func(r.createCancellationTokenSource)&&(r.dispose===void 0||qt.func(r.dispose))}t.is=e})(em||(Me.IdCancellationReceiverStrategy=em={}));var eE;(function(t){function e(n){let r=n;return r&&r.kind==="request"&&qt.func(r.createCancellationTokenSource)&&(r.dispose===void 0||qt.func(r.dispose))}t.is=e})(eE||(Me.RequestCancellationReceiverStrategy=eE={}));var tm;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new G0.CancellationTokenSource}});function e(n){return em.is(n)||eE.is(n)}t.is=e})(tm||(Me.CancellationReceiverStrategy=tm={}));var nm;(function(t){t.Message=Object.freeze({sendCancellation(n,r){return n.sendNotification(Hl.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&qt.func(r.sendCancellation)&&qt.func(r.cleanup)}t.is=e})(nm||(Me.CancellationSenderStrategy=nm={}));var rm;(function(t){t.Message=Object.freeze({receiver:tm.Message,sender:nm.Message});function e(n){let r=n;return r&&tm.is(r.receiver)&&nm.is(r.sender)}t.is=e})(rm||(Me.CancellationStrategy=rm={}));var im;(function(t){function e(n){let r=n;return r&&qt.func(r.handleMessage)}t.is=e})(im||(Me.MessageStrategy=im={}));var ij;(function(t){function e(n){let r=n;return r&&(rm.is(r.cancellationStrategy)||Z0.is(r.connectionStrategy)||im.is(r.messageStrategy))}t.is=e})(ij||(Me.ConnectionOptions=ij={}));var li;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(li||(li={}));function dZ(t,e,n,r){let i=n!==void 0?n:Me.NullLogger,s=0,o=0,a=0,c="2.0",u,f=new Map,g,p=new Map,l=new Map,d,h=new nj.LinkedMap,m=new Map,C=new Set,D=new Map,T=lt.Off,k=Er.Text,I,B=li.New,W=new Kl.Emitter,j=new Kl.Emitter,re=new Kl.Emitter,ne=new Kl.Emitter,V=new Kl.Emitter,N=r&&r.cancellationStrategy?r.cancellationStrategy:rm.Message;function $(v){if(v===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+v.toString()}function te(v){return v===null?"res-unknown-"+(++a).toString():"res-"+v.toString()}function K(){return"not-"+(++o).toString()}function G(v,F){Re.Message.isRequest(F)?v.set($(F.id),F):Re.Message.isResponse(F)?v.set(te(F.id),F):v.set(K(),F)}function Q(v){}function ae(){return B===li.Listening}function se(){return B===li.Closed}function ie(){return B===li.Disposed}function ye(){(B===li.New||B===li.Listening)&&(B=li.Closed,j.fire(void 0))}function ve(v){W.fire([v,void 0,void 0])}function $e(v){W.fire(v)}t.onClose(ye),t.onError(ve),e.onClose(ye),e.onError($e);function ke(){d||h.size===0||(d=(0,tj.default)().timer.setImmediate(()=>{d=void 0,Tt()}))}function ht(v){Re.Message.isRequest(v)?Ln(v):Re.Message.isNotification(v)?Un(v):Re.Message.isResponse(v)?Mn(v):Gn(v)}function Tt(){if(h.size===0)return;let v=h.shift();try{let F=r?.messageStrategy;im.is(F)?F.handleMessage(v,ht):ht(v)}finally{ke()}}let zn=v=>{try{if(Re.Message.isNotification(v)&&v.method===Hl.type.method){let F=v.params.id,U=$(F),z=h.get(U);if(Re.Message.isRequest(z)){let ge=r?.connectionStrategy,Te=ge&&ge.cancelUndispatched?ge.cancelUndispatched(z,Q):void 0;if(Te&&(Te.error!==void 0||Te.result!==void 0)){h.delete(U),D.delete(F),Te.id=z.id,nn(Te,v.method,Date.now()),e.write(Te).catch(()=>i.error("Sending response for canceled message failed."));return}}let Ce=D.get(F);if(Ce!==void 0){Ce.cancel(),an(v);return}else C.add(F)}G(h,v)}finally{ke()}};function Ln(v){if(ie())return;function F(ue,Se,de){let O={jsonrpc:c,id:v.id};ue instanceof Re.ResponseError?O.error=ue.toJson():O.result=ue===void 0?null:ue,nn(O,Se,de),e.write(O).catch(()=>i.error("Sending response failed."))}function U(ue,Se,de){let O={jsonrpc:c,id:v.id,error:ue.toJson()};nn(O,Se,de),e.write(O).catch(()=>i.error("Sending response failed."))}function z(ue,Se,de){ue===void 0&&(ue=null);let O={jsonrpc:c,id:v.id,result:ue};nn(O,Se,de),e.write(O).catch(()=>i.error("Sending response failed."))}Fr(v);let Ce=f.get(v.method),ge,Te;Ce&&(ge=Ce.type,Te=Ce.handler);let xe=Date.now();if(Te||u){let ue=v.id??String(Date.now()),Se=em.is(N.receiver)?N.receiver.createCancellationTokenSource(ue):N.receiver.createCancellationTokenSource(v);v.id!==null&&C.has(v.id)&&Se.cancel(),v.id!==null&&D.set(ue,Se);try{let de;if(Te)if(v.params===void 0){if(ge!==void 0&&ge.numberOfParams!==0){U(new Re.ResponseError(Re.ErrorCodes.InvalidParams,`Request ${v.method} defines ${ge.numberOfParams} params but received none.`),v.method,xe);return}de=Te(Se.token)}else if(Array.isArray(v.params)){if(ge!==void 0&&ge.parameterStructures===Re.ParameterStructures.byName){U(new Re.ResponseError(Re.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by name but received parameters by position`),v.method,xe);return}de=Te(...v.params,Se.token)}else{if(ge!==void 0&&ge.parameterStructures===Re.ParameterStructures.byPosition){U(new Re.ResponseError(Re.ErrorCodes.InvalidParams,`Request ${v.method} defines parameters by position but received parameters by name`),v.method,xe);return}de=Te(v.params,Se.token)}else u&&(de=u(v.method,v.params,Se.token));let O=de;de?O.then?O.then(M=>{D.delete(ue),F(M,v.method,xe)},M=>{D.delete(ue),M instanceof Re.ResponseError?U(M,v.method,xe):M&&qt.string(M.message)?U(new Re.ResponseError(Re.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${M.message}`),v.method,xe):U(new Re.ResponseError(Re.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,xe)}):(D.delete(ue),F(de,v.method,xe)):(D.delete(ue),z(de,v.method,xe))}catch(de){D.delete(ue),de instanceof Re.ResponseError?F(de,v.method,xe):de&&qt.string(de.message)?U(new Re.ResponseError(Re.ErrorCodes.InternalError,`Request ${v.method} failed with message: ${de.message}`),v.method,xe):U(new Re.ResponseError(Re.ErrorCodes.InternalError,`Request ${v.method} failed unexpectedly without providing any details.`),v.method,xe)}}else U(new Re.ResponseError(Re.ErrorCodes.MethodNotFound,`Unhandled method ${v.method}`),v.method,xe)}function Mn(v){if(!ie())if(v.id===null)v.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(v.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let F=v.id,U=m.get(F);if(Jn(v,U),U!==void 0){m.delete(F);try{if(v.error){let z=v.error;U.reject(new Re.ResponseError(z.code,z.message,z.data))}else if(v.result!==void 0)U.resolve(v.result);else throw new Error("Should never happen.")}catch(z){z.message?i.error(`Response handler '${U.method}' failed with message: ${z.message}`):i.error(`Response handler '${U.method}' failed unexpectedly.`)}}}}function Un(v){if(ie())return;let F,U;if(v.method===Hl.type.method){let z=v.params.id;C.delete(z),an(v);return}else{let z=p.get(v.method);z&&(U=z.handler,F=z.type)}if(U||g)try{if(an(v),U)if(v.params===void 0)F!==void 0&&F.numberOfParams!==0&&F.parameterStructures!==Re.ParameterStructures.byName&&i.error(`Notification ${v.method} defines ${F.numberOfParams} params but received none.`),U();else if(Array.isArray(v.params)){let z=v.params;v.method===$l.type.method&&z.length===2&&J0.is(z[0])?U({token:z[0],value:z[1]}):(F!==void 0&&(F.parameterStructures===Re.ParameterStructures.byName&&i.error(`Notification ${v.method} defines parameters by name but received parameters by position`),F.numberOfParams!==v.params.length&&i.error(`Notification ${v.method} defines ${F.numberOfParams} params but received ${z.length} arguments`)),U(...z))}else F!==void 0&&F.parameterStructures===Re.ParameterStructures.byPosition&&i.error(`Notification ${v.method} defines parameters by position but received parameters by name`),U(v.params);else g&&g(v.method,v.params)}catch(z){z.message?i.error(`Notification handler '${v.method}' failed with message: ${z.message}`):i.error(`Notification handler '${v.method}' failed unexpectedly.`)}else re.fire(v)}function Gn(v){if(!v){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(v,null,4)}`);let F=v;if(qt.string(F.id)||qt.number(F.id)){let U=F.id,z=m.get(U);z&&z.reject(new Error("The received response has neither a result nor an error property."))}}function nt(v){if(v!=null)switch(T){case lt.Verbose:return JSON.stringify(v,null,4);case lt.Compact:return JSON.stringify(v);default:return}}function dr(v){if(!(T===lt.Off||!I))if(k===Er.Text){let F;(T===lt.Verbose||T===lt.Compact)&&v.params&&(F=`Params: ${nt(v.params)}

`),I.log(`Sending request '${v.method} - (${v.id})'.`,F)}else dt("send-request",v)}function qn(v){if(!(T===lt.Off||!I))if(k===Er.Text){let F;(T===lt.Verbose||T===lt.Compact)&&(v.params?F=`Params: ${nt(v.params)}

`:F=`No parameters provided.

`),I.log(`Sending notification '${v.method}'.`,F)}else dt("send-notification",v)}function nn(v,F,U){if(!(T===lt.Off||!I))if(k===Er.Text){let z;(T===lt.Verbose||T===lt.Compact)&&(v.error&&v.error.data?z=`Error data: ${nt(v.error.data)}

`:v.result?z=`Result: ${nt(v.result)}

`:v.error===void 0&&(z=`No result returned.

`)),I.log(`Sending response '${F} - (${v.id})'. Processing request took ${Date.now()-U}ms`,z)}else dt("send-response",v)}function Fr(v){if(!(T===lt.Off||!I))if(k===Er.Text){let F;(T===lt.Verbose||T===lt.Compact)&&v.params&&(F=`Params: ${nt(v.params)}

`),I.log(`Received request '${v.method} - (${v.id})'.`,F)}else dt("receive-request",v)}function an(v){if(!(T===lt.Off||!I||v.method===Zg.type.method))if(k===Er.Text){let F;(T===lt.Verbose||T===lt.Compact)&&(v.params?F=`Params: ${nt(v.params)}

`:F=`No parameters provided.

`),I.log(`Received notification '${v.method}'.`,F)}else dt("receive-notification",v)}function Jn(v,F){if(!(T===lt.Off||!I))if(k===Er.Text){let U;if((T===lt.Verbose||T===lt.Compact)&&(v.error&&v.error.data?U=`Error data: ${nt(v.error.data)}

`:v.result?U=`Result: ${nt(v.result)}

`:v.error===void 0&&(U=`No result returned.

`)),F){let z=v.error?` Request failed: ${v.error.message} (${v.error.code}).`:"";I.log(`Received response '${F.method} - (${v.id})' in ${Date.now()-F.timerStart}ms.${z}`,U)}else I.log(`Received response ${v.id} without active response promise.`,U)}else dt("receive-response",v)}function dt(v,F){if(!I||T===lt.Off)return;let U={isLSPMessage:!0,type:v,message:F,timestamp:Date.now()};I.log(U)}function xt(){if(se())throw new Dc(Vl.Closed,"Connection is closed.");if(ie())throw new Dc(Vl.Disposed,"Connection is disposed.")}function Vt(){if(ae())throw new Dc(Vl.AlreadyListening,"Connection is already listening")}function gn(){if(!ae())throw new Error("Call listen() first.")}function jt(v){return v===void 0?null:v}function jn(v){if(v!==null)return v}function Xn(v){return v!=null&&!Array.isArray(v)&&typeof v=="object"}function mn(v,F){switch(v){case Re.ParameterStructures.auto:return Xn(F)?jn(F):[jt(F)];case Re.ParameterStructures.byName:if(!Xn(F))throw new Error("Received parameters by name but param is not an object literal.");return jn(F);case Re.ParameterStructures.byPosition:return[jt(F)];default:throw new Error(`Unknown parameter structure ${v.toString()}`)}}function Yn(v,F){let U,z=v.numberOfParams;switch(z){case 0:U=void 0;break;case 1:U=mn(v.parameterStructures,F[0]);break;default:U=[];for(let Ce=0;Ce<F.length&&Ce<z;Ce++)U.push(jt(F[Ce]));if(F.length<z)for(let Ce=F.length;Ce<z;Ce++)U.push(null);break}return U}let Et={sendNotification:(v,...F)=>{xt();let U,z;if(qt.string(v)){U=v;let ge=F[0],Te=0,xe=Re.ParameterStructures.auto;Re.ParameterStructures.is(ge)&&(Te=1,xe=ge);let ue=F.length,Se=ue-Te;switch(Se){case 0:z=void 0;break;case 1:z=mn(xe,F[Te]);break;default:if(xe===Re.ParameterStructures.byName)throw new Error(`Received ${Se} parameters for 'by Name' notification parameter structure.`);z=F.slice(Te,ue).map(de=>jt(de));break}}else{let ge=F;U=v.method,z=Yn(v,ge)}let Ce={jsonrpc:c,method:U,params:z};return qn(Ce),e.write(Ce).catch(ge=>{throw i.error("Sending notification failed."),ge})},onNotification:(v,F)=>{xt();let U;return qt.func(v)?g=v:F&&(qt.string(v)?(U=v,p.set(v,{type:void 0,handler:F})):(U=v.method,p.set(v.method,{type:v,handler:F}))),{dispose:()=>{U!==void 0?p.delete(U):g=void 0}}},onProgress:(v,F,U)=>{if(l.has(F))throw new Error(`Progress handler for token ${F} already registered`);return l.set(F,U),{dispose:()=>{l.delete(F)}}},sendProgress:(v,F,U)=>Et.sendNotification($l.type,{token:F,value:U}),onUnhandledProgress:ne.event,sendRequest:(v,...F)=>{xt(),gn();let U,z,Ce;if(qt.string(v)){U=v;let ue=F[0],Se=F[F.length-1],de=0,O=Re.ParameterStructures.auto;Re.ParameterStructures.is(ue)&&(de=1,O=ue);let M=F.length;G0.CancellationToken.is(Se)&&(M=M-1,Ce=Se);let Y=M-de;switch(Y){case 0:z=void 0;break;case 1:z=mn(O,F[de]);break;default:if(O===Re.ParameterStructures.byName)throw new Error(`Received ${Y} parameters for 'by Name' request parameter structure.`);z=F.slice(de,M).map(Ee=>jt(Ee));break}}else{let ue=F;U=v.method,z=Yn(v,ue);let Se=v.numberOfParams;Ce=G0.CancellationToken.is(ue[Se])?ue[Se]:void 0}let ge=s++,Te;Ce&&(Te=Ce.onCancellationRequested(()=>{let ue=N.sender.sendCancellation(Et,ge);return ue===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ge}`),Promise.resolve()):ue.catch(()=>{i.log(`Sending cancellation messages for id ${ge} failed`)})}));let xe={jsonrpc:c,id:ge,method:U,params:z};return dr(xe),typeof N.sender.enableCancellation=="function"&&N.sender.enableCancellation(xe),new Promise(async(ue,Se)=>{let de=Y=>{ue(Y),N.sender.cleanup(ge),Te?.dispose()},O=Y=>{Se(Y),N.sender.cleanup(ge),Te?.dispose()},M={method:U,timerStart:Date.now(),resolve:de,reject:O};try{m.set(ge,M),await e.write(xe)}catch(Y){throw m.delete(ge),M.reject(new Re.ResponseError(Re.ErrorCodes.MessageWriteError,Y.message?Y.message:"Unknown reason")),i.error("Sending request failed."),Y}})},onRequest:(v,F)=>{xt();let U=null;return Y0.is(v)?(U=void 0,u=v):qt.string(v)?(U=null,F!==void 0&&(U=v,f.set(v,{handler:F,type:void 0}))):F!==void 0&&(U=v.method,f.set(v.method,{type:v,handler:F})),{dispose:()=>{U!==null&&(U!==void 0?f.delete(U):u=void 0)}}},hasPendingResponse:()=>m.size>0,trace:async(v,F,U)=>{let z=!1,Ce=Er.Text;U!==void 0&&(qt.boolean(U)?z=U:(z=U.sendNotification||!1,Ce=U.traceFormat||Er.Text)),T=v,k=Ce,T===lt.Off?I=void 0:I=F,z&&!se()&&!ie()&&await Et.sendNotification(Q0.type,{value:lt.toString(v)})},onError:W.event,onClose:j.event,onUnhandledNotification:re.event,onDispose:V.event,end:()=>{e.end()},dispose:()=>{if(ie())return;B=li.Disposed,V.fire(void 0);let v=new Re.ResponseError(Re.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let F of m.values())F.reject(v);m=new Map,D=new Map,C=new Set,h=new nj.LinkedMap,qt.func(e.dispose)&&e.dispose(),qt.func(t.dispose)&&t.dispose()},listen:()=>{xt(),Vt(),B=li.Listening,t.listen(zn)},inspect:()=>{(0,tj.default)().console.log("inspect")}};return Et.onNotification(Zg.type,v=>{if(T===lt.Off||!I)return;let F=T===lt.Verbose||T===lt.Compact;I.log(v.message,F?v.verbose:void 0)}),Et.onNotification($l.type,v=>{let F=l.get(v.token);F?F(v.value):ne.fire(v)}),Et}Me.createMessageConnection=dZ});var sm=P(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.ProgressType=X.ProgressToken=X.createMessageConnection=X.NullLogger=X.ConnectionOptions=X.ConnectionStrategy=X.AbstractMessageBuffer=X.WriteableStreamMessageWriter=X.AbstractMessageWriter=X.MessageWriter=X.ReadableStreamMessageReader=X.AbstractMessageReader=X.MessageReader=X.SharedArrayReceiverStrategy=X.SharedArraySenderStrategy=X.CancellationToken=X.CancellationTokenSource=X.Emitter=X.Event=X.Disposable=X.LRUCache=X.Touch=X.LinkedMap=X.ParameterStructures=X.NotificationType9=X.NotificationType8=X.NotificationType7=X.NotificationType6=X.NotificationType5=X.NotificationType4=X.NotificationType3=X.NotificationType2=X.NotificationType1=X.NotificationType0=X.NotificationType=X.ErrorCodes=X.ResponseError=X.RequestType9=X.RequestType8=X.RequestType7=X.RequestType6=X.RequestType5=X.RequestType4=X.RequestType3=X.RequestType2=X.RequestType1=X.RequestType0=X.RequestType=X.Message=X.RAL=void 0;X.MessageStrategy=X.CancellationStrategy=X.CancellationSenderStrategy=X.CancellationReceiverStrategy=X.ConnectionError=X.ConnectionErrors=X.LogTraceNotification=X.SetTraceNotification=X.TraceFormat=X.TraceValues=X.Trace=void 0;var St=E0();Object.defineProperty(X,"Message",{enumerable:!0,get:function(){return St.Message}});Object.defineProperty(X,"RequestType",{enumerable:!0,get:function(){return St.RequestType}});Object.defineProperty(X,"RequestType0",{enumerable:!0,get:function(){return St.RequestType0}});Object.defineProperty(X,"RequestType1",{enumerable:!0,get:function(){return St.RequestType1}});Object.defineProperty(X,"RequestType2",{enumerable:!0,get:function(){return St.RequestType2}});Object.defineProperty(X,"RequestType3",{enumerable:!0,get:function(){return St.RequestType3}});Object.defineProperty(X,"RequestType4",{enumerable:!0,get:function(){return St.RequestType4}});Object.defineProperty(X,"RequestType5",{enumerable:!0,get:function(){return St.RequestType5}});Object.defineProperty(X,"RequestType6",{enumerable:!0,get:function(){return St.RequestType6}});Object.defineProperty(X,"RequestType7",{enumerable:!0,get:function(){return St.RequestType7}});Object.defineProperty(X,"RequestType8",{enumerable:!0,get:function(){return St.RequestType8}});Object.defineProperty(X,"RequestType9",{enumerable:!0,get:function(){return St.RequestType9}});Object.defineProperty(X,"ResponseError",{enumerable:!0,get:function(){return St.ResponseError}});Object.defineProperty(X,"ErrorCodes",{enumerable:!0,get:function(){return St.ErrorCodes}});Object.defineProperty(X,"NotificationType",{enumerable:!0,get:function(){return St.NotificationType}});Object.defineProperty(X,"NotificationType0",{enumerable:!0,get:function(){return St.NotificationType0}});Object.defineProperty(X,"NotificationType1",{enumerable:!0,get:function(){return St.NotificationType1}});Object.defineProperty(X,"NotificationType2",{enumerable:!0,get:function(){return St.NotificationType2}});Object.defineProperty(X,"NotificationType3",{enumerable:!0,get:function(){return St.NotificationType3}});Object.defineProperty(X,"NotificationType4",{enumerable:!0,get:function(){return St.NotificationType4}});Object.defineProperty(X,"NotificationType5",{enumerable:!0,get:function(){return St.NotificationType5}});Object.defineProperty(X,"NotificationType6",{enumerable:!0,get:function(){return St.NotificationType6}});Object.defineProperty(X,"NotificationType7",{enumerable:!0,get:function(){return St.NotificationType7}});Object.defineProperty(X,"NotificationType8",{enumerable:!0,get:function(){return St.NotificationType8}});Object.defineProperty(X,"NotificationType9",{enumerable:!0,get:function(){return St.NotificationType9}});Object.defineProperty(X,"ParameterStructures",{enumerable:!0,get:function(){return St.ParameterStructures}});var tE=F0();Object.defineProperty(X,"LinkedMap",{enumerable:!0,get:function(){return tE.LinkedMap}});Object.defineProperty(X,"LRUCache",{enumerable:!0,get:function(){return tE.LRUCache}});Object.defineProperty(X,"Touch",{enumerable:!0,get:function(){return tE.Touch}});var fZ=$2();Object.defineProperty(X,"Disposable",{enumerable:!0,get:function(){return fZ.Disposable}});var oj=Cc();Object.defineProperty(X,"Event",{enumerable:!0,get:function(){return oj.Event}});Object.defineProperty(X,"Emitter",{enumerable:!0,get:function(){return oj.Emitter}});var aj=Gg();Object.defineProperty(X,"CancellationTokenSource",{enumerable:!0,get:function(){return aj.CancellationTokenSource}});Object.defineProperty(X,"CancellationToken",{enumerable:!0,get:function(){return aj.CancellationToken}});var cj=H2();Object.defineProperty(X,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return cj.SharedArraySenderStrategy}});Object.defineProperty(X,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return cj.SharedArrayReceiverStrategy}});var nE=G2();Object.defineProperty(X,"MessageReader",{enumerable:!0,get:function(){return nE.MessageReader}});Object.defineProperty(X,"AbstractMessageReader",{enumerable:!0,get:function(){return nE.AbstractMessageReader}});Object.defineProperty(X,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return nE.ReadableStreamMessageReader}});var rE=Z2();Object.defineProperty(X,"MessageWriter",{enumerable:!0,get:function(){return rE.MessageWriter}});Object.defineProperty(X,"AbstractMessageWriter",{enumerable:!0,get:function(){return rE.AbstractMessageWriter}});Object.defineProperty(X,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return rE.WriteableStreamMessageWriter}});var pZ=ej();Object.defineProperty(X,"AbstractMessageBuffer",{enumerable:!0,get:function(){return pZ.AbstractMessageBuffer}});var bn=sj();Object.defineProperty(X,"ConnectionStrategy",{enumerable:!0,get:function(){return bn.ConnectionStrategy}});Object.defineProperty(X,"ConnectionOptions",{enumerable:!0,get:function(){return bn.ConnectionOptions}});Object.defineProperty(X,"NullLogger",{enumerable:!0,get:function(){return bn.NullLogger}});Object.defineProperty(X,"createMessageConnection",{enumerable:!0,get:function(){return bn.createMessageConnection}});Object.defineProperty(X,"ProgressToken",{enumerable:!0,get:function(){return bn.ProgressToken}});Object.defineProperty(X,"ProgressType",{enumerable:!0,get:function(){return bn.ProgressType}});Object.defineProperty(X,"Trace",{enumerable:!0,get:function(){return bn.Trace}});Object.defineProperty(X,"TraceValues",{enumerable:!0,get:function(){return bn.TraceValues}});Object.defineProperty(X,"TraceFormat",{enumerable:!0,get:function(){return bn.TraceFormat}});Object.defineProperty(X,"SetTraceNotification",{enumerable:!0,get:function(){return bn.SetTraceNotification}});Object.defineProperty(X,"LogTraceNotification",{enumerable:!0,get:function(){return bn.LogTraceNotification}});Object.defineProperty(X,"ConnectionErrors",{enumerable:!0,get:function(){return bn.ConnectionErrors}});Object.defineProperty(X,"ConnectionError",{enumerable:!0,get:function(){return bn.ConnectionError}});Object.defineProperty(X,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return bn.CancellationReceiverStrategy}});Object.defineProperty(X,"CancellationSenderStrategy",{enumerable:!0,get:function(){return bn.CancellationSenderStrategy}});Object.defineProperty(X,"CancellationStrategy",{enumerable:!0,get:function(){return bn.CancellationStrategy}});Object.defineProperty(X,"MessageStrategy",{enumerable:!0,get:function(){return bn.MessageStrategy}});var hZ=Hs();X.RAL=hZ.default});var dj=P(aE=>{"use strict";Object.defineProperty(aE,"__esModule",{value:!0});var uj=require("util"),Yi=sm(),om=class t extends Yi.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new uj.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};om.emptyBuffer=Buffer.allocUnsafe(0);var iE=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Yi.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Yi.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Yi.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Yi.Disposable.create(()=>this.stream.off("data",e))}},sE=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Yi.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Yi.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Yi.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=o=>{o==null?r():i(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},lj=Object.freeze({messageBuffer:Object.freeze({create:t=>new om(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new uj.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new iE(t),asWritableStream:t=>new sE(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){let r=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(t,...e){let n=setImmediate(t,...e);return{dispose:()=>clearImmediate(n)}},setInterval(t,e,...n){let r=setInterval(t,e,...n);return{dispose:()=>clearInterval(r)}}})});function oE(){return lj}(function(t){function e(){Yi.RAL.install(lj)}t.install=e})(oE||(oE={}));aE.default=oE});var hj=P(Je=>{"use strict";var gZ=Je&&Je.__createBinding||(Object.create?(function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}):(function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]})),mZ=Je&&Je.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&gZ(e,t,n)};Object.defineProperty(Je,"__esModule",{value:!0});Je.createMessageConnection=Je.createServerSocketTransport=Je.createClientSocketTransport=Je.createServerPipeTransport=Je.createClientPipeTransport=Je.generateRandomPipeName=Je.StreamMessageWriter=Je.StreamMessageReader=Je.SocketMessageWriter=Je.SocketMessageReader=Je.PortMessageWriter=Je.PortMessageReader=Je.IPCMessageWriter=Je.IPCMessageReader=void 0;var wc=dj();wc.default.install();var fj=require("path"),yZ=require("os"),CZ=require("crypto"),um=require("net"),kr=sm();mZ(sm(),Je);var cE=class extends kr.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),kr.Disposable.create(()=>this.process.off("message",e))}};Je.IPCMessageReader=cE;var uE=class extends kr.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Je.IPCMessageWriter=uE;var lE=class extends kr.AbstractMessageReader{constructor(e){super(),this.onData=new kr.Emitter,e.on("close",()=>this.fireClose),e.on("error",n=>this.fireError(n)),e.on("message",n=>{this.onData.fire(n)})}listen(e){return this.onData.event(e)}};Je.PortMessageReader=lE;var dE=class extends kr.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",n=>this.fireError(n))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};Je.PortMessageWriter=dE;var Jo=class extends kr.ReadableStreamMessageReader{constructor(e,n="utf-8"){super((0,wc.default)().stream.asReadableStream(e),n)}};Je.SocketMessageReader=Jo;var Xo=class extends kr.WriteableStreamMessageWriter{constructor(e,n){super((0,wc.default)().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Je.SocketMessageWriter=Xo;var am=class extends kr.ReadableStreamMessageReader{constructor(e,n){super((0,wc.default)().stream.asReadableStream(e),n)}};Je.StreamMessageReader=am;var cm=class extends kr.WriteableStreamMessageWriter{constructor(e,n){super((0,wc.default)().stream.asWritableStream(e),n)}};Je.StreamMessageWriter=cm;var pj=process.env.XDG_RUNTIME_DIR,vZ=new Map([["linux",107],["darwin",103]]);function SZ(){let t=(0,CZ.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;pj?e=fj.join(pj,`vscode-ipc-${t}.sock`):e=fj.join(yZ.tmpdir(),`vscode-${t}.sock`);let n=vZ.get(process.platform);return n!==void 0&&e.length>n&&(0,wc.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}Je.generateRandomPipeName=SZ;function bZ(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=(0,um.createServer)(a=>{o.close(),n([new Jo(a,e),new Xo(a,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}Je.createClientPipeTransport=bZ;function DZ(t,e="utf-8"){let n=(0,um.createConnection)(t);return[new Jo(n,e),new Xo(n,e)]}Je.createServerPipeTransport=DZ;function wZ(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=(0,um.createServer)(a=>{o.close(),n([new Jo(a,e),new Xo(a,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}Je.createClientSocketTransport=wZ;function TZ(t,e="utf-8"){let n=(0,um.createConnection)(t,"127.0.0.1");return[new Jo(n,e),new Xo(n,e)]}Je.createServerSocketTransport=TZ;function xZ(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function EZ(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function kZ(t,e,n,r){n||(n=kr.NullLogger);let i=xZ(t)?new am(t):t,s=EZ(e)?new cm(e):e;return kr.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,kr.createMessageConnection)(i,s,n,r)}Je.createMessageConnection=kZ});var mj=P((Wge,gj)=>{"use strict";gj.exports=hj()});var yj=P(fE=>{"use strict";Object.defineProperty(fE,"__esModule",{value:!0});var FZ=(U2(),wE(M2));FZ.__exportStar(mj(),fE)});var OZ={};mm(OZ,{activate:()=>AZ});module.exports=wE(OZ);function Xs(t,e,n){let r=t.get(e);if(r!==void 0||t.has(e))return r;let i=n(e);return t.set(e,i),i}var Zl=class{map=new Map;get(e,n){return n?Xs(this.map,e,n):this.map.get(e)}has(e){return this.map.has(e)}set(e,n){return this.map.set(e,n),this}delete(e){return this.map.delete(e)}clear(){this.map.clear()}dispose(){this.clear()}};function ym(){return new Zl}var Cm={string:!0,undefined:!0},Oj={number:!0,undefined:!0};function TE(t){return!t||typeof t!="object"?!1:typeof t.code=="string"}function xE(t){if(!t||typeof t!="object")return!1;let e=t;return typeof e.name=="string"&&typeof e.message=="string"&&typeof e.errno in Oj&&typeof e.code in Cm&&typeof e.path in Cm&&typeof e.stack in Cm}function Ys(t){return new vm(t)}var vm=class{name;#e=new Set;#t=!1;constructor(e){this.name=e}event=e=>{Lj(!this.#t,"EventEmitter is disposed");let r={fn:e};return this.#e.add(r),{dispose:()=>{this.#e.delete(r)}}};fire=e=>{for(let n of this.#e)try{n.fn(e)}catch{}};dispose=()=>{this.#t=!0,this.#e.clear()};get isDisposed(){return this.#t}numListeners(){return this.#e.size}};function Lj(t,e="assertion failed"){if(!t)throw new Error(e)}function EE(t,e){let n,r=0,i;return s=>o=>{let a=n??=Ys(),c=a.event(o);return i??=s(u=>t(u,a.fire)),++r,{dispose(){if(r&&(--r,c.dispose(),!r))try{e?.dispose(),n?.dispose(),i?.dispose()}finally{n=void 0,i=void 0}}}}}var Sm=Symbol("not set");function bm(t){let e=Sm,n;function r(){e=Sm,n=void 0}return EE((i,s)=>{e=i,clearTimeout(n),n=setTimeout(o,t);function o(){let a=e;r(),a!==Sm&&s(a)}},{dispose(){clearTimeout(n),r()}})}function Dm(t,...e){let n="event"in t?s=>t.event(s):t,r,i=()=>{if(r)return r;let s=n;for(let o of e)s=o(s);return r=s};return s=>i()(s)}function wm(t,e){let n=new Map;for(let r of t){let i=r[e],s=n.get(i)||[];s.push(r),n.set(i,s)}return n}var je;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=1]="ERROR",t[t.WARNING=2]="WARNING",t[t.INFO=3]="INFO",t[t.DEBUG=4]="DEBUG"})(je||(je={}));var Mj=[[je[je.NONE],je.NONE],[je[je.ERROR],je.ERROR],[je[je.WARNING],je.WARNING],[je[je.INFO],je.INFO],[je[je.DEBUG],je.DEBUG],["INFORMATION",je.INFO]],Uj=new Map(Mj),Ii=()=>{},ed=class{logLevel;_connection;seq=0;logs=[];loggers={[je.NONE]:Ii,[je.ERROR]:Ii,[je.WARNING]:Ii,[je.INFO]:Ii,[je.DEBUG]:Ii};logTime=!0;logSequence=!0;constructor(e=je.DEBUG,n){this.logLevel=e,n&&this.setConnection(n)}writeLog(e){if(!this._connection)this.logs.push(e);else{if(e.level>this.logLevel)return;let n=this.logSequence?`${e.seq}	`:"",r=this.logTime?`${e.ts.toISOString()}	`:"",i=`${n}${r}${e.msg}`,s=this.loggers[e.level];s?s(i):console.error(`Unknown log level: ${e.level}; msg: ${e.msg}`)}}get connection(){return this._connection}logMessage(e,n){let i={seq:++this.seq,level:e,ts:new Date,msg:n};this.writeLog(i)}set level(e){this.logLevel=qj(e)}get level(){return this.logLevel}setConnection(e){this._connection=e,this._connection.onExit(()=>{this._connection=void 0,this.loggers[je.ERROR]=Ii,this.loggers[je.WARNING]=Ii,this.loggers[je.INFO]=Ii,this.loggers[je.DEBUG]=Ii}),this.loggers[je.ERROR]=n=>{e.console.error(n)},this.loggers[je.WARNING]=n=>{e.console.warn(n)},this.loggers[je.INFO]=n=>{e.console.info(n)},this.loggers[je.DEBUG]=n=>{e.console.log(n)},this.logs.forEach(n=>this.writeLog(n)),this.logs.length=0}error(e){this.logMessage(je.ERROR,e)}warn(e){this.logMessage(je.WARNING,e)}info(e){this.logMessage(je.INFO,e)}debug(e){this.logMessage(je.DEBUG,e)}log(e){this.debug(e)}getPendingEntries(){return this.logs}clearPendingEntries(){this.logs=[]}};function qj(t){let e=typeof t=="string"?Uj.get(t.toUpperCase())||je.NONE:t;return typeof e!="number"||e<je.NONE||e>je.DEBUG?je.DEBUG:e}var jj="";var pr=new ed;function xc(t,e){pr.error(Bj(t,e))}function Bj(t,e){let n=Array.isArray(e)?e:[e];return t+"	"+n.map(Wj).join(`
			`)}function Wj(t){if(!t)return"";let e=Kj(t,jj);return e?t.replace(e,"..."):t}function Kj(t,e){let n=$j(t,e);return t.slice(0,n)}function $j(t,e){let r=t.split("/"),i=e.split("/"),s=Math.min(r.length,i.length),o=0;for(;o<s&&r[o]===i[o];)++o;return r.slice(0,o).join("/").length}var PE=Ue(require("node:assert"),1),_i=Ue(require("node:path"),1),Zs=require("node:url"),Vj=/^(\w[\w-]{1,63}:\/|data:|stdin:)/i;function Hj(t,e){return Qs(t instanceof URL?t:new URL(t,e))}function zj(t){if(t=Hj(t),t.protocol==="data:")return t;let e=t.pathname.endsWith("/");if(!t.pathname.startsWith("/")){if(!t.pathname)return t;let r=t.pathname.split("/").slice(0,e?-2:-1).join("/")+"/";return new URL(t.protocol+(t.host?"//"+t.host:"")+r+t.search+t.hash)}return new URL(e?"..":".",t)}function td(t){return t instanceof URL||Vj.test(t)}function Gj(t,e){return e=e.endsWith(":")?e:e+":",typeof t=="string"?t.startsWith(e):t.protocol===e}function Jj(t){if(t.pathname.endsWith("/"))return t;let e=new URL(t.href);return e.pathname+="/",e}function Xj(t,e){let n=t.pathname,r=e.pathname;if(n===r)return"";if(n=n.endsWith("/")?n:new URL("./",t).pathname,r.startsWith(n))return decodeURIComponent(r.slice(n.length));let i=n,s=r;if(s.startsWith(i))return decodeURIComponent(i===s?"":s.slice(i.lastIndexOf("/")+1));let o=i.split("/").slice(0,-1),a=s.split("/"),c=0;for(c=0;c<o.length&&c<a.length-1&&o[c]===a[c];++c);let u="../".repeat(o.length-c)+a.slice(c).join("/");return decodeURIComponent(u.length<s.length?u:s)}var RE=/^[\\/]([a-zA-Z]:[\\/])/,Yj=/^(\/+[a-zA-Z])\$/;function Qs(t){if(t=typeof t=="string"?new URL(t):t,t.protocol==="file:"){let e=t.pathname.replaceAll("%3A",":").replaceAll("%3a",":").replaceAll("%24","$");if(t.host||(e=e.replace(Yj,"$1:")),e=e.replace(RE,n=>n.toUpperCase()),e!==t.pathname)return t=new URL(t),t.pathname=e,kE(t)}return kE(t)}function kE(t){return t.href.startsWith("file:////")?new URL(t.href.replace(/^file:\/{4}/,"file://")):t}var Ec=process.platform==="win32",Qj=/^\/[a-zA-Z]:\//;function AE(t){return Qj.test(t)}function IE(t){return Gj(t,"file:")}function Zj(t){return IE(t)&&t.toString().startsWith("file:///")?eB(t):t.toString()}function eB(t){try{if(Ec){let e=new URL(t);if(!AE(e.pathname)){let n=(0,Zs.pathToFileURL)(process.cwd());if(n.hostname)return(0,Zs.fileURLToPath)(new URL(e.pathname,n));let r=n.pathname.split("/")[1];return e.pathname=`/${r}${e.pathname}`,(0,Zs.fileURLToPath)(e)}}return NE((0,Zs.fileURLToPath)(t))}catch{return t.toString()}}var _E=/^([a-zA-Z]):[\\/]/;function NE(t){return t.replace(_E,e=>e.toUpperCase())}var tB=/^file:\/\/\/[a-zA-Z]:\//;function nB(t){return tB.test(t.toString())}var rB=_E,iB=RE,sB=/%/g,oB=/\\/g,aB=/\n/g,cB=/\r/g,uB=/\t/g,lB=/\?/g,dB=/#/g,FE="file:",fB=class{windows;path;cwd;constructor(t={}){let e=t.path?.sep;this.windows=t.windows??(e?e==="\\":void 0)??Ec,this.path=t.path??(this.windows?_i.default.win32:_i.default.posix),this.cwd=t.cwd??this.pathToFileURL(this.path.resolve()+"/",this.rootFileURL()),(0,PE.default)(this.path.sep===(this.windows?"\\":"/"),`Path separator should match OS type Windows: ${this.windows===!0?"true":(this.windows??"undefined")||"false"}, sep: ${this.path.sep}, options: `+JSON.stringify({isWindows:Ec,sep:`${e}`,windows:t.windows,pathSep:t.path?.sep,n:t.path?.normalize("path/file.txt"),cwd:t.cwd?.href,win32:this.path===_i.default.win32,posix:this.path===_i.default.posix,"win32.normalize":this.path.normalize===_i.default.win32.normalize,"posix.normalize":this.path.normalize===_i.default.posix.normalize}))}encodePathChars(t){return t=t.replaceAll(sB,"%25"),!this.windows&&!Ec&&t.includes("\\")&&(t=t.replaceAll(oB,"%5C")),t=t.replaceAll(aB,"%0A"),t=t.replaceAll(cB,"%0D"),t=t.replaceAll(uB,"%09"),t}normalizeFilePathForUrl(t){return t=this.encodePathChars(t),t=t.replaceAll(lB,"%3F"),t=t.replaceAll(dB,"%23"),t.replaceAll("\\","/").replace(rB,n=>`/${n}`.toUpperCase())}toFileURL(t,e){return Qs(this.#e(t,e))}#e(t,e){if(typeof t!="string")return t;if(td(t))return Qs(new URL(t));if(e??=this.cwd,Ec&&(t=t.replaceAll("\\","/")),this.isAbsolute(t)&&IE(e)){let i=this.normalizeFilePathForUrl(t);if(nB(e)&&!AE(i)){let s=e.toString().slice(0,10);return Qs(new URL(s+i))}return Qs(new URL("file://"+i))}if(td(e)){let i=this.normalizeFilePathForUrl(t);return Qs(new URL(i,e))}let n=t.endsWith("/")?"/":"",r=this.normalizeFilePathForUrl(this.path.resolve(e.toString(),t))+n;return Qs(new URL("file://"+r))}toFileDirURL(t,e){return Jj(this.toFileURL(t,e))}urlToFilePathOrHref(t){return t=this.toFileURL(t),this.#t(t)}#t(t){if(t.protocol!==FE||t.hostname)return t.href;let e=this.path===_i.default?Zj(t):decodeURIComponent(t.pathname.split("/").join(this.path.sep));return NE(e.replace(iB,"$1"))}relative(t,e){if(t.protocol===e.protocol&&t.protocol===FE){if(t.href===e.href)return"";t=t.pathname.endsWith("/")?t:new URL("./",t);let n=t.pathname,r=e.pathname;if(r.startsWith(n))return decodeURIComponent(r.slice(n.length));let i=this.#t(t),s=this.#t(e),o=e.pathname.endsWith("/"),a=this.normalizeFilePathForUrl(this.path.relative(i,s));return o&&!a.endsWith("/")&&(a+="/"),decodeURIComponent(a)}return decodeURIComponent(Xj(t,e))}urlDirname(t){return zj(this.toFileURL(t))}pathToFileURL(t,e){return new URL(this.normalizeFilePathForUrl(t),e||this.cwd)}rootFileURL(t){let e=this.path,n=e.parse(e.normalize(e.resolve(t??".")));return new URL(this.normalizeFilePathForUrl(n.root),this.#n())}#n(){if(this.path===_i.default)return(0,Zs.pathToFileURL)("/");let t=this.path.resolve("/");return new URL(this.normalizeFilePathForUrl(t),"file:///")}isAbsolute(t){return td(t)||this.path.isAbsolute(t)}isUrlLike(t){return td(t)}},pB=new fB;function OE(t,e){return pB.toFileURL(t,e)}var LE;(()=>{"use strict";var t={975:V=>{function N(K){if(typeof K!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(K))}function $(K,G){for(var Q,ae="",se=0,ie=-1,ye=0,ve=0;ve<=K.length;++ve){if(ve<K.length)Q=K.charCodeAt(ve);else{if(Q===47)break;Q=47}if(Q===47){if(!(ie===ve-1||ye===1))if(ie!==ve-1&&ye===2){if(ae.length<2||se!==2||ae.charCodeAt(ae.length-1)!==46||ae.charCodeAt(ae.length-2)!==46){if(ae.length>2){var $e=ae.lastIndexOf("/");if($e!==ae.length-1){$e===-1?(ae="",se=0):se=(ae=ae.slice(0,$e)).length-1-ae.lastIndexOf("/"),ie=ve,ye=0;continue}}else if(ae.length===2||ae.length===1){ae="",se=0,ie=ve,ye=0;continue}}G&&(ae.length>0?ae+="/..":ae="..",se=2)}else ae.length>0?ae+="/"+K.slice(ie+1,ve):ae=K.slice(ie+1,ve),se=ve-ie-1;ie=ve,ye=0}else Q===46&&ye!==-1?++ye:ye=-1}return ae}var te={resolve:function(){for(var K,G="",Q=!1,ae=arguments.length-1;ae>=-1&&!Q;ae--){var se;ae>=0?se=arguments[ae]:(K===void 0&&(K=process.cwd()),se=K),N(se),se.length!==0&&(G=se+"/"+G,Q=se.charCodeAt(0)===47)}return G=$(G,!Q),Q?G.length>0?"/"+G:"/":G.length>0?G:"."},normalize:function(K){if(N(K),K.length===0)return".";var G=K.charCodeAt(0)===47,Q=K.charCodeAt(K.length-1)===47;return(K=$(K,!G)).length!==0||G||(K="."),K.length>0&&Q&&(K+="/"),G?"/"+K:K},isAbsolute:function(K){return N(K),K.length>0&&K.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var K,G=0;G<arguments.length;++G){var Q=arguments[G];N(Q),Q.length>0&&(K===void 0?K=Q:K+="/"+Q)}return K===void 0?".":te.normalize(K)},relative:function(K,G){if(N(K),N(G),K===G||(K=te.resolve(K))===(G=te.resolve(G)))return"";for(var Q=1;Q<K.length&&K.charCodeAt(Q)===47;++Q);for(var ae=K.length,se=ae-Q,ie=1;ie<G.length&&G.charCodeAt(ie)===47;++ie);for(var ye=G.length-ie,ve=se<ye?se:ye,$e=-1,ke=0;ke<=ve;++ke){if(ke===ve){if(ye>ve){if(G.charCodeAt(ie+ke)===47)return G.slice(ie+ke+1);if(ke===0)return G.slice(ie+ke)}else se>ve&&(K.charCodeAt(Q+ke)===47?$e=ke:ke===0&&($e=0));break}var ht=K.charCodeAt(Q+ke);if(ht!==G.charCodeAt(ie+ke))break;ht===47&&($e=ke)}var Tt="";for(ke=Q+$e+1;ke<=ae;++ke)ke!==ae&&K.charCodeAt(ke)!==47||(Tt.length===0?Tt+="..":Tt+="/..");return Tt.length>0?Tt+G.slice(ie+$e):(ie+=$e,G.charCodeAt(ie)===47&&++ie,G.slice(ie))},_makeLong:function(K){return K},dirname:function(K){if(N(K),K.length===0)return".";for(var G=K.charCodeAt(0),Q=G===47,ae=-1,se=!0,ie=K.length-1;ie>=1;--ie)if((G=K.charCodeAt(ie))===47){if(!se){ae=ie;break}}else se=!1;return ae===-1?Q?"/":".":Q&&ae===1?"//":K.slice(0,ae)},basename:function(K,G){if(G!==void 0&&typeof G!="string")throw new TypeError('"ext" argument must be a string');N(K);var Q,ae=0,se=-1,ie=!0;if(G!==void 0&&G.length>0&&G.length<=K.length){if(G.length===K.length&&G===K)return"";var ye=G.length-1,ve=-1;for(Q=K.length-1;Q>=0;--Q){var $e=K.charCodeAt(Q);if($e===47){if(!ie){ae=Q+1;break}}else ve===-1&&(ie=!1,ve=Q+1),ye>=0&&($e===G.charCodeAt(ye)?--ye==-1&&(se=Q):(ye=-1,se=ve))}return ae===se?se=ve:se===-1&&(se=K.length),K.slice(ae,se)}for(Q=K.length-1;Q>=0;--Q)if(K.charCodeAt(Q)===47){if(!ie){ae=Q+1;break}}else se===-1&&(ie=!1,se=Q+1);return se===-1?"":K.slice(ae,se)},extname:function(K){N(K);for(var G=-1,Q=0,ae=-1,se=!0,ie=0,ye=K.length-1;ye>=0;--ye){var ve=K.charCodeAt(ye);if(ve!==47)ae===-1&&(se=!1,ae=ye+1),ve===46?G===-1?G=ye:ie!==1&&(ie=1):G!==-1&&(ie=-1);else if(!se){Q=ye+1;break}}return G===-1||ae===-1||ie===0||ie===1&&G===ae-1&&G===Q+1?"":K.slice(G,ae)},format:function(K){if(K===null||typeof K!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof K);return(function(G,Q){var ae=Q.dir||Q.root,se=Q.base||(Q.name||"")+(Q.ext||"");return ae?ae===Q.root?ae+se:ae+"/"+se:se})(0,K)},parse:function(K){N(K);var G={root:"",dir:"",base:"",ext:"",name:""};if(K.length===0)return G;var Q,ae=K.charCodeAt(0),se=ae===47;se?(G.root="/",Q=1):Q=0;for(var ie=-1,ye=0,ve=-1,$e=!0,ke=K.length-1,ht=0;ke>=Q;--ke)if((ae=K.charCodeAt(ke))!==47)ve===-1&&($e=!1,ve=ke+1),ae===46?ie===-1?ie=ke:ht!==1&&(ht=1):ie!==-1&&(ht=-1);else if(!$e){ye=ke+1;break}return ie===-1||ve===-1||ht===0||ht===1&&ie===ve-1&&ie===ye+1?ve!==-1&&(G.base=G.name=ye===0&&se?K.slice(1,ve):K.slice(ye,ve)):(ye===0&&se?(G.name=K.slice(1,ie),G.base=K.slice(1,ve)):(G.name=K.slice(ye,ie),G.base=K.slice(ye,ve)),G.ext=K.slice(ie,ve)),ye>0?G.dir=K.slice(0,ye-1):se&&(G.dir="/"),G},sep:"/",delimiter:":",win32:null,posix:null};te.posix=te,V.exports=te}},e={};function n(V){var N=e[V];if(N!==void 0)return N.exports;var $=e[V]={exports:{}};return t[V]($,$.exports,n),$.exports}n.d=(V,N)=>{for(var $ in N)n.o(N,$)&&!n.o(V,$)&&Object.defineProperty(V,$,{enumerable:!0,get:N[$]})},n.o=(V,N)=>Object.prototype.hasOwnProperty.call(V,N),n.r=V=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(V,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(V,"__esModule",{value:!0})};var r={};let i;n.r(r),n.d(r,{URI:()=>p,Utils:()=>ne}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let s=/^\w[\w\d+.-]*$/,o=/^\//,a=/^\/\//;function c(V,N){if(!V.scheme&&N)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${V.authority}", path: "${V.path}", query: "${V.query}", fragment: "${V.fragment}"}`);if(V.scheme&&!s.test(V.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(V.path){if(V.authority){if(!o.test(V.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(V.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let u="",f="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class p{static isUri(N){return N instanceof p||!!N&&typeof N.authority=="string"&&typeof N.fragment=="string"&&typeof N.path=="string"&&typeof N.query=="string"&&typeof N.scheme=="string"&&typeof N.fsPath=="string"&&typeof N.with=="function"&&typeof N.toString=="function"}scheme;authority;path;query;fragment;constructor(N,$,te,K,G,Q=!1){typeof N=="object"?(this.scheme=N.scheme||u,this.authority=N.authority||u,this.path=N.path||u,this.query=N.query||u,this.fragment=N.fragment||u):(this.scheme=(function(ae,se){return ae||se?ae:"file"})(N,Q),this.authority=$||u,this.path=(function(ae,se){switch(ae){case"https":case"http":case"file":se?se[0]!==f&&(se=f+se):se=f}return se})(this.scheme,te||u),this.query=K||u,this.fragment=G||u,c(this,Q))}get fsPath(){return D(this,!1)}with(N){if(!N)return this;let{scheme:$,authority:te,path:K,query:G,fragment:Q}=N;return $===void 0?$=this.scheme:$===null&&($=u),te===void 0?te=this.authority:te===null&&(te=u),K===void 0?K=this.path:K===null&&(K=u),G===void 0?G=this.query:G===null&&(G=u),Q===void 0?Q=this.fragment:Q===null&&(Q=u),$===this.scheme&&te===this.authority&&K===this.path&&G===this.query&&Q===this.fragment?this:new d($,te,K,G,Q)}static parse(N,$=!1){let te=g.exec(N);return te?new d(te[2]||u,B(te[4]||u),B(te[5]||u),B(te[7]||u),B(te[9]||u),$):new d(u,u,u,u,u)}static file(N){let $=u;if(i&&(N=N.replace(/\\/g,f)),N[0]===f&&N[1]===f){let te=N.indexOf(f,2);te===-1?($=N.substring(2),N=f):($=N.substring(2,te),N=N.substring(te)||f)}return new d("file",$,N,u,u)}static from(N){let $=new d(N.scheme,N.authority,N.path,N.query,N.fragment);return c($,!0),$}toString(N=!1){return T(this,N)}toJSON(){return this}static revive(N){if(N){if(N instanceof p)return N;{let $=new d(N);return $._formatted=N.external,$._fsPath=N._sep===l?N.fsPath:null,$}}return N}}let l=i?1:void 0;class d extends p{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=D(this,!1)),this._fsPath}toString(N=!1){return N?T(this,!0):(this._formatted||(this._formatted=T(this,!1)),this._formatted)}toJSON(){let N={$mid:1};return this._fsPath&&(N.fsPath=this._fsPath,N._sep=l),this._formatted&&(N.external=this._formatted),this.path&&(N.path=this.path),this.scheme&&(N.scheme=this.scheme),this.authority&&(N.authority=this.authority),this.query&&(N.query=this.query),this.fragment&&(N.fragment=this.fragment),N}}let h={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m(V,N,$){let te,K=-1;for(let G=0;G<V.length;G++){let Q=V.charCodeAt(G);if(Q>=97&&Q<=122||Q>=65&&Q<=90||Q>=48&&Q<=57||Q===45||Q===46||Q===95||Q===126||N&&Q===47||$&&Q===91||$&&Q===93||$&&Q===58)K!==-1&&(te+=encodeURIComponent(V.substring(K,G)),K=-1),te!==void 0&&(te+=V.charAt(G));else{te===void 0&&(te=V.substr(0,G));let ae=h[Q];ae!==void 0?(K!==-1&&(te+=encodeURIComponent(V.substring(K,G)),K=-1),te+=ae):K===-1&&(K=G)}}return K!==-1&&(te+=encodeURIComponent(V.substring(K))),te!==void 0?te:V}function C(V){let N;for(let $=0;$<V.length;$++){let te=V.charCodeAt($);te===35||te===63?(N===void 0&&(N=V.substr(0,$)),N+=h[te]):N!==void 0&&(N+=V[$])}return N!==void 0?N:V}function D(V,N){let $;return $=V.authority&&V.path.length>1&&V.scheme==="file"?`//${V.authority}${V.path}`:V.path.charCodeAt(0)===47&&(V.path.charCodeAt(1)>=65&&V.path.charCodeAt(1)<=90||V.path.charCodeAt(1)>=97&&V.path.charCodeAt(1)<=122)&&V.path.charCodeAt(2)===58?N?V.path.substr(1):V.path[1].toLowerCase()+V.path.substr(2):V.path,i&&($=$.replace(/\//g,"\\")),$}function T(V,N){let $=N?C:m,te="",{scheme:K,authority:G,path:Q,query:ae,fragment:se}=V;if(K&&(te+=K,te+=":"),(G||K==="file")&&(te+=f,te+=f),G){let ie=G.indexOf("@");if(ie!==-1){let ye=G.substr(0,ie);G=G.substr(ie+1),ie=ye.lastIndexOf(":"),ie===-1?te+=$(ye,!1,!1):(te+=$(ye.substr(0,ie),!1,!1),te+=":",te+=$(ye.substr(ie+1),!1,!0)),te+="@"}G=G.toLowerCase(),ie=G.lastIndexOf(":"),ie===-1?te+=$(G,!1,!0):(te+=$(G.substr(0,ie),!1,!0),te+=G.substr(ie))}if(Q){if(Q.length>=3&&Q.charCodeAt(0)===47&&Q.charCodeAt(2)===58){let ie=Q.charCodeAt(1);ie>=65&&ie<=90&&(Q=`/${String.fromCharCode(ie+32)}:${Q.substr(3)}`)}else if(Q.length>=2&&Q.charCodeAt(1)===58){let ie=Q.charCodeAt(0);ie>=65&&ie<=90&&(Q=`${String.fromCharCode(ie+32)}:${Q.substr(2)}`)}te+=$(Q,!0,!1)}return ae&&(te+="?",te+=$(ae,!1,!1)),se&&(te+="#",te+=N?se:m(se,!1,!1)),te}function k(V){try{return decodeURIComponent(V)}catch{return V.length>3?V.substr(0,3)+k(V.substr(3)):V}}let I=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function B(V){return V.match(I)?V.replace(I,(N=>k(N))):V}var W=n(975);let j=W.posix||W,re="/";var ne;(function(V){V.joinPath=function(N,...$){return N.with({path:j.join(N.path,...$)})},V.resolvePath=function(N,...$){let te=N.path,K=!1;te[0]!==re&&(te=re+te,K=!0);let G=j.resolve(te,...$);return K&&G[0]===re&&!N.authority&&(G=G.substring(1)),N.with({path:G})},V.dirname=function(N){if(N.path.length===0||N.path===re)return N;let $=j.dirname(N.path);return $.length===1&&$.charCodeAt(0)===46&&($=""),N.with({path:$})},V.basename=function(N){return j.basename(N.path)},V.extname=function(N){return j.extname(N.path)}})(ne||(ne={})),LE=r})();var{URI:kc,Utils:pi}=LE;var xm=["file","gist","repo","sftp","untitled","vscode-notebook-cell","vscode-scm","vscode-userdata","comment"],Em=new Set(xm);var ME=/^[\w._-]{2,}:/;function nd(t){return hB(t)}function hB(t){if(typeof t=="string")return ME.test(t)?kc.parse(t):kc.parse(OE(t).toString());if(t)return t instanceof URL?kc.parse(t.toString()):t}function gB(t,e){if(t.scheme!==e.scheme)return UE(e).toString();let n=Tm(t),r=Tm(e),i=0;for(i=0;i<n.length&&i<r.length;++i){let o=n[i],a=r[i];if(o===a)continue;let c=decodeURIComponent(o).toLowerCase(),u=decodeURIComponent(a).toLowerCase();if(!(c.endsWith(":")&&c==u&&c.length==2))break}return("../".repeat(n.length-i)+r.slice(i).join("/")).replace(/\/$/,"")}function UE(t){return t.with({fragment:"",query:""})}function Pr(t,e={}){let{segments:n=2,relativeTo:r}=e;if(r){let s=gB(nd(r),t);if(!ME.test(s))return decodeURIComponent(s.split("/").slice(-n).join("/"))}let i=Tm(t).slice(-n);return decodeURIComponent(i.join("/"))}function Tm(t){return UE(t).toString().split("/").filter(e=>!!e)}function qE(t){let e=kc.isUri(t)?t:nd(t.toString());return e.scheme==="file"?e.fsPath:e.toString()}function km(t){return[...new Set(t)]}function eo(t){let e=new Set;return t?n=>{let r=t(n);return!e.has(r)&&(e.add(r),!0)}:n=>!e.has(n)&&(e.add(n),!0)}function Cn(t){return t!=null}function jE(t,e){let n={};for(let r of e)n[r]=t[r];return n}Symbol.dispose??=Symbol.for("Symbol.dispose");var BE=Symbol("Disposable Name"),WE=Symbol("Disposable Timestamp"),Qi=Symbol("Disposable Is Disposed"),hi,Pc=0,Fc=0;function Bn(t,e,n){let r=!1,i=!1,s={dispose:o,[Symbol.dispose]:o,[WE]:performance.now(),[BE]:n||void 0,[Qi]:!1};return++Fc,hi?.debug(Yo()+"Created: %s, active: %i",rd(s),Fc),s;function o(){try{if(hi?.debug(Yo()+"Dispose Start -> %s Active %i",rd(s),Fc),++Pc,r){s[Qi]=!0,hi?.warn("Already disposed %s",rd(s));return}--Fc,s[Qi]=r=!0,e?t.call(e):t()}catch(a){throw i=!0,a}finally{--Pc,hi?.debug(Yo()+"Dispose End   -> %s Active %i%s",rd(s),Fc,i?" ** with errors ** ":"")}}}function rd(t){let e=mB(t)||"",n=KE(t)?.toFixed(4);return e+" "+n}function Zi(t,e,n){return Object.assign(t,Bn(e,t,n))}function id(t,e="createDisposableFromList"){return Bn(to(t),void 0,e)}function to(t,e=""){let n=!1,r=performance.now().toFixed(4);hi&&(e="createDisposeMethodFromList "+(e||"<anonymous>")),hi?.debug(Yo()+"Create: %s %s",e,r);let i=0;function s(){try{hi?.debug(Yo()+"Dispose Start -> %s %s",e,r),++Pc;let o;if(n&&(hi?.warn("Already disposed %s with %o open.",e,t.length),!t.length))return;n=!0;let a;for(;a=t.pop();)try{un(a)}catch(c){++i,o??=c}if(o)throw hi?.warn(o),o}finally{--Pc,hi?.debug(Yo()+"Dispose End   -> %s %s%s",e,r,i?` *** with ${i} errors ***`:"")}}return s}function un(t){if(!t)return;if(typeof t=="function"){t();return}let e=t;if(typeof e[Symbol.dispose]=="function"){e[Symbol.dispose].call(t);return}e.dispose.call(t)}function es(t,e="makeDisposable"){return yB(t)?t:Symbol.dispose in t?Bn(t[Symbol.dispose],t,e):"dispose"in t?Bn(t.dispose,t,e):Bn(t,void 0,e)}function mB(t){return t[BE]}function KE(t){return t[WE]}function yB(t){return!t||typeof t!="object"?!1:Qi in t}function Yo(){return" ".repeat(Pc)}var CB=()=>{},Qo=class{dispose;[Symbol.dispose]=CB;[Qi]=!1;_disposables;constructor(e,n="InheritableDisposable"){this._disposables=e??[];let r=to(this._disposables,n),i=()=>{this.isDisposed()||(this[Qi]=!0,r(),Object.freeze(this._disposables))};this.dispose=i,this[Symbol.dispose]=i}isDisposed(){return this[Qi]}},sd=class extends Qo{disposables;name;#e;constructor(e=[],n="DisposableList"){super(e),this.disposables=e,this.name=n,this.#e=new WeakSet(e)}push(...e){if(this.isDisposed())throw new Error("Already disposed, cannot add items.");let n=0;for(let r of e)this.add(r)&&n++;return n}add(e){return!e||this.#e.has(e)?!1:(this.#e.add(e),this.disposables.push(e),!0)}delete(e){if(!e)return!0;this.#e.delete(e);let n=this.disposables.indexOf(e);return n<0?!1:(this.disposables.splice(n,1),!0)}get length(){return this.disposables.length}isDisposed(){return super.isDisposed()}has(e){return e?this.#e.has(e):!1}};function tt(t,e){return new sd(t,e)}var Jt=Ue(require("vscode"),1);var Rc={allowCompoundWords:"allowCompoundWords",cache:"cache",caseSensitive:"caseSensitive",description:"description",dictionaries:"dictionaries",dictionaryDefinitions:"dictionaryDefinitions",enabled:"enabled",enabledLanguageIds:"enabledLanguageIds",enableFiletypes:"enableFiletypes",enabledFileTypes:"enabledFileTypes",enableGlobDot:"enableGlobDot",failFast:"failFast",features:"features",files:"files",flagWords:"flagWords",gitignoreRoot:"gitignoreRoot",globRoot:"globRoot",ignorePaths:"ignorePaths",ignoreRegExpList:"ignoreRegExpList",ignoreWords:"ignoreWords",ignoreRandomStrings:"ignoreRandomStrings",import:"import",includeRegExpList:"includeRegExpList",language:"language",languageId:"languageId",languageSettings:"languageSettings",loadDefaultConfiguration:"loadDefaultConfiguration",maxDuplicateProblems:"maxDuplicateProblems",maxNumberOfProblems:"maxNumberOfProblems",minWordLength:"minWordLength",minRandomLength:"minRandomLength",name:"name",noConfigSearch:"noConfigSearch",noSuggestDictionaries:"noSuggestDictionaries",numSuggestions:"numSuggestions",overrides:"overrides",patterns:"patterns",pnpFiles:"pnpFiles",readonly:"readonly",reporters:"reporters",showStatus:"showStatus",spellCheckDelayMs:"spellCheckDelayMs",suggestionNumChanges:"suggestionNumChanges",suggestionsTimeout:"suggestionsTimeout",suggestWords:"suggestWords",unknownWords:"unknownWords",useGitignore:"useGitignore",usePnP:"usePnP",userWords:"userWords",validateDirectives:"validateDirectives",words:"words",parser:"parser"},$E=(function(t){return t[t.spelling=0]="spelling",t[t.directive=1]="directive",t})({});var vB={git:!1,output:!1,debug:!1},SB={gist:!0,repo:!0,file:!0,sftp:!0,untitled:!0,"vscode-notebook-cell":!0,"vscode-vfs":!0,vsls:!0,...vB};function bB(t,e){if(e.allowedSchemas){let n=Object.fromEntries(e.allowedSchemas.map(r=>[r,!0]));t={...t,...n}}return e.enabledSchemes&&(t={...t,...e.enabledSchemes}),t}function HE(...t){let e={...SB};return t.reduce(bB,e)}function Fm(...t){let e=HE(...t);return Object.entries(e).filter(([,n])=>n).map(([n])=>n)}function VE(t,e){if(!e)return t;let n=Object.fromEntries(TB(e).map(r=>r.startsWith("!")?[r.slice(1),!1]:[r,!0]));return t={...t,...n},t}function DB(t,e){return e?{...t,...e}:t}function wB(t,e){return t=VE(t,e.enabledLanguageIds),t=VE(t,e.enableFiletypes),t=DB(t,e.enabledFileTypes),t}function od(t,e={}){return wB(e,t)}function Pm(t){return Object.keys(od(t)).sort()}function TB(t){return t.map(n=>n.replace(/!/g,"~")).sort().map(n=>n.replace(/~/g,"!")).map(n=>n.replace(/^(!!)+/,""))}var Be={...Rc,"advanced.feature.useReferenceProviderRemove":"advanced.feature.useReferenceProviderRemove","advanced.feature.useReferenceProviderWithRename":"advanced.feature.useReferenceProviderWithRename","experimental.symbols":"experimental.symbols",autoFormatConfigFile:"autoFormatConfigFile",blockCheckingWhenAverageChunkSizeGreaterThan:"blockCheckingWhenAverageChunkSizeGreaterThan",blockCheckingWhenLineLengthGreaterThan:"blockCheckingWhenLineLengthGreaterThan",blockCheckingWhenTextChunkSizeGreaterThan:"blockCheckingWhenTextChunkSizeGreaterThan",checkLimit:"checkLimit",checkOnlyEnabledFileTypes:"checkOnlyEnabledFileTypes",checkVSCodeSystemFiles:"checkVSCodeSystemFiles",customDictionaries:"customDictionaries",customFolderDictionaries:"customFolderDictionaries",customUserDictionaries:"customUserDictionaries",customWorkspaceDictionaries:"customWorkspaceDictionaries",diagnosticLevel:"diagnosticLevel",diagnosticLevelFlaggedWords:"diagnosticLevelFlaggedWords",fixSpellingWithRenameProvider:"fixSpellingWithRenameProvider",hideAddToDictionaryCodeActions:"hideAddToDictionaryCodeActions",logLevel:"logLevel",logFile:"logFile",maxDuplicateProblems:"maxDuplicateProblems",maxNumberOfProblems:"maxNumberOfProblems",mergeCSpellSettings:"mergeCSpellSettings",mergeCSpellSettingsFields:"mergeCSpellSettingsFields",noSuggestDictionaries:"noSuggestDictionaries",reportUnknownWords:"reportUnknownWords",showAutocompleteDirectiveSuggestions:"showAutocompleteDirectiveSuggestions",showCommandsInEditorContextMenu:"showCommandsInEditorContextMenu",showStatus:"showStatus",showStatusAlignment:"showStatusAlignment",showSuggestionsLinkInEditorContextMenu:"showSuggestionsLinkInEditorContextMenu",spellCheckDelayMs:"spellCheckDelayMs",spellCheckOnlyWorkspaceFiles:"spellCheckOnlyWorkspaceFiles",suggestionMenuType:"suggestionMenuType",suggestionNumChanges:"suggestionNumChanges",suggestionsTimeout:"suggestionsTimeout",useLocallyInstalledCSpellDictionaries:"useLocallyInstalledCSpellDictionaries",workspaceRootPath:"workspaceRootPath",trustedWorkspace:"trustedWorkspace",allowedSchemas:"allowedSchemas",enabledFileTypes:"enabledFileTypes",enabledLanguageIds:"enabledLanguageIds",enabledSchemes:"enabledSchemes",enabledNotifications:"enabledNotifications",hideIssuesWhileTyping:"hideIssuesWhileTyping",revealIssuesAfterDelayMS:"revealIssuesAfterDelayMS",useCustomDecorations:"useCustomDecorations",doNotUseCustomDecorationForScheme:"doNotUseCustomDecorationForScheme",showInRuler:"showInRuler",textDecoration:"textDecoration",textDecorationLine:"textDecorationLine",textDecorationStyle:"textDecorationStyle",textDecorationThickness:"textDecorationThickness",textDecorationColor:"textDecorationColor",textDecorationColorFlagged:"textDecorationColorFlagged",textDecorationColorSuggestion:"textDecorationColorSuggestion",overviewRulerColor:"overviewRulerColor",dark:"dark",light:"light"};var An=Ue(require("vscode"),1);var iU=require("node:util");var qe=require("vscode");var xB={name:void 0,extensionContext:void 0,client:void 0,dictionaryHelper:void 0,issueTracker:void 0,eventLogger:void 0},EB=Object.keys(xB),Zo={};function Ac(){return Zo}function zE(t,e){Object.defineProperty(Zo,t,{get:function(){let n=e();return Object.defineProperty(this,t,{value:n}),n}})}function rt(t){if(Object.getOwnPropertyDescriptor(Zo,t)===void 0)throw new Error(`Missing Dependency Resolver: '${t}'`);return Zo[t]}function no(){return rt("client")}function Rm(){return rt("extensionContext")}function Am(){return rt("issueTracker")}function Ic(t,e){Object.defineProperty(Zo,t,{value:e,configurable:!0,enumerable:!0})}function kB(t){Object.defineProperty(Zo,t,{get:function(){throw new Error(`Missing Dependency: ${t}`)},configurable:!0,enumerable:!0})}function FB(){EB.forEach(kB)}FB();var Lm=Ue(require("vscode"),1);var Im=require("vscode");function Xe(t){return typeof t=="string"?Im.Uri.from(nd(t)):t&&Im.Uri.from(t)||void 0}var _c={Dictionary:"dictionary",Cspell:"cspell",Vscode:"vscode"};function _m(t){return e=>typeof e=="object"&&e.kind===t}var Bee=_m(_c.Dictionary),Wee=_m(_c.Cspell),Kee=_m(_c.Vscode),ad={user:1,workspace:2,folder:3,unknown:4};function PB(t,e){return ad[t]-ad[e]}function RB(t,e){return ad[e]-ad[t]}function Nc(t,e=!0){let n=e?RB:PB;return[...t].sort(n)}var gi=require("vscode"),GE={[gi.ConfigurationTarget.Global]:"user",[gi.ConfigurationTarget.Workspace]:"workspace",[gi.ConfigurationTarget.WorkspaceFolder]:"folder"},AB={user:gi.ConfigurationTarget.Global,workspace:gi.ConfigurationTarget.Workspace,folder:gi.ConfigurationTarget.WorkspaceFolder},Nm=[gi.ConfigurationTarget.Global,gi.ConfigurationTarget.Workspace,gi.ConfigurationTarget.WorkspaceFolder];function Ar(t){return GE[t]}function cd(t){return IB(t)}function IB(t){return AB[t]}function Om(t){return GE[t]}function JE(t){let e=[],n=Nm.indexOf(t);if(n<0)return e;for(let r=n;r<Nm.length;++r)e.push(Om(Nm[r]));return e.push("unknown"),e}var _B={dictionary:"dictionary",cspell:"cspell",vscode:"vscode",unknown:"unknown",folder:"folder",workspace:"workspace",user:"user"};var ro={dictionary:!0,cspell:!0,vscode:!0};var NB={cspell:!0},Um={vscode:!0},OB={dictionary:!0,cspell:!1,vscode:!1};var Oc={unknown:!0,folder:!0,workspace:!0,user:!0},LB={unknown:!0,folder:!0,workspace:!0,user:!1},XE={user:!0},YE={workspace:!0},QE={folder:!0};var MB=Object.freeze(Object.values(_c)),UB=Object.freeze(Object.values(_B)),ud=ts(ro,LB),ZE=ts(ro,XE),ek=ts(ro,YE),tk=ts(ro,QE),nk=ts(NB,Oc),rk=ts(Um,XE),ik=ts(Um,YE),sk=ts(Um,QE),ld=Lc(HB(OB),Oc),Zee=Lc(ro,Oc);function qB(t,e){let n=[];for(let r of e)if(!(!t[r.kind]||!t[r.scope])){if(n.length&&(n[0].kind!==r.kind||n[0].scope!==r.scope))break;n.push(r)}return n}function ts(...t){let e=Lc(...t);return jB(e)}function jB(t,e=!1){return async function(n){let r=qB(t,n);return dd(r,e)}}async function dd(t,e=!1){if(!t.length)throw new Mm("No matching configuration found.");if(t.length===1)return t;let n="Choose Destination",r=t.map(o=>({label:o.name,_found:o})),i=e?await Lm.window.showQuickPick(r,{title:n,canPickMany:!0}):await Lm.window.showQuickPick(r,{title:n});return i?(Array.isArray(i)?i:[i]).map(o=>o._found):void 0}async function fd(t){let e=await dd(t,!1);return e&&e[0]}function pd(t,e){let n=typeof e=="function"?e:BB(e);return t.filter(n)}function ok(t,e){return t.filter(n=>n.kind!=="cspell"||e in Rc)}function BB(t){return e=>WB(e,t)}function WB(t,e){return!!e[t.kind]&&!!e[t.scope]}function Lc(...t){let e={};for(let n of t)typeof n=="string"?e[n]=!0:e=KB(e,n,UB);return e}function KB(t,e,n){let r=Object.assign({},t);for(let i of n){let s=e[i];s!==void 0&&(r[i]=s)}return r}function $B(t,e){let n={};for(let r of e)n[r]=VB(t[r]);return n}function VB(t){return t===void 0?void 0:!t}function HB(t){return $B(t,MB)}function ak(t,e,n){let r=Ar(t);return{kind:"vscode",scope:r,name:r,docUri:Xe(e),configScope:n}}var Mm=class extends Error{};var qm=require("node:util"),uk=require("vscode");function Mc(t){if(t instanceof Error)return!0;if(!t||typeof t!="object")return!1;let e=t;return e.message!==void 0&&e.name!==void 0}function Uc(t,e){return!dk(t)&&Mc(t)?(console.error(Bm(t,e)),io(uk.window.showErrorMessage(t.message),"showError Resolver showErrorMessage").then(()=>{})):Promise.resolve(void 0)}function qc(t,e){return!dk(t)&&Mc(t)&&console.log(Bm(t,e)),Promise.resolve(void 0)}function jm(t,e){let n=Bm(t,e);return Promise.resolve(void 0)}function it(t,e,n=Uc){return(typeof t=="function"?(async()=>t())():t).catch(zB(e,n))}function jc(t,e,n=Uc){return(...r)=>it(()=>t(...r),e,n)}function ln(t,e){return it(Promise.resolve(t),e,qc)}function io(t,e){return it(Promise.resolve(t),e,jm)}function lk(t,e){return it(Promise.resolve(t),e,Uc)}function zB(t,e){return n=>e(n,t)}function Bm(t,e){return(0,qm.format)("Error: context (%s): %o",e,t)}var ck="Canceled";function dk(t){return t instanceof Error&&t.name===ck&&t.message===ck}function ea(t){if(Mc(t))return t;let e=new Error((0,qm.format)("Error: %o",t));return e.cause=t,e}function fk(t,e){return Ni(t,tk,e)}function hd(t,e){return Ni(t,ek,e)}function gd(t){return Ni(t,ZE,void 0)}function Ni(t,e,n){return it(GB(t,e,n),"addWordToTarget")}function GB(t,e,n){return n=Xe(n),rt("dictionaryHelper").addWordsToTargets(t,e,n)}function mi(t,e){return(n,r)=>t(n,e,r)}var Rn=require("vscode");var b8=require("vscode");var ha=Ue(yF(),1),uA=require("vscode");var Tf=Ue(sA(),1);var bi=require("vscode");var bf=require("vscode");async function oA(t){try{return!!(await bf.workspace.fs.stat(t)).type}catch(e){if(!(e instanceof bf.FileSystemError))throw e;return!1}}var XC=bi.workspace.fs,aA={FileNotFound:!0,EntryNotFound:!0,ENOENT:!0},ZH=bi.FileSystemError.FileNotFound().code;aA[ZH]=!0;async function e8(t){return await XC.createDirectory(t)}async function t8(t,e,n="utf8"){let r=YC(t);return r?n8(r,e):r8(t,e,n)}async function n8(t,e){let n=t.getText();if(n===e)return;let r=new bi.Range(t.positionAt(0),t.positionAt(n.length)),i=new bi.WorkspaceEdit;i.replace(t.uri,r,e),await bi.workspace.applyEdit(i),await t.save()}async function r8(t,e,n){return await XC.writeFile(t,Buffer.from(e,n))}async function i8(t,e){return Buffer.from(await XC.readFile(t)).toString(e)}function s8(t){return TE(t)?t.code in aA:!1}function YC(t){let e=t.toString(!0);return bi.workspace.textDocuments.find(n=>n.uri.toString(!0)===e)}var Ht={createDirectory:e8,writeFile:t8,readFile:i8,fileExists:oA,isFileNotFoundError:s8};function QC(t,e){let n={};for(let r of e)n[r]=t[r];return n}var lA=Symbol("format"),o8=[{match:/package\.json$/i,handler:t=>new rv(t)},{match:/\.jsonc?$/i,handler:t=>new nv(t)},{match:/\.ya?ml$/i,handler:t=>new iv(t)}],a8=4,cA=2;async function sv(t,e){try{return await xf(t)._read()}catch(n){return Ht.isFileNotFoundError(n)?Promise.resolve(e):Promise.reject(n)}}function ov(t,e){return xf(t).write(e)}function xf(t){return c8(t)}function c8(t){let e=u8(t);if(e)return e.handler(t);throw new wf(t)}function u8(t){let n=t.with({fragment:"",query:""}).toString();for(let r of o8)if(r.match.test(n))return r}var av={version:"0.2",ignorePaths:[],dictionaryDefinitions:[],dictionaries:[],words:[],ignoreWords:[],import:[]};function dA(t,e){return t.catch(n=>{if(!Ht.isFileNotFoundError(n))throw n;return e})}var wf=class extends Error{constructor(e){super(`Unhandled file type: "${pi.basename(e)}"`)}},ZC=class extends Error{constructor(n,r,i){super(n);this.code=r;this.errno=i}},ev=class extends Error{};function Df(t){let e=h8(t),n=(0,ha.parse)(t);if(n==null)return{};if(typeof n!="object")throw new ev("Invalid cspell JSON file.");return l8(n,e)}function tv(t,e,n=!0){let r=d8(t);e=r?.spaces||e||a8;let i=r?.newlineAtEndOfFile??!0,s=n?(0,ha.stringify)(t,null,e):JSON.stringify(t,null,e);return i?s+`
`:s}function l8(t,e){return t==null||typeof t!="object"||(t[lA]=e),t}function d8(t){if(!(t==null||typeof t!="object"))return t[lA]}function f8(t){return/\n$/.test(t)}function p8(t){let e=t.match(/^[ \t]+(?=")/m);if(e)return e[0]}function h8(t){return{spaces:p8(t),newlineAtEndOfFile:f8(t)}}var xu=class{constructor(e){this.uri=e}async read(e){return QC(await this._read(),e)}update(e,n){return this._update(r=>e(QC(r,n)))}async mkdir(){return await Ht.createDirectory(uA.Uri.joinPath(this.uri,".."))}},nv=class extends xu{async _update(e){let n=await dA(this._read(),av),r=(0,ha.assign)(n,e(n));return this.write(r)}async write(e){await this.mkdir();let n=tv(e),r=n[n.length-1]!==`
`?n+`
`:n;return Ht.writeFile(this.uri,r)}async _read(){let e=this.uri,n=await Ht.readFile(e,"utf8");return Df(n)}},rv=class extends xu{async _update(e){let n=await Ht.readFile(this.uri,"utf8"),r=Df(n),i=r.cspell||{...av};return r.cspell=Object.assign(i,e(i)),Ht.writeFile(this.uri,tv(r,cA,!1))}async write(e){let n=await Ht.readFile(this.uri,"utf8"),r=Df(n);return r.cspell=e,Ht.writeFile(this.uri,tv(r,cA,!1))}async _read(){let e=await Ht.readFile(this.uri,"utf8"),n=Df(e);if(!n.cspell||typeof n.cspell!="object")throw new ZC("`cspell` section missing from package.json","ENOENT");return n.cspell}},iv=class extends xu{async _update(e){let n=await dA(this._read(),av),r=Object.assign({},n,e(n));return this.write(r)}async write(e){return await this.mkdir(),Ht.writeFile(this.uri,(0,Tf.stringify)(e))}async _read(){let e=await Ht.readFile(this.uri,"utf8");return(0,Tf.parse)(e)}};function uv(t){return new cv(t)}var g8=new Intl.Collator;function hA(t,e){return g8.compare(t,e)}var cv=class{_entries=[];constructor(e){this._entries=e.map(fA)}get words(){return this._entries.filter(gA).map(e=>e.word)}get entries(){return this._entries}addWords(e){let n=e.map(r=>typeof r=="string"?fA(r):r);this._entries.push(...n)}removeWords(e){let n=new Set(e);this._entries=this._entries.filter(r=>!r.word||!n.has(r.word))}sort(){let e=new Set,n=pA(this._entries);for(let r of n)r.words.sort((i,s)=>hA(i.word,s.word)),r.words=r.words.filter(i=>e.has(i.word)&&!i.comment?!1:(e.add(i.word),!0));this._entries=m8(n)}toString(){let n=pA(this._entries).map(r=>C8(r)).join("");return n.endsWith(`

`)?n.slice(0,-1):n}};function fA(t){let e=t.split("#",2);return e.length===1?{word:e[0].trim()}:e[0]?{word:e[0].trim()||" ",comment:"#"+e[1].trimEnd()}:{comment:"#"+e[1].trimEnd()}}function pA(t){let e=[],n={header:void 0,words:[],hasEmptyLines:!1};for(let r of t){if(y8(r)){n.header&&e.push(n),n={header:r,words:[],hasEmptyLines:!1};continue}if(!gA(r)){n.hasEmptyLines=!0;continue}n.words.push(r)}return e.push(n),e}function m8(t){return t.flatMap(e=>e.header?[e.header,...e.words,...e.hasEmptyLines?[{word:""}]:[]]:e.words)}function y8(t){return!!t.comment&&!t.word}function gA(t){return!!t.word}function C8(t){let e=v8(t.header),n=t.words.map(i=>S8(i)).join(""),r=t.hasEmptyLines||t.words.length?`
`:"";return e+n+r}function v8(t){return t?.comment?t.comment+`
`:""}function S8(t){return t.word+(t.comment?" "+t.comment:"")+`
`}var D8="0.2";var w8=[".cspell.json","cspell.json",".cSpell.json","cSpell.json",".cspell.jsonc","cspell.jsonc",".vscode/cspell.json",".vscode/cSpell.json",".vscode/.cspell.json","cspell.config.json","cspell.config.jsonc","cspell.config.yaml","cspell.config.yml","cspell.yaml","cspell.yml","package.json","cspell.config.js","cspell.config.cjs","cspell.config.mjs",".config/.cspell.json",".config/cspell.json",".config/.cSpell.json",".config/cSpell.json",".config/.cspell.jsonc",".config/cspell.jsonc",".config/cspell.config.json",".config/cspell.config.jsonc",".config/cspell.config.yaml",".config/cspell.config.yml",".config/cspell.yaml",".config/cspell.yml",".config/cspell.config.js",".config/cspell.config.cjs"],mA=new Set(w8.map(t=>t.split("/").slice(-1)[0])),lv=Object.freeze(mA),T8=`**/{${[...mA].join(",")}}`;var Ef=".cspell",yA=["cspell.json","cspell.config.yaml","package.json"],Jne=Object.freeze({version:D8});var x8=/[^\w\p{L}\p{M}_'’-]+/gu,E8=/^[\w\p{L}\p{M}_'’-]+$/u;function CA(t){return E8.test(t)}function Ui(t){return t=typeof t!="string"?t.join(" "):t,t.replace(x8," ").split(" ").map(e=>e.trim()).filter(e=>!!e).filter(eo())}var Ms=Ue(require("vscode"),1),Za=require("vscode");var mM=require("path"),zt=require("vscode");function gs(t,e){let n=k8(t,e);return{updateFn:i=>({[t]:n(i[t])}),keys:[t]}}function dv(t,e){return{updateFn:typeof e=="function"?e:()=>e,keys:t}}function k8(t,e){return typeof e=="function"?e:()=>e}var en=require("vscode");var Yt="cSpell",Eu=Yt,fv="@ext:streetsidesoftware.code-spell-checker";var ga=require("vscode");var ku=require("vscode");function ms(t){if(!t)return ku.window.activeTextEditor;let e=t.toString();for(let n of ku.window.visibleTextEditors)if(n.document.uri.toString()===e)return n}function Di(t){if(!t)return;let e=t.toString();for(let n of ku.workspace.textDocuments)if(n.uri.toString()===e)return n}var F8={git:!0,output:!0,debug:!0,vscode:!0},P8=Object.freeze(Object.assign(Object.create(null),F8));function kf(t){if(t===void 0||t.scheme in P8)return;let e=R8(t);if(e){let n=Ff(t);return n?{uri:n.notebook.uri,languageId:n.document.languageId}:e}if(t.scheme==="file")return t}function R8(t){let e=Di(t);if(e)return e;let n=new Set(ga.workspace.workspaceFolders?.map(s=>s.uri.scheme)).add("file"),r,i=t.path;for(let s of ga.workspace.textDocuments){let o=s.uri;if(o.path===i&&(r=s,n.has(o.scheme)))return s}return r}function A8(t){return t.scheme==="vscode-notebook-cell"}function Fu(t){return Ff(t.uri)}function Ff(t){if(A8(t))for(let e of ga.workspace.notebookDocuments){let r=e.getCells().find(i=>i.document.uri.toString()===t.toString());if(r)return r}}function Pf(t){let e=Fu(t);return e?e.notebook:t}function vA(t){if(t){if(t instanceof ga.Uri)return t;if("uri"in t)return t.uri}}var Fi=require("vscode");var Br=require("vscode");var at={};DE(at,Ue(vh()));var dl=require("vscode");var NL={[dl.DiagnosticSeverity.Error]:at.DiagnosticSeverity.Error,[dl.DiagnosticSeverity.Warning]:at.DiagnosticSeverity.Warning,[dl.DiagnosticSeverity.Information]:at.DiagnosticSeverity.Information,[dl.DiagnosticSeverity.Hint]:at.DiagnosticSeverity.Hint};function LL(t){return at.CodeAction.is(t)}function ML(t){let e=t.kind!==void 0&&Br.CodeActionKind.Empty.append(t.kind)||void 0,n=new Br.CodeAction(t.title,e);return n.command=t.command&&t.command,n}function UL(t){return at.Diagnostic.create(jw(t.range),t.message,NL[t.severity],void 0,t.source)}function jw(t){let{start:e,end:n}=t;return at.Range.create(OL(e),OL(n))}function OL(t){let{line:e,character:n}=t;return at.Position.create(e,n)}function Sh(t){return t instanceof Br.Position?t:Array.isArray(t)?new Br.Position(t[0],t[1]):new Br.Position(t.line,t.character)}function qL(t){return t instanceof Br.Range?t:Array.isArray(t)?new Br.Range(Sh(t[0]),Sh(t[1])):new Br.Range(Sh(t.start),Sh(t.end))}var jL=["al","asciidoc","bat","c","clojure","coffeescript","cpp","csharp","css","dart","diff","dockerfile","elixir","erlang","fsharp","git-commit","git-rebase","github-actions-workflow","go","graphql","groovy","handlebars","haskell","html","ini","jade","java","javascript","javascriptreact","json","jsonc","julia","jupyter","latex","less","lua","makefile","markdown","objective-c","perl","perl6","php","plaintext","powershell","properties","pug","python","r","razor","restructuredtext","ruby","rust","scala","scminput","scss","shaderlab","shellscript","sql","swift","text","typescript","typescriptreact","vb","vue","xml","xsl","yaml"];var BL=require("vscode"),Bw=class{listeners=new Set;send(e){for(let n of this.listeners)n(e)}listen(e){return this.listeners.add(e),new BL.Disposable(()=>this.listeners.delete(e))}};function bh(){return new Bw}var WL=Ue(require("assert"),1);var Dh=class{_attached=void 0;_resolve=()=>{};_reject=()=>{};_promise;constructor(){this._promise=new Promise((e,n)=>{this._resolve=e,this._reject=n})}get promise(){return this._promise}attach(e){this._attached!==e&&((0,WL.default)(this._attached===void 0,"Already Resolved"),this._attached=e,this._attached.then(this._resolve,this._reject).catch(()=>{}))}isPending(){return!this._attached}isResolved(){return!this.isPending()}};var KL={serverRequests:"sr_",serverNotifications:"sn_",clientRequests:"cr_",clientNotifications:"cn_"};function wh(t,e,n,r=KL){let i=[],s=GL(e.serverRequests,n),o=JL(e.serverNotifications,n);$L(t,r.serverRequests,s,i,n),VL(t,r.serverNotifications,o,i,n);let a=HL(t,r.clientRequests,e.clientRequests,n),c=zL(t,r.clientNotifications,e.clientNotifications,n);return Zi({clientRequest:a,clientNotification:c,serverRequest:s,serverNotification:o},to(i))}function Th(t,e,n,r=KL){let i=[],s=GL(e.clientRequests,n),o=JL(e.clientNotifications,n);$L(t,r.clientRequests,s,i,n),VL(t,r.clientNotifications,o,i,n);let a=HL(t,r.serverRequests,e.serverRequests,n),c=zL(t,r.serverNotifications,e.serverNotifications,n);return Zi({serverRequest:a,serverNotification:c,clientRequest:s,clientNotification:o},to(i))}function $L(t,e,n,r,i){for(let[s,o]of Object.entries(n)){if(i?.log("bindRequest %o",{name:s,fn:typeof o}),!o)continue;let a=o,c=e+s;r.push(t.onRequest(c,u=>(i?.log(`handle request "${s}" %o`,u),a.publish(...u))))}}function VL(t,e,n,r,i){for(let[s,o]of Object.entries(n)){if(i?.log("bindNotifications %o",{name:s,fn:typeof o}),!o)continue;let a=e+s,c=o;r.push(t.onNotification(a,u=>(i?.log(`handle notification "${s}" %o`,u),c.publish(...u))))}}function HL(t,e,n,r){let i=1;return Object.fromEntries(Object.entries(n).map(([s])=>{let o=e+s;return[s,(...c)=>{let u=++i;return r?.log(`send request "${s}" %o: Params: %o`,u,c),t.sendRequest(o,c).then(f=>(r?.log(`send request "${s}" %o: Response: %o`,u,f),f))}]}))}function zL(t,e,n,r){return Object.fromEntries(Object.entries(n).map(([i])=>{let s=e+i;return[i,(...a)=>(r?.log(`send notification "${i}" %o`,a),t.sendNotification(s,a))]}))}function GL(t,e){function n([r,i]){if(!i)return;let s=O6(r,e);return typeof i=="function"&&s.subscribe(i),[r,s]}return Object.fromEntries(Object.entries(t).map(n).filter(XL))}function JL(t,e){function n([r,i]){if(!i)return;let s=N6(r,e);return typeof i=="function"&&s.subscribe(i),[r,s]}return Object.fromEntries(Object.entries(t).map(n).filter(XL))}function N6(t,e){let n=new Set;async function r(...s){for(let o of n)e?.log(`notify ${t} %s`,typeof o),await o(...arguments)}function i(s){return e?.log(`subscribe to ${t} %s`,typeof s),n.add(s),Bn(()=>n.delete(s))}return{publish:r,subscribe:i}}function O6(t,e){let n;async function r(...s){return e?.log(`notify ${t} %o`,n),await n?.(...arguments)}function i(s){return n=s,e?.log(`subscribe to ${t} %s`,typeof s),Bn(()=>{n===s&&(n=void 0)})}return{publish:r,subscribe:i}}function XL(t){return t!==void 0}var L6=(function(t){return t[t.Unknown=0]="Unknown",t[t.File=1]="File",t[t.Directory=2]="Directory",t[t.SymbolicLink=64]="SymbolicLink",t})({}),M6={serverNotifications:"_",serverRequests:"_",clientNotifications:"_",clientRequests:"_"};function Ww(t,e,n){return Th(t,e,n,M6)}var _s=require("vscode");async function YL(t){let e=_s.Uri.parse(t);return await _s.workspace.fs.stat(e)}async function QL(t){let e=_s.Uri.parse(t);return await _s.workspace.fs.readDirectory(e)}async function ZL(t){let e=_s.Uri.parse(t),n=await _s.workspace.fs.readFile(e);return{uri:t,encoding:"base64",content:Buffer.from(n).toString("base64")}}async function tM(t,e){let n=at.CodeActionRequest.type;return await t.sendRequest(n,e)}function nM(t){let n=Ww(t,{serverRequests:{isSpellCheckEnabled:!0,getConfigurationForDocument:!0,getConfigurationTargets:!0,getSpellCheckingOffsets:!0,spellingSuggestions:!0,splitTextIntoWords:!0,traceWord:!0,checkDocument:!0},serverNotifications:{notifyConfigChange:!0,registerConfigurationFile:!0},clientNotifications:{onSpellCheckDocument:!0,onDocumentConfigChange:!0,onBlockFile:!0},clientRequests:{onWorkspaceConfigForDocumentRequest:!0,vfsReadDirectory:QL,vfsReadFile:ZL,vfsStat:YL}},{log:()=>{}}),{serverNotification:r,serverRequest:i,clientNotification:s,clientRequest:o}=n;return{isSpellCheckEnabled:Hi(i.isSpellCheckEnabled,"isSpellCheckEnabled"),getConfigurationForDocument:Hi(i.getConfigurationForDocument,"getConfigurationForDocument"),getConfigurationTargets:Hi(i.getConfigurationTargets,"getConfigurationTargets"),getSpellCheckingOffsets:Hi(i.getSpellCheckingOffsets,"getSpellCheckingOffsets"),spellingSuggestions:Hi(i.spellingSuggestions,"spellingSuggestions"),notifyConfigChange:Hi(r.notifyConfigChange,"notifyConfigChange"),registerConfigurationFile:Hi(r.registerConfigurationFile,"registerConfigurationFile"),traceWord:Hi(i.traceWord,"traceWord"),checkDocument:Hi(i.checkDocument,"checkDocument"),onSpellCheckDocument:c=>s.onSpellCheckDocument.subscribe(xh(c,"onSpellCheckDocument")),onDocumentConfigChange:c=>s.onDocumentConfigChange.subscribe(xh(c,"onDocumentConfigChange")),onBlockFile:c=>s.onBlockFile.subscribe(xh(c,"onBlockFile")),onWorkspaceConfigForDocumentRequest:c=>o.onWorkspaceConfigForDocumentRequest.subscribe(xh(c,"onWorkspaceConfigForDocumentRequest")),dispose:n.dispose}}var U6=0,eM=!1,q6=!0,j6=!0;function Hi(t,e){return(...n)=>B6(n,t(...n),e)}function B6(t,e,n){return rM("Server R/N",t,e,n,q6)}function xh(t,e){return(...n)=>W6(n,t(...n),e)}function W6(t,e,n){return rM("Client R/N",t,e,n,j6)}async function rM(t,e,n,r,i){let s=++U6,o;i&&eM&&console.log("%s %i Start %s: %s(%o)",new Date().toISOString(),s,t,r,e);try{return o=await n,o}finally{i&&eM&&console.log("%s %i End   %s: %s, %o",new Date().toISOString(),s,t,r,o)}}var iM=[["af","Afrikaans"],["af-NA","Afrikaans","Namibia"],["af-ZA","Afrikaans","South Africa"],["ak","Akan"],["ak-GH","Akan","Ghana"],["am","Amharic"],["am-ET","Amharic","Ethiopia"],["ar","Arabic"],["ar-1","Arabic"],["ar-AE","Arabic","United Arab Emirates"],["ar-BH","Arabic","Bahrain"],["ar-DJ","Arabic","Djibouti"],["ar-DZ","Arabic","Algeria"],["ar-EG","Arabic","Egypt"],["ar-EH","Arabic"],["ar-ER","Arabic","Eritrea"],["ar-IL","Arabic","Israel"],["ar-IQ","Arabic","Iraq"],["ar-JO","Arabic","Jordan"],["ar-KM","Arabic","Comoros"],["ar-KW","Arabic","Kuwait"],["ar-LB","Arabic","Lebanon"],["ar-LY","Arabic","Libya"],["ar-MA","Arabic","Morocco"],["ar-MR","Arabic","Mauritania"],["ar-OM","Arabic","Oman"],["ar-PS","Arabic"],["ar-QA","Arabic","Qatar"],["ar-SA","Arabic","Saudi Arabia"],["ar-SD","Arabic","Sudan"],["ar-SO","Arabic","Somalia"],["ar-SS","Arabic"],["ar-SY","Arabic","Syria"],["ar-TD","Arabic","Chad"],["ar-TN","Arabic","Tunisia"],["ar-YE","Arabic","Yemen"],["as","Assamese"],["as-IN","Assamese","India"],["az","Azerbaijani"],["az-AZ","Azerbaijani","Azerbaijan"],["be","Belarusian"],["be-BY","Belarusian","Belarus"],["bg","Bulgarian"],["bg-BG","Bulgarian","Bulgaria"],["bm","Bambara"],["bm-ML","Bambara","Mali"],["bn","Bengali"],["bn-BD","Bengali","Bangladesh"],["bn-IN","Bengali","India"],["bo","Tibetan"],["bo-CN","Tibetan","China"],["bo-IN","Tibetan","India"],["br","Breton"],["br-FR","Breton","France"],["bs","Bosnian"],["bs-BA","Bosnian","Bosnia and Herzegovina"],["ca","Catalan"],["ca-AD","Catalan","Andorra"],["ca-ES","Catalan","Spain"],["ca-FR","Catalan","France"],["ca-IT","Catalan","Italy"],["ce","Chechen"],["ce-RU","Chechen","Russia"],["cs","Czech"],["cs-CZ","Czech","Czech Republic"],["cu","Old Slavonic"],["cu-RU","Old Slavonic","Russia"],["cy","Welsh"],["cy-GB","Welsh","United Kingdom"],["da","Danish"],["da-DK","Danish","Denmark"],["da-GL","Danish","Greenland"],["de","German"],["de-AT","German","Austria"],["de-BE","German","Belgium"],["de-CH","German","Switzerland"],["de-DE","German","Germany"],["de-IT","German","Italy"],["de-LI","German","Liechtenstein"],["de-LU","German","Luxembourg"],["dz","Dzongkha"],["dz-BT","Dzongkha","Bhutan"],["ee","Ewe"],["ee-GH","Ewe","Ghana"],["ee-TG","Ewe","Togo"],["el","Greek","Modern (1453-)"],["el-CY","Greek","Cyprus"],["el-GR","Greek","Greece"],["en","English"],["en-AG","English","Antigua and Barbuda"],["en-AI","English","Anguilla"],["en-AS","English","American Samoa"],["en-AT","English","Austria"],["en-AU","English","Australia"],["en-BB","English","Barbados"],["en-BE","English","Belgium"],["en-BI","English","Burundi"],["en-BM","English","Bermuda"],["en-BS","English","Bahamas"],["en-BW","English","Botswana"],["en-BZ","English","Belize"],["en-CA","English","Canada"],["en-CC","English","Cocos (Keeling) Islands"],["en-CH","English","Switzerland"],["en-CK","English","Cook Islands"],["en-CM","English","Cameroon"],["en-CX","English","Christmas Island"],["en-CY","English","Cyprus"],["en-DE","English","Germany"],["en-DG","English"],["en-DK","English","Denmark"],["en-DM","English","Dominica"],["en-ER","English","Eritrea"],["en-FI","English","Finland"],["en-FJ","English","Fiji"],["en-FK","English","Falkland Islands (Islas Malvinas)"],["en-FM","English","Micronesia"],["en-GB","English","United Kingdom"],["en-GD","English","Grenada"],["en-GG","English","Guernsey"],["en-GH","English","Ghana"],["en-GI","English","Gibraltar"],["en-GM","English","Gambia"],["en-GU","English","Guam"],["en-GY","English","Guyana"],["en-HK","English","Hong Kong"],["en-IE","English","Ireland"],["en-IL","English","Israel"],["en-IM","English","Isle of Man"],["en-IN","English","India"],["en-IO","English","British Indian Ocean Territory"],["en-JE","English","Jersey"],["en-JM","English","Jamaica"],["en-KE","English","Kenya"],["en-KI","English","Kiribati"],["en-KN","English","Saint Kitts and Nevis"],["en-KY","English","Cayman Islands"],["en-LC","English","Saint Lucia"],["en-LR","English","Liberia"],["en-LS","English","Lesotho"],["en-MG","English","Madagascar"],["en-MH","English","Marshall Islands"],["en-MO","English","Macau"],["en-MP","English","Northern Mariana Islands"],["en-MS","English","Montserrat"],["en-MT","English","Malta"],["en-MU","English","Mauritius"],["en-MW","English","Malawi"],["en-MY","English","Malaysia"],["en-NA","English","Namibia"],["en-NF","English","Norfolk Island"],["en-NG","English","Nigeria"],["en-NL","English","Netherlands"],["en-NR","English","Nauru"],["en-NU","English","Niue"],["en-NZ","English","New Zealand"],["en-PG","English","Papua New Guinea"],["en-PH","English","Philippines"],["en-PK","English","Pakistan"],["en-PN","English","Pitcairn Islands"],["en-PR","English","Puerto Rico"],["en-PW","English","Palau"],["en-RW","English","Rwanda"],["en-SB","English","Solomon Islands"],["en-SC","English","Seychelles"],["en-SD","English","Sudan"],["en-SE","English","Sweden"],["en-SG","English","Singapore"],["en-SH","English","Saint Helena"],["en-SI","English","Slovenia"],["en-SL","English","Sierra Leone"],["en-SS","English"],["en-SX","English"],["en-SZ","English","Swaziland"],["en-TC","English","Turks and Caicos Islands"],["en-TK","English","Tokelau"],["en-TO","English","Tonga"],["en-TT","English","Trinidad and Tobago"],["en-TV","English","Tuvalu"],["en-TZ","English","Tanzania"],["en-UG","English","Uganda"],["en-UM","English","Baker Island"],["en-US","English","United States"],["en-VC","English","Saint Vincent and the Grenadines"],["en-VG","English","British Virgin Islands"],["en-VI","English","U.S. Virgin Islands"],["en-VU","English","Vanuatu"],["en-WS","English","Samoa"],["en-ZA","English","South Africa"],["en-ZM","English","Zambia"],["en-ZW","English","Zimbabwe"],["eo","Esperanto"],["es","Spanish"],["es-AR","Spanish","Argentina"],["es-BO","Spanish","Bolivia"],["es-BR","Spanish","Brazil"],["es-BZ","Spanish","Belize"],["es-CL","Spanish","Chile"],["es-CO","Spanish","Colombia"],["es-CR","Spanish","Costa Rica"],["es-CU","Spanish","Cuba"],["es-DO","Spanish","Dominican Republic"],["es-EA","Spanish"],["es-EC","Spanish","Ecuador"],["es-ES","Spanish","Spain"],["es-GQ","Spanish","Equatorial Guinea"],["es-GT","Spanish","Guatemala"],["es-HN","Spanish","Honduras"],["es-IC","Spanish"],["es-MX","Spanish","Mexico"],["es-NI","Spanish","Nicaragua"],["es-PA","Spanish","Panama"],["es-PE","Spanish","Peru"],["es-PH","Spanish","Philippines"],["es-PR","Spanish","Puerto Rico"],["es-PY","Spanish","Paraguay"],["es-SV","Spanish","El Salvador"],["es-US","Spanish","United States"],["es-UY","Spanish","Uruguay"],["es-VE","Spanish","Venezuela"],["et","Estonian"],["et-EE","Estonian","Estonia"],["eu","Basque"],["eu-ES","Basque","Spain"],["fa","Persian"],["fa-AF","Persian","Afghanistan"],["fa-IR","Persian","Iran"],["ff","Fulah"],["ff-CM","Fulah","Cameroon"],["ff-GN","Fulah","Guinea"],["ff-MR","Fulah","Mauritania"],["ff-SN","Fulah","Senegal"],["fi","Finnish"],["fi-FI","Finnish","Finland"],["fo","Faroese"],["fo-DK","Faroese","Denmark"],["fo-FO","Faroese","Faroe Islands"],["fr","French"],["fr-BE","French","Belgium"],["fr-BF","French","Burkina Faso"],["fr-BI","French","Burundi"],["fr-BJ","French","Benin"],["fr-BL","French"],["fr-CA","French","Canada"],["fr-CD","French","Congo"],["fr-CF","French","Central African Republic"],["fr-CG","French","Congo"],["fr-CH","French","Switzerland"],["fr-CI","French, Cote d'Ivoire (Ivory Coast)"],["fr-CM","French","Cameroon"],["fr-DJ","French","Djibouti"],["fr-DZ","French","Algeria"],["fr-FR","French","France"],["fr-GA","French","Gabon"],["fr-GF","French","French Guiana"],["fr-GN","French","Guinea"],["fr-GP","French","Saint Barthelemy"],["fr-GQ","French","Equatorial Guinea"],["fr-HT","French","Haiti"],["fr-KM","French","Comoros"],["fr-LU","French","Luxembourg"],["fr-MA","French","Morocco"],["fr-MC","French","Monaco"],["fr-MF","French"],["fr-MG","French","Madagascar"],["fr-ML","French","Mali"],["fr-MQ","French","Martinique"],["fr-MR","French","Mauritania"],["fr-MU","French","Mauritius"],["fr-NC","French","New Caledonia"],["fr-NE","French","Niger"],["fr-PF","French","French Polynesia"],["fr-PM","French","Saint Pierre and Miquelon"],["fr-RE","French","Reunion"],["fr-RW","French","Rwanda"],["fr-SC","French","Seychelles"],["fr-SN","French","Senegal"],["fr-SY","French","Syria"],["fr-TD","French","Chad"],["fr-TG","French","Togo"],["fr-TN","French","Tunisia"],["fr-VU","French","Vanuatu"],["fr-WF","French","Wallis and Futuna"],["fr-YT","French","Mayotte"],["fy","Western Frisian"],["fy-NL","Western Frisian","Netherlands"],["ga","Irish"],["ga-IE","Irish","Ireland"],["gd","Gaelic"],["gd-GB","Gaelic","United Kingdom"],["gl","Galician"],["gl-ES","Galician","Spain"],["gu","Gujarati"],["gu-IN","Gujarati","India"],["gv","Manx"],["gv-IM","Manx","Isle of Man"],["ha","Hausa"],["ha-GH","Hausa","Ghana"],["ha-NE","Hausa","Niger"],["ha-NG","Hausa","Nigeria"],["he","Hebrew"],["he-IL","Hebrew","Israel"],["hi","Hindi"],["hi-IN","Hindi","India"],["hr","Croatian"],["hr-BA","Croatian","Bosnia and Herzegovina"],["hr-HR","Croatian","Croatia"],["hu","Hungarian"],["hu-HU","Hungarian","Hungary"],["hy","Armenian"],["hy-AM","Armenian","Armenia"],["id","Indonesian"],["id-ID","Indonesian","Indonesia"],["ig","Igbo"],["ig-NG","Igbo","Nigeria"],["ii","Sichuan Yi"],["ii-CN","Sichuan Yi","China"],["is","Icelandic"],["is-IS","Icelandic","Iceland"],["it","Italian"],["it-CH","Italian","Switzerland"],["it-IT","Italian","Italy"],["it-SM","Italian","San Marino"],["it-VA","Italian","Vatican City"],["ja","Japanese"],["ja-JP","Japanese","Japan"],["ka","Georgian"],["ka-GE","Georgian","Georgia"],["ki","Kikuyu"],["ki-KE","Kikuyu","Kenya"],["kk","Kazakh"],["kk-KZ","Kazakh","Kazakhstan"],["kl","Kalaallisut"],["kl-GL","Kalaallisut","Greenland"],["km","Central Khmer"],["km-KH","Central Khmer","Cambodia"],["kn","Kannada"],["kn-IN","Kannada","India"],["ko","Korean"],["ko-KP","Korean","Korea"],["ko-KR","Korean","Korea"],["ks","Kashmiri"],["ks-IN","Kashmiri","India"],["kw","Cornish"],["kw-GB","Cornish","United Kingdom"],["ky","Kirghiz"],["ky-KG","Kirghiz","Kyrgyzstan"],["lb","Luxembourgish"],["lb-LU","Luxembourgish","Luxembourg"],["lg","Ganda"],["lg-UG","Ganda","Uganda"],["li","Limburgan"],["ln","Lingala"],["ln-AO","Lingala","Angola"],["ln-CD","Lingala","Congo"],["ln-CF","Lingala","Central African Republic"],["ln-CG","Lingala","Congo"],["lo","Lao"],["lo-LA","Lao","Laos"],["lorem","Lorem-Ipsum"],["lorem-ipsum","Lorem-Ipsum"],["lt","Lithuanian"],["lt-LT","Lithuanian","Lithuania"],["lu","Luba-Katanga"],["lu-CD","Luba-Katanga","Congo"],["lv","Latvian"],["lv-LV","Latvian","Latvia"],["mg","Malagasy"],["mg-MG","Malagasy","Madagascar"],["mk","Macedonian"],["mk-MK","Macedonian","Macedonia"],["ml","Malayalam"],["ml-IN","Malayalam","India"],["mn","Mongolian"],["mn-MN","Mongolian","Mongolia"],["mr","Marathi"],["mr-IN","Marathi","India"],["ms","Malay"],["ms-BN","Malay","Brunei"],["ms-MY","Malay","Malaysia"],["ms-SG","Malay","Singapore"],["mt","Maltese"],["mt-MT","Maltese","Malta"],["my","Burmese"],["my-MM","Burmese","Myanmar (Burma)"],["nb","Bokm\xE5l Norwegian"],["nb-NO","Bokm\xE5l Norwegian","Norway"],["nb-SJ","Bokm\xE5l Norwegian","Svalbard"],["nd","Ndebele, North"],["nd-ZW","Ndebele, North","Zimbabwe"],["ne","Nepali"],["ne-IN","Nepali","India"],["ne-NP","Nepali","Nepal"],["nl","Dutch"],["nl-AW","Dutch","Aruba"],["nl-BE","Dutch","Belgium"],["nl-BQ","Dutch"],["nl-CW","Dutch"],["nl-NL","Dutch","Netherlands"],["nl-SR","Dutch","Suriname"],["nl-SX","Dutch"],["nn","Norwegian Nynorsk"],["nn-NO","Norwegian Nynorsk","Norway"],["om","Oromo"],["om-ET","Oromo","Ethiopia"],["om-KE","Oromo","Kenya"],["or","Oriya"],["or-IN","Oriya","India"],["os","Ossetian"],["os-GE","Ossetian","Georgia"],["os-RU","Ossetian","Russia"],["pa","Panjabi"],["pa-IN","Panjabi","India"],["pa-PK","Panjabi","Pakistan"],["pl","Polish"],["pl-PL","Polish","Poland"],["ps","Pushto"],["ps-AF","Pushto","Afghanistan"],["pt","Portuguese"],["pt-AO","Portuguese","Angola"],["pt-BR","Portuguese","Brazil"],["pt-CH","Portuguese","Switzerland"],["pt-CV","Portuguese","Cape Verde"],["pt-GQ","Portuguese","Equatorial Guinea"],["pt-GW","Portuguese","Guinea-Bissau"],["pt-LU","Portuguese","Luxembourg"],["pt-MO","Portuguese","Macau"],["pt-MZ","Portuguese","Mozambique"],["pt-PT","Portuguese","Portugal"],["pt-ST","Portuguese","Sao Tome and Principe"],["pt-TL","Portuguese","Timor-Leste (East Timor)"],["qu","Quechua"],["qu-BO","Quechua","Bolivia"],["qu-EC","Quechua","Ecuador"],["qu-PE","Quechua","Peru"],["rm","Romansh"],["rm-CH","Romansh","Switzerland"],["rn","Rundi"],["rn-BI","Rundi","Burundi"],["ro","Romanian"],["ro-MD","Romanian","Moldova"],["ro-RO","Romanian","Romania"],["ru","Russian"],["ru-BY","Russian","Belarus"],["ru-KG","Russian","Kyrgyzstan"],["ru-KZ","Russian","Kazakhstan"],["ru-MD","Russian","Moldova"],["ru-RU","Russian","Russia"],["ru-UA","Russian","Ukraine"],["rw","Kinyarwanda"],["rw-RW","Kinyarwanda","Rwanda"],["se","Northern Sami"],["se-FI","Northern Sami","Finland"],["se-NO","Northern Sami","Norway"],["se-SE","Northern Sami","Sweden"],["sg","Sango"],["sg-CF","Sango","Central African Republic"],["si","Sinhala"],["si-LK","Sinhala","Sri Lanka"],["sk","Slovak"],["sk-SK","Slovak","Slovakia"],["sl","Slovenian"],["sl-SI","Slovenian","Slovenia"],["sn","Shona"],["sn-ZW","Shona","Zimbabwe"],["so","Somali"],["so-DJ","Somali","Djibouti"],["so-ET","Somali","Ethiopia"],["so-KE","Somali","Kenya"],["so-SO","Somali","Somalia"],["sq","Albanian"],["sq-AL","Albanian","Albania"],["sq-MK","Albanian","Macedonia"],["sq-XK","Albanian"],["sr","Serbian"],["sr-BA","Serbian","Bosnia and Herzegovina"],["sr-ME","Serbian","Montenegro"],["sr-RS","Serbian","Serbia"],["sr-XK","Serbian"],["sv","Swedish"],["sv-AX","Swedish","Aland"],["sv-FI","Swedish","Finland"],["sv-SE","Swedish","Sweden"],["sw","Swahili"],["sw-CD","Swahili","Congo"],["sw-KE","Swahili","Kenya"],["sw-TZ","Swahili","Tanzania"],["sw-UG","Swahili","Uganda"],["ta","Tamil"],["ta-IN","Tamil","India"],["ta-LK","Tamil","Sri Lanka"],["ta-MY","Tamil","Malaysia"],["ta-SG","Tamil","Singapore"],["te","Telugu"],["te-IN","Telugu","India"],["th","Thai"],["th-TH","Thai","Thailand"],["ti","Tigrinya"],["ti-ER","Tigrinya","Eritrea"],["ti-ET","Tigrinya","Ethiopia"],["tk","Turkmen"],["tk-TM","Turkmen","Turkmenistan"],["to","Tonga (Tonga Islands)"],["to-TO","Tonga (Tonga Islands)","Tonga"],["tr","Turkish"],["tr-CY","Turkish","Cyprus"],["tr-TR","Turkish","Turkey"],["ug","Uighur"],["ug-CN","Uighur","China"],["uk","Ukrainian"],["uk-UA","Ukrainian","Ukraine"],["ur","Urdu"],["ur-IN","Urdu","India"],["ur-PK","Urdu","Pakistan"],["uz","Uzbek"],["uz-AF","Uzbek","Afghanistan"],["uz-UZ","Uzbek","Uzbekistan"],["vi","Vietnamese"],["vi-VN","Vietnamese","Vietnam"],["vo","Volap\xFCk"],["yi","Yiddish"],["yi-1","Yiddish"],["yo","Yoruba"],["yo-BJ","Yoruba","Benin"],["yo-NG","Yoruba","Nigeria"],["zh","Chinese"],["zh-CN","Chinese","China"],["zh-HK","Chinese","Hong Kong"],["zh-MO","Chinese","Macau"],["zh-SG","Chinese","Singapore"],["zh-TW","Chinese","China"],["zu","Zulu"],["zu-ZA","Zulu","South Africa"]];var K6=`Code	ISO formal name
Adlm	Adlam
Afak	Afaka
Aghb	Caucasian Albanian
Ahom	Ahom, Tai Ahom
Arab	Arabic
Aran	Arabic (Nastaliq variant)
Armi	Imperial Aramaic
Armn	Armenian
Avst	Avestan
Bali	Balinese
Bamu	Bamum
Bass	Bassa Vah
Batk	Batak
Beng	Bengali (Bangla)
Bhks	Bhaiksuki
Blis	Blissymbols
Bopo	Bopomofo
Brah	Brahmi
Brai	Braille
Bugi	Buginese
Buhd	Buhid
Cakm	Chakma
Cans	Unified Canadian Aboriginal Syllabics
Cari	Carian
Cham	Cham
Cher	Cherokee
Chrs	Chorasmian
Cirt	Cirth
Copt	Coptic
Cpmn	Cypro-Minoan
Cprt	Cypriot syllabary
Cyrl	Cyrillic
Cyrs	Cyrillic (Old Church Slavonic variant)
Deva	Devanagari (Nagari)
Diak	Dives Akuru
Dogr	Dogra
Dsrt	Deseret (Mormon)
Dupl	Duployan shorthand, Duployan stenography
Egyd	Egyptian demotic
Egyh	Egyptian hieratic
Egyp	Egyptian hieroglyphs
Elba	Elbasan
Elym	Elymaic
Ethi	Ethiopic (Ge\u02BBez)
Geok	Khutsuri (Asomtavruli and Nuskhuri)
Geor	Georgian (Mkhedruli and Mtavruli)
Glag	Glagolitic
Gong	Gunjala Gondi
Gonm	Masaram Gondi
Goth	Gothic
Gran	Grantha
Grek	Greek
Gujr	Gujarati
Guru	Gurmukhi
Hanb	Han with Bopomofo (alias for Han + Bopomofo)
Hang	Hangul (Hang\u016Dl, Hangeul)
Hani	Han (Hanzi, Kanji, Hanja)
Hano	Hanunoo (Hanun\xF3o)
Hans	Han (Simplified variant)
Hant	Han (Traditional variant)
Hatr	Hatran
Hebr	Hebrew
Hira	Hiragana
Hluw	Anatolian Hieroglyphs (Luwian Hieroglyphs, Hittite Hieroglyphs)
Hmng	Pahawh Hmong
Hmnp	Nyiakeng Puachue Hmong
Hrkt	Japanese syllabaries (alias for Hiragana + Katakana)
Hung	Old Hungarian (Hungarian Runic)
Inds	Indus (Harappan)
Ital	Old Italic (Etruscan, Oscan, etc.)
Jamo	Jamo (alias for Jamo subset of Hangul)
Java	Javanese
Jpan	Japanese (alias for Han + Hiragana + Katakana)
Jurc	Jurchen
Kali	Kayah Li
Kana	Katakana
Kawi	Kawi
Khar	Kharoshthi
Khmr	Khmer
Khoj	Khojki
Kitl	Khitan large script
Kits	Khitan small script
Knda	Kannada
Kore	Korean (alias for Hangul + Han)
Kpel	Kpelle
Kthi	Kaithi
Lana	Tai Tham (Lanna)
Laoo	Lao
Latf	Latin (Fraktur variant)
Latg	Latin (Gaelic variant)
Latn	Latin
Leke	Leke
Lepc	Lepcha (R\xF3ng)
Limb	Limbu
Lina	Linear A
Linb	Linear B
Lisu	Lisu (Fraser)
Loma	Loma
Lyci	Lycian
Lydi	Lydian
Mahj	Mahajani
Maka	Makasar
Mand	Mandaic, Mandaean
Mani	Manichaean
Marc	Marchen
Maya	Mayan hieroglyphs
Medf	Medefaidrin (Oberi Okaime, Oberi \u0186kaim\u025B)
Mend	Mende Kikakui
Merc	Meroitic Cursive
Mero	Meroitic Hieroglyphs
Mlym	Malayalam
Modi	Modi, Mo\u1E0D\u012B
Mong	Mongolian
Moon	Moon (Moon code, Moon script, Moon type)
Mroo	Mro, Mru
Mtei	Meitei Mayek (Meithei, Meetei)
Mult	Multani
Mymr	Myanmar (Burmese)
Nagm	Nag Mundari
Nand	Nandinagari
Narb	Old North Arabian (Ancient North Arabian)
Nbat	Nabataean
Newa	Newa, Newar, Newari, Nep\u0101la lipi
Nkdb	Naxi Dongba (na\xB2\xB9\u0255i\xB3\xB3 to\xB3\xB3ba\xB2\xB9, Nakhi Tomba)
Nkgb	Nakhi Geba (na\xB2\xB9\u0255i\xB3\xB3 g\u028C\xB2\xB9ba\xB2\xB9, 'Na-'Khi \xB2Gg\u014F-\xB9baw, Nakhi Geba)
Nkoo	N\u2019Ko
Nshu	N\xFCshu
Ogam	Ogham
Olck	Ol Chiki (Ol Cemet\u2019, Ol, Santali)
Orkh	Old Turkic, Orkhon Runic
Orya	Oriya (Odia)
Osge	Osage
Osma	Osmanya
Ougr	Old Uyghur
Palm	Palmyrene
Pauc	Pau Cin Hau
Pcun	Proto-Cuneiform
Pelm	Proto-Elamite
Perm	Old Permic
Phag	Phags-pa
Phli	Inscriptional Pahlavi
Phlp	Psalter Pahlavi
Phlv	Book Pahlavi
Phnx	Phoenician
Piqd	Klingon (KLI pIqaD)
Plrd	Miao (Pollard)
Prti	Inscriptional Parthian
Psin	Proto-Sinaitic
Qaaa-Qabx	Reserved for private use (range)
Ranj	Ranjana
Rjng	Rejang (Redjang, Kaganga)
Rohg	Hanifi Rohingya
Roro	Rongorongo
Runr	Runic
Samr	Samaritan
Sara	Sarati
Sarb	Old South Arabian
Saur	Saurashtra
Sgnw	SignWriting
Shaw	Shavian (Shaw)
Shrd	Sharada, \u015A\u0101rad\u0101
Shui	Shuishu
Sidd	Siddham, Siddha\u1E43, Siddham\u0101t\u1E5Bk\u0101
Sind	Khudawadi, Sindhi
Sinh	Sinhala
Sogd	Sogdian
Sogo	Old Sogdian
Sora	Sora Sompeng
Soyo	Soyombo
Sund	Sundanese
Sunu	Sunuwar
Sylo	Syloti Nagri
Syrc	Syriac
Syre	Syriac (Estrangelo variant)
Syrj	Syriac (Western variant)
Syrn	Syriac (Eastern variant)
Tagb	Tagbanwa
Takr	Takri, \u1E6C\u0101kr\u012B, \u1E6C\u0101\u1E45kr\u012B
Tale	Tai Le
Talu	New Tai Lue
Taml	Tamil
Tang	Tangut
Tavt	Tai Viet
Telu	Telugu
Teng	Tengwar
Tfng	Tifinagh (Berber)
Tglg	Tagalog (Baybayin, Alibata)
Thaa	Thaana
Thai	Thai
Tibt	Tibetan
Tirh	Tirhuta
Tnsa	Tangsa
Toto	Toto
Ugar	Ugaritic
Vaii	Vai
Visp	Visible Speech
Vith	Vithkuqi
Wara	Warang Citi (Varang Kshiti)
Wcho	Wancho
Wole	Woleai
Xpeo	Old Persian
Xsux	Cuneiform, Sumero-Akkadian
Yezi	Yezidi
Yiii	Yi
Zanb	Zanabazar Square (Zanabazarin D\xF6rb\xF6ljin Useg, Xewtee D\xF6rb\xF6ljin Bicig, Horizontal Square Script)
Zinh	Code for inherited script
Zmth	Mathematical notation
Zsym	Symbols
Zsye	Symbols (emoji variant)
Zxxx	Code for unwritten documents
Zyyy	Code for undetermined script
Zzzz	Code for uncoded script
`,Kw=K6.split(`
`).map(t=>t.split("	"));var sM=/^(?<lang>[a-z]{2})(?:[-_]?(?<script>[a-z]{4}))?[-_]?(?<locale>[a-z0-9]{0,2})$/i,oM=new Map(iM.map(t=>{let[e,n,r=""]=t,i=e.match(sM)?.groups?.locale||"",s={code:e,language:n,country:r,locale:i,lang:e.replace(/-.*/,"")};return[e,s]})),aM=new Map([...oM.values()].map(({lang:t,language:e})=>[t,{lang:t,language:e}]));aM.set("lorem",{lang:"lorem",language:"Lorem-Ipsum"});aM.set("lorem-ipsum",{lang:"lorem-ipsum",language:"Lorem-Ipsum"});var $se=new Map([...oM.values()].map(({locale:t,country:e})=>[t,{locale:t,country:e}])),Vse=new Map(Kw.map(([t,e])=>[t,{script:t,scriptName:e}])),Hse=new Map(Kw.map(([t])=>[t.toLowerCase(),t])),$6=Object.freeze({lang:"lorem",locale:"",script:""}),V6=Object.freeze({lang:"lorem-ipsum",locale:"",script:""}),H6=/^lorem(?:[-_]?ipsum)?$/i;function $w(t,e=!1){let n=cM(t);return n?uM(n):e?void 0:t}function z6(t){let e=t.slice(0,1),n=t.slice(1);return e.toUpperCase()+n.toLowerCase()}function cM(t){t=t.trim();let e=t.match(sM);if(!e)return G6(t);let{lang:n="",script:r="",locale:i=""}=e.groups||{};return{lang:n.toLowerCase(),script:z6(r),locale:i.toUpperCase()}}function G6(t){return t.toLowerCase()==="lorem"?$6:H6.test(t)?V6:void 0}function uM({lang:t,locale:e,script:n}){return t+(n&&"-"+n)+(e&&"-"+e)}function Eh(t=""){return Array.isArray(t)&&(t=t.join(",")),J6(t).join(",")}function J6(t=""){return t.replace(/[|;\s]/g,",").replace(/[*]/g,"").split(",").map(e=>$w(e)).map(e=>e.trim()).filter(e=>!!e).filter(eo())}var X6=["--nolazy","--inspect=60048"],Y6=Eu+"Server",lM="||",kh=class t{client;import=new Set;languageIds;allowedSchemas;serverApi;disposables=tt();broadcasterOnSpellCheckDocument=bh();broadcasterOnDocumentConfigChange=bh();broadcasterOnBlockFile=bh();ready=new Dh;diagEmitter=new Fi.EventEmitter;constructor(e,n){let r=e.asAbsolutePath("packages/_server/dist/main.cjs"),i={enabledLanguageIds:Po(Be.enabledLanguageIds,Ns.Workspace),enableFiletypes:Po(Be.enableFiletypes,Ns.Workspace),enabledFileTypes:Po(Be.enabledFileTypes,Ns.Workspace),allowedSchemas:Po(Be.allowedSchemas,Ns.Workspace)||xm,enabledSchemes:Po(Be.enabledSchemes,Ns.Workspace)};this.allowedSchemas=new Set(Fm(i)),Em.clear(),this.allowedSchemas.forEach(l=>Em.add(l)),this.languageIds=new Set([...n,...jL,...Pm(i)]);let s=(l,d)=>{this.diagEmitter.fire({uri:l,diagnostics:d})},o=[...this.languageIds],c={documentSelector:[...this.allowedSchemas].flatMap(l=>o.map(d=>({language:d,scheme:l}))),diagnosticCollectionName:Y6,synchronize:{configurationSection:[Dr,"search"]},middleware:{handleDiagnostics:s}},u=this.calcServerArgs(),f={execArgv:u},g={execArgv:[...u,...X6]},p={run:{module:r,transport:at.TransportKind.ipc,options:f},debug:{module:r,transport:at.TransportKind.ipc,options:g}};this.registerDisposable(this.broadcasterOnDocumentConfigChange.listen(l=>this.clearCacheGetConfigurationForDocument(l.uris))),this.client=new at.LanguageClient("cspell","Code Spell Checker Server",p,c),this.client.registerProposedFeatures(),this.serverApi=nM(this.client),e.subscriptions.push(this.serverApi),this.initWhenReady()}start(){return this.ready.isPending()&&this.ready.attach(this.client.start()),this.ready.promise}async restart(){try{pr.log("Restarting the server"),await this.client.restart(),pr.log("Server restarted")}catch(e){pr.error(`Failed to restart the server: ${ea(e).message}`)}}async isSpellCheckEnabled(e){let{uri:n,languageId:r=""}=e;return!n||!r?{uri:n}:{...await this.serverApi.isSpellCheckEnabled({uri:n.toString(),languageId:r}),uri:n}}async getConfigurationTargets(e){let{uri:n,languageId:r}=e||{},i={configTargets:[]};try{let s=Hw(n);return!n||!s.uri?await this.serverApi.getConfigurationTargets({workspaceConfig:s}):await this.serverApi.getConfigurationTargets({uri:n.toString(),languageId:r,workspaceConfig:s})}catch(s){return console.error(`Failed to get configuration for document: ${n} ${r} ${s}`),i}}#e=this.factoryGetConfigurationForDocument();getConfigurationForDocument(e,n){return this.#e(e,n)}async _getConfigurationForDocument(e,n){let{uri:r,languageId:i}=e||{},s={enabled:void 0,enabledVSCode:void 0,configFiles:[],configTargets:[],fileEnabled:!1,fileIsIncluded:!1,fileIsExcluded:!1};try{let o=Hw(r);return!r||!o.uri?await this.serverApi.getConfigurationForDocument({workspaceConfig:o,fields:n}):await this.serverApi.getConfigurationForDocument({uri:r.toString(),languageId:i,workspaceConfig:o,fields:n})}catch(o){return console.error(`Failed to get configuration for document: ${r} ${i} ${o}`),s}}cacheGetConfigurationForDocument=new Map;factoryGetConfigurationForDocument(){return(e,n)=>{let r=e?.uri?.toString()+lM+Object.keys(n).sort().join(","),i=this.cacheGetConfigurationForDocument.get(r);if(i)return i;let s=this._getConfigurationForDocument(e,n);return this.cacheGetConfigurationForDocument.set(r,s),s}}clearCacheGetConfigurationForDocument(e){if(!e){this.cacheGetConfigurationForDocument.clear();return}let n=new Set(e.map(r=>Fi.Uri.parse(r).toString()));for(let r of this.cacheGetConfigurationForDocument.keys()){if(!r)continue;let i=r?.split(lM)[0];n.has(i)&&this.cacheGetConfigurationForDocument.delete(r)}}notifySettingsChanged(){return this.clearCacheGetConfigurationForDocument(),setTimeout(()=>this.clearCacheGetConfigurationForDocument(),250),io(this.whenReady(()=>this.serverApi.notifyConfigChange()),"notifySettingsChanged")}registerConfiguration(e){return ln(this.whenReady(()=>this.serverApi.registerConfigurationFile(e)),"registerConfiguration")}get diagnostics(){return this.client&&this.client.diagnostics||void 0}triggerSettingsRefresh(){return this.notifySettingsChanged()}async whenReady(e){return await this.onReady(),await e()}onReady(){return this.ready.promise}static create(e){return Promise.resolve(Fi.languages.getLanguages().then(n=>new t(e,n)))}registerDisposable(...e){this.disposables.push(...e)}dispose(){this.client.stop(),this.disposables.dispose()}calcServerArgs(){return[]}onSpellCheckDocumentNotification(e){return this.broadcasterOnSpellCheckDocument.listen(e)}onDocumentConfigChangeNotification(e){return this.broadcasterOnDocumentConfigChange.listen(e)}onBlockFile(e){return this.broadcasterOnBlockFile.listen(e)}async requestSpellingSuggestionsCodeActions(e,n,r){let i={textDocument:at.TextDocumentIdentifier.create(e.uri.toString()),range:jw(n),context:at.CodeActionContext.create(r.map(UL))},s=await tM(this.client,i);return s?s.filter(LL).map(ML):[]}async requestSpellingSuggestions(e,n){let r={uri:n.uri.toString()};return this.serverApi.spellingSuggestions(e,r)}onDiagnostics(e){return es(this.diagEmitter.event(e))}async initWhenReady(){await this.onReady(),this.registerHandleNotificationsFromServer(),this.registerHandleOnWorkspaceConfigForDocumentRequest()}registerHandleOnWorkspaceConfigForDocumentRequest(){this.registerDisposable(this.serverApi.onWorkspaceConfigForDocumentRequest(Q6))}registerHandleNotificationsFromServer(){this.registerDisposable(this.serverApi.onSpellCheckDocument(e=>this.broadcasterOnSpellCheckDocument.send(e)),this.serverApi.onDocumentConfigChange(e=>this.broadcasterOnDocumentConfigChange.send(e)),this.serverApi.onBlockFile(e=>this.broadcasterOnBlockFile.send(e)))}};function Q6(t){let{uri:e}=t,n=Fi.Uri.parse(e);return Hw(n)}function Hw(t){let e=kf(t),n=vA(e),r=Fh(e,["words","userWords","ignoreWords"]),i=Fi.workspace.workspaceFile?.toString(),s=n&&Fi.workspace.getWorkspaceFolder(n)?.uri.toString(),o=i!==void 0,a=Vw(r.userWords,o),c=Vw(r.words,o),u=Vw(r.ignoreWords,o);return c.user=a.user,{uri:n?.toString(),workspaceFile:i,workspaceFolder:s,words:c,ignoreWords:u}}function Vw(t,e){if(!t)return{};let{globalValue:n,workspaceValue:r,workspaceFolderValue:i}=t;return{user:n!==void 0||void 0,workspace:r!==void 0||void 0,folder:e&&(i!==void 0||void 0)}}var fl=class{constructor(e,n=1e3,r=5e3){this.getConfigurationForDocument=e;this.staleTimeMs=n;this.maxAgeMs=r;this.configs=new Map}configs=new Map;get(e){let n=this.configs.get(e.toString());if(!n||!n.config||this.isTooOld(n)){this.fetch(e);return}return this.isState(n)||this.fetch(e),n.config}set(e,n){let r=e.toString(),i=this.configs.get(r)||{config:n,timestamp:performance.now(),pending:void 0};i.config=n,this.configs.set(r,i)}delete(e){let n=e.toString();return this.configs.delete(n)}clear(){this.configs.clear()}async fetchAsync(e,n){try{let r=await this.getConfigurationForDocument(e);return n.config=r,n.timestamp=performance.now(),n.pending=void 0,r}finally{n.pending=void 0,this.cleanup()}}fetch(e){let n=e.toString(),r=this.configs.get(n)||{config:void 0,timestamp:performance.now(),pending:void 0};if(r.pending)return r.pending;this.configs.set(n,r);let i=this.fetchAsync(e,r);return r.pending=i,i}isState(e){return e.timestamp+this.staleTimeMs>performance.now()}isTooOld(e){return e.timestamp+this.maxAgeMs<performance.now()}cleanup(){for(let[e,n]of this.configs)!n.pending&&this.isTooOld(n)&&this.configs.delete(e)}};var on=require("vscode"),Dr=Yt,koe=en.ConfigurationTarget.Global,Ns={Default:"defaultValue",Global:"globalValue",Workspace:"workspaceValue",Folder:"workspaceFolderValue"},fM=["defaultValue","globalValue","workspaceValue","workspaceFolderValue"],Z6=new Map(fM.map((t,e)=>[t,e]));function pM(t){return[Dr,t].filter(e=>!!e).join(".")}function zi(t,e){return pl(e).get(Dr,{})[t]}function Po(t,e){return e5(t,e).value}function e5(t,e){e=o5(e);let n=t5(t,e.resource);return c5(n,e.scope)}function t5(t,e){return n5(e,t)}function Jw(t){return pl(t).inspect(Dr)||{key:Dr}}function n5(t,e){let n=pl(t),r=[Dr,e].join(".");return n.inspect(r)||{key:r}}function r5(t,e){let n=[Dr,e].join(".");return t.inspect(n)||{key:n}}function Fh(t,e){let n=pl(t),r={};for(let i of e){let s={[i]:r5(n,i)};Object.assign(r,s)}return r}function i5(t){return typeof t=="object"&&t.target!==void 0}var Foe={[en.ConfigurationTarget.Global]:"globalValue",[en.ConfigurationTarget.Workspace]:"workspaceValue",[en.ConfigurationTarget.WorkspaceFolder]:"workspaceFolderValue"},Poe={[en.ConfigurationTarget.Global]:"user",[en.ConfigurationTarget.Workspace]:"workspace",[en.ConfigurationTarget.WorkspaceFolder]:"folder"};function s5(t){return typeof t=="object"}function o5(t){return s5(t)?{scope:t.scope,resource:t.scope===Ns.Folder?a5(t.resource):void 0}:{scope:t,resource:void 0}}function a5(t){if(t)return en.workspace.getWorkspaceFolder(t)?.uri}function c5(t,e){for(let n=Z6.get(e);n!==void 0&&n>=0;n-=1){let r=fM[n],i=t[r];if(i!==void 0)return{scope:r,value:i}}return{scope:"defaultValue",value:void 0}}function pl(t){return en.workspace.getConfiguration(void 0,p5(t))}function Xw(t){return i5(t)?t:{target:t,uri:void 0}}function Yw(t,e,n,r){let i={},s=Fh(e,n),o=r?u5:l5;for(let a of n)o(i,t,a,s);return i}function u5(t,e,n,r){let i=r[n],s=f5(e,i);s!==void 0&&(t[n]=s)}function l5(t,e,n,r){let i=r[n],s=d5(e,i);s!==void 0&&(t[n]=s)}function d5(t,e){if(e!==void 0)switch(t){case en.ConfigurationTarget.Global:return e.globalLanguageValue??e.globalValue;case en.ConfigurationTarget.Workspace:return e.workspaceLanguageValue??e.workspaceValue;case en.ConfigurationTarget.WorkspaceFolder:return e.workspaceFolderLanguageValue??e.workspaceFolderValue}}function f5(t,e){if(e===void 0)return;let n=Gw(e.defaultValue,e.defaultLanguageValue,e.globalValue,e.globalLanguageValue);if(t===en.ConfigurationTarget.Global||(n=Gw(n,e.workspaceValue,e.workspaceLanguageValue),t===en.ConfigurationTarget.Workspace))return n;if(n=Gw(n,e.workspaceFolderValue,e.workspaceFolderLanguageValue),t!==en.ConfigurationTarget.WorkspaceFolder)throw new Error(`Unknown Config Target "${t}"`);return n}function Gw(...t){let e;for(let n of t)if(n!==void 0){if(typeof e!="object"||typeof n!="object"||Array.isArray(n)||Array.isArray(e)){e=n;continue}e=Object.assign({},e,n)}return e}async function Qw(t,e,n,r,i){let s=Yw(t,e,n,i),o=r(s),a=pl(e);await Object.entries(o).map(([c,u])=>a.update(`${Yt}.${c}`,u,t))}function p5(t){return h5(t)?kf(dM(t)):g5(t)?hM(t.uri)?t:{...t,uri:dM(t.uri)}:t}function dM(t){return hM(t)?t:en.Uri.parse(t.toString())}function h5(t){if(!t||typeof t!="object")return!1;let e=t;return e.authority!==void 0&&e.fragment!==void 0&&e.path!=null&&e.query!=null&&e.scheme!=null}function hM(t){return t instanceof en.Uri}function g5(t){return!t||typeof t!="object"?!1:t.uri!==void 0}function gM(t,e,n){return new Zw(t,e,n)}var Zw=class{constructor(e,n,r){this.target=e;this.scope=n;this.useMerge=r;this.name=Ar(e)}name;async read(e){return Yw(this.target,this.scope,e,this.useMerge)}async write(e){await Qw(this.target,this.scope,[],()=>e,!1)}async update(e,n){await Qw(this.target,this.scope,n,e,this.useMerge)}};var Ph=class{setValue(e,n){return this.update(gs(e,n))}updateValue(e,n){return this.update(gs(e,n))}};function hl(t,e){let n=y5(t)?t:xf(t),r=!!zi(Be.autoFormatConfigFile,n.uri);return new Ro(n,e,r)}function Rh(t,e,n){let r=m5(t)?t:gM(t,e,!!n);return new Ja(r)}function m5(t){return typeof t=="object"&&!!t.read&&!!t.write}function y5(t){let e=t;return!!e.update&&!!e.uri}var Ro=class t extends Ph{constructor(n,r,i){super();this.configRW=n;this.formatConfig=i;this.name=r||Pr(n.uri),this.kind="cspell",this.configFileUri=n.uri}name;kind;defaultDictionaryScope;configFileUri;getValue(n){return this.configRW.read([n])}async update(n){let r=this.formatConfig,i=this.configFileUri,s=YC(i);if(s&&s.isDirty){let o=mM.posix.basename(i.path),a=await zt.window.showInformationMessage(`Save "${o}"?`,"Yes","No","Open");if(a==="Open"){await zt.window.showTextDocument(s);return}if(a!=="Yes")return;await s.save(),await zt.workspace.save(s.uri)}await this.configRW.update(S5(n),n.keys),r&&await C5(i)}static isCSpellConfigRepository(n){return n instanceof t}};async function C5(t){let e=await zt.workspace.openTextDocument(t),n=await zt.commands.executeCommand("vscode.executeFormatDocumentProvider",t);if(!n||!n.length)return;let r=new zt.WorkspaceEdit;r.set(t,n),await zt.workspace.applyEdit(r),await zt.workspace.save(e.uri),await D5(1e3),e.isDirty&&await zt.workspace.save(e.uri)}var Ja=class t extends Ph{constructor(n){super();this.rw=n;this.name=n.name,this.defaultDictionaryScope=Ar(n.target),this.kind="vscode"}name;kind;defaultDictionaryScope;get target(){return this.rw.target}get scope(){return this.rw.scope}getWorkspaceFolder(){if(this.defaultDictionaryScope==="user")return;if(this.defaultDictionaryScope==="workspace")return zt.workspace.workspaceFolders?.[0];let n=this.scope;if(n)return v5(n)?n:eT(n)?zt.workspace.getWorkspaceFolder(n):b5(n)?zt.workspace.getWorkspaceFolder(n.uri):zt.workspace.workspaceFolders?.[0]}update(n){let{fn:r,keys:i}=this.mappers(n.keys,n.updateFn);return this.rw.update(r,i)}getValue(n){return this.rw.read([n])}mappers(n,r){if(this.target!==zt.ConfigurationTarget.Global)return{fn:r,keys:n};let i=new Set(n);i.has(Be.words)&&i.add(Be.userWords);function s(c){let{userWords:u,words:f,...g}=c,p={...g};return(i.has(Be.userWords)||u||f)&&(p.words=u?.concat(f??[])??f),p}function o(c){let{words:u,userWords:f,...g}=c,p={...g};return Object.keys(c).includes(Be.words)&&(p.words=void 0,p.userWords=u?.concat(f||[])),p}return{fn:c=>o(r(s(c))),keys:[...i]}}static isVSCodeRepository(n){return n instanceof t}};function v5(t){if(!t)return!1;let e=t;return eT(e.uri)&&typeof e.name=="string"&&typeof e.index=="number"}function S5(t){return e=>t.updateFn(jE(e,t.keys))}function b5(t){return typeof t!="object"?!1:eT(t.uri)}function eT(t){if(typeof t!="object")return!1;if(t instanceof zt.Uri)return!0;let e=t;return e.scheme!==void 0&&e.authority!==void 0&&e.path!==void 0}function D5(t){return new Promise(e=>setTimeout(e,t))}var w5=new Set(["dictionary","cspell","vscode"]);function gl(t){if(!w5.has(t.kind))throw new Error(`Unknown target ${t.kind}`);switch(t.kind){case"dictionary":return;case"cspell":return hl(Xe(t.configUri),t.name);case"vscode":return Rh(cd(t.scope),t.configScope||t.docUri,!!t.useMerge)}}function yM(t,e){let r=e.map(vM).map(i=>i.update(t));return Promise.all(r).then(()=>{})}function CM(t,e){let n=e.map(async r=>{let s=await vM(r).getValue(t);return[r,s]});return Promise.all(n)}function vM(t){let e=gl(t);if(e===void 0)throw new tT(t);return e}var tT=class extends Error{constructor(n){super(`Cannot find appropriate config repository for ${n.kind}:${n.name}`);this.target=n}};function Ah(t,e){return CM(e,t)}function ml(t,e,n,r){t=r?pd(t,r):t;let i=gs(e,n);return yM(i,t)}function nT(t){let e=t.map(i=>i.scope),n=Nc(e,!0),r=[];return n.map(i=>t.filter(s=>s.scope===i)).forEach(i=>i.forEach(s=>r.push(s))),r}async function Xa(t,e,n){t=ok(t,e);let r=await dd(t);if(!(!r||!r.length))return ml(r,e,n)}function SM(t,e,n){let r;for(let[i,s]of[...t].reverse()){if(i===e)break;r??=s[n]}return r}function rT(t){let{targets:e,scopes:n}=t,r=new Set(Nc(n)),i=nT(e),s=i.filter(o=>r.has(o.scope));return{targets:e,possibleScopes:n,orderedTargets:i,possibleTargets:s}}var Os=require("vscode");var Ih=Ue(require("vscode"),1);function T5(t){let e=t.toString();return Ih.window.visibleTextEditors.map(r=>r.document).filter(r=>!!r).filter(r=>r.uri.toString()===e)[0]}function bM(t){let e=t.toString();return((Ih.workspace||{}).textDocuments||[]).filter(i=>i.uri.toString()===e)[0]||T5(t)}function _h(t){switch(t.kind){case"vscode":return x5(t);case"cspell":return E5(t);case"dictionary":return k5(t)}}function x5(t){let{name:e,kind:n,scope:r,docUri:i}=t;return{name:e,kind:n,scope:r,docUri:Xe(i),configScope:void 0}}function E5(t){let{name:e,kind:n,scope:r,configUri:i,docUri:s}=t;return{name:e,kind:n,scope:r,docUri:Xe(s),configUri:Xe(i)}}function k5(t){let{name:e,kind:n,scope:r,dictionaryUri:i,docUri:s}=t;return{name:e,kind:n,scope:r,docUri:Xe(s),dictionaryUri:Xe(i)}}async function Nh(t,e,n,r){let i=r?[Om(t)]:JE(t),s=Lc(ro,Oc,{dictionary:!1});return e=Xe(e),{targets:(await(e?Ao(e,s):Oh(Os.window.activeTextEditor?.document,s))).map(a=>a.kind==="vscode"?{...a,configScope:n}:a),scopes:i}}async function DM(t,e,n){let r=await Nh(t,e,n),{targets:i,scopes:s}=r,o=new Set(s);return i.filter(a=>o.has(a.scope))}async function Oh(t,e=ld){let{uri:n,languageId:r}=t||{},s=(await rt("client").getConfigurationForDocument({uri:n,languageId:r},{})).configTargets.map(_h);return pd(s,e)}async function Ao(t,e=ld){t=Xe(t);let n=t?await F5(t):Os.window.activeTextEditor?.document;return Oh(n,e)}async function F5(t){let e=bM(t);return e||((await Os.workspace.fs.stat(t)).type!==Os.FileType.File?{uri:t}:await Os.workspace.openTextDocument(t))}var Ya="enabled";function Io(t,e){let{possibleTargets:n}=rT(t);return Xa(n,Ya,e)}async function Qa(t){let{possibleTargets:e,orderedTargets:n}=rT(t),r=new Map(await Ah(n,Ya)),i=e.filter(g=>r.get(g)?.[Ya]!==void 0);if(!e.length)return;let s=i[i.length-1]??e[e.length-1],o=r.get(s)?.[Ya],c=SM(r,s,Ya)??!0,u=o??c,f=c!==u?void 0:!u;return ml([s],Ya,()=>f)}async function Lh(t,e,n,r){n=n.map(g=>({...g,useMerge:g.useMerge??g.kind==="vscode"}));let i=new Set(Nc(r)),s=new Set(nT(n)),o=new Map(await Ah([...s],"language")),a=new Set([...s].filter(g=>i.has(g.scope)));if(!e)[...o].filter(([g,p])=>!A5(t,p.language)).forEach(([g])=>a.delete(g));else{let g=[...a],p=new Set([...o].filter(([d,h])=>I5(t,h.language)).map(([d])=>d)),l=!1;for(let d of a)l=l||p.has(d),l&&a.delete(d);a.size||g.filter(d=>!p.has(d)).forEach(d=>a.add(d))}let c=a.size>1?await fd([...a]):[...a][0];if(!c)return;let u=_5("language",c,o);return ml([c],"language",e?g=>P5(t,g||u):g=>R5(t,g))}function Ls(t){return Eh(t).split(",").filter(e=>!!e)}function P5(t,e){let n=Ls(t),r=new Set(Ls(e||""));return n.forEach(i=>r.add(i)),[...r].join(",")||void 0}function R5(t,e){let n=Ls(t),r=new Set(Ls(e||""));return n.forEach(i=>r.delete(i)),[...r].join(",")||void 0}function A5(t,e){if(!t||!e)return!1;let n=new Set(Ls(t)),r=Ls(e);for(let i of r)if(n.has(i))return!0;return!1}function I5(t,e){if(!t||!e)return!1;let n=new Set(Ls(e)),r=Ls(t);for(let i of r)if(!n.has(i))return!1;return!0}function _5(t,e,n){let r=[...n].reverse(),i;for(let[s,o]of r)if(i??=o[t],s===e)break;return i}function N5(t){return t&&Ms.workspace.getWorkspaceFolder(t)||Za.workspace.workspaceFolders?.[0]}function iT(t,e){let n=Ui(e);return Xa(t,"ignoreWords",r=>km(n.concat(r||[]).sort()))}function wM(t,e){return{...e,...t}}function Mh(t,e){return Xa(e,"enabledFileTypes",r=>wM(t,r))}var O5={version:"0.2",ignorePaths:[],dictionaryDefinitions:[],dictionaries:[],words:[],ignoreWords:[],import:[]};async function L5(t,e){let n=await sv(t);if(!e&&n&&Object.keys(n).length>1){let r="Overwrite",i="Open";switch(await Ms.window.showWarningMessage("Configuration file already exists.",{modal:!0},r,i)){case r:break;case i:await Ms.window.showTextDocument(t);return;default:return}}return await ov(t,O5),t}async function M5(t){let e=Za.Uri.joinPath(t,"package.json");try{return(await Za.workspace.fs.stat(e)).type===Ms.FileType.File}catch{return!1}}function U5(t){return M5(t.uri)}var q5="Unable to determine location for configuration file.";async function sT(t,e){let n=N5(t);if(!n)throw new Error(q5);let r=new Set(yA);await U5(n)||r.delete("package.json");let i=await Ms.window.showQuickPick([...r],{title:"Choose config file"});if(!i)return;let s=Za.Uri.joinPath(n.uri,i);return await L5(s,e),s}async function Us(t,e){let n=await Ao(e);return Mh(t,n)}function j5(t,e){return Xa(e,"enabledSchemes",r=>wM(t,r))}async function TM(t,e){let n=await Ao(e);return j5(t,n)}function Uh(t,e){if(B5(t))return t;let n=t.match(/^\/(.*)\/([gimsuy]*)$/);return n?new RegExp(n[1],n[2]||void 0):new RegExp(t,e)}function B5(t){return t instanceof RegExp}var oT=require("vscode");function qs(t,e,n=jm){let r=Promise.resolve(t).then(()=>{});return it(r,e,n)}function qh(t){return qs(oT.window.showErrorMessage(t),"showErrorMessage helper")}function W5(...t){return io(oT.window.showInformationMessage(...t),"pvShowInformationMessage")}function aT(t){return qs(W5(t),"pvShowInformationMessage")}var K5=Be.fixSpellingWithRenameProvider,$5=Be["advanced.feature.useReferenceProviderWithRename"],V5=Be["advanced.feature.useReferenceProviderRemove"];function H5(t,e,n){let r=e.toString();return t.filter(i=>(!n||i.range.contains(n))&&i.uri.toString()===r)}async function z5(t,e){try{let n=await Rn.commands.executeCommand("vscode.executeReferenceProvider",t,e.start);return!Array.isArray(n)||!n.length?void 0:n}catch{return}}async function G5(t,e,n){if(n){let i=await z5(t.uri,e);if(i!==void 0)return{locations:i,refUsed:!0}}let r=t.getWordRangeAtPosition(e.start);if(!(!r||!r.contains(e)))return{locations:[new Rn.Location(t.uri,r)],refUsed:!1}}async function J5(t,e,n){let r=await G5(t,e,n);if(!r)return;let i=H5(r.locations,t.uri,e)[0];if(i)return{range:i.range,referenced:r.refUsed}}function X5(t,e){function n(r){return t.asTextEdit(r)}return e.map(n)}function Y5(t,e){let n=new Rn.WorkspaceEdit;return n.set(t,e),n}async function Q5(t,e,n){let{range:r,newText:i}=e;if(r.start.line!==r.end.line)return;let{useReference:s,removeRegExp:o}=n,a=await J5(t,r,s);if(!a||!a.range.contains(r)||!a.referenced)return;let c=a.range,u=c.start.character,f=r.start.character-u,g=r.end.character-u,p=t.getText(c),l=[p.slice(0,f),i,p.slice(g)].join(""),d=o?l.replace(o,""):l,h=await ln(Rn.commands.executeCommand("vscode.executeDocumentRenameProvider",t.uri,r.start,d),"attemptRename");return h?.size&&h||void 0}async function xM(t,e,n){let r=rt("client").client.protocol2CodeConverter;return e7(t,X5(r,n),e)}function cT(t){let e=Rn.workspace.getConfiguration(Dr,t),n=!!e.get(K5),r=!!e.get($5),i=n7(e.get(V5));return{useRename:n,useReference:r,removeRegExp:i}}async function Z5(t,e,n){if(e.length===1&&n.useRename){let r=e[0],i=await Q5(t,r,n);if(i)return i}return Y5(t.uri,e)}async function e7(t,e,n){let r=Di(t);if(!r)return qh(`Unable to find document: ${t}`);if(n&&r.version!==n)return qh("Spelling changes are outdated and cannot be applied to the document.");let i=cT(r),s=await uT(r,e,i);await FM(s,"Failed to apply spelling changes to the document.")}async function t7(t,e){return await lk(Rn.workspace.applyEdit(t),e)}function n7(t,e="g"){if(t)try{return Uh(t,e)}catch{console.log("Invalid Regular Expression: %s",t)}}async function EM(t,e,n,r){let i=Di(t);if(!i)return jh("Unable to find document.");for(let a of r)if(i.getText(a)!==e)return jh();let s=r.map(a=>new Rn.TextEdit(a,n));return await uT(i,s,cT(i))?void 0:jh()}async function Bh(t){t??=Rn.window.activeTextEditor?.document.uri;let e=ms(t)?.document||Di(t);if(!t||!e)return aT("Unable to fix spelling issues in current document, document not found.");let r=rt("issueTracker").getSpellingIssues(t)?.map(s=>({issue:s,suggestions:s.providedSuggestions()})).filter(({issue:s,suggestions:o})=>o?.[0]?.isPreferred&&!o?.[1]?.isPreferred&&s.word&&s.isIssueTypeSpelling()&&!s.isSuggestion()).filter(({issue:s})=>e.getText(s.range)===s.word).map(({issue:s})=>{let o=s.providedSuggestions()?.[0].word;return kM(o!==void 0),new Rn.TextEdit(s.range,o)});if(!r?.length){let s=Pr(t);return aT(`No auto fixable spelling issues found in ${s}.`)}let i=await uT(e,r,cT(e));await FM(i,"Failed to apply spelling changes to the document.")}function kM(t,e="A truthy value is expected."){if(!t)throw Error(e)}function r7(t){return t.sort((e,n)=>e.range.start.line-n.range.start.line||e.range.start.character-n.range.start.character)}function i7(t,e){let n=[];for(let r of e)r.range.intersection(t)&&n.push(r);return n}function s7(t,e,n){let r=t.get(e.uri);if(!r)return[];let i=new Set(n),s=new Set;for(let o of r){let a=i7(o.range,i);for(let c of a)s.add(c),i.delete(c)}return[...s]}function o7(t,e){for(let[n,r]of e)t.set(n,r)}async function a7(t,e,n){let r=new Set(r7(e)),i=new Rn.WorkspaceEdit;for(;r.size;){let s=r.size,o=r.values().next();if(o.done)break;let a=o.value,c=await Z5(t,[a],n);o7(i,c.entries());let u=s7(c,t,e);for(let f of u)r.delete(f);kM(s>r.size,"No progress was made.")}return i}async function uT(t,e,n){let r=rt("eventLogger");for(let s of e){let o=t.getText(s.range);o!==s.newText&&o&&s.newText&&r.logReplace(o,s.newText)}let i=await a7(t,e,n);return t7(i,"applyTextEditsToDocumentWithRename")}async function FM(t,e){return t||await jh(e),t}function jh(t){return qh(t||"Failed to apply spelling changes to the document.")}var Gi=require("vscode");var ec=Ue(require("vscode"),1);var AM=require("vscode");var PM=require("vscode");var c7=require("vscode");function lT(){let t=[];for(let e of PM.window.tabGroups.all)for(let n of e.tabs){let{label:r,input:i}=n;u7(i)&&t.push({tab:n,label:r,uri:i.uri})}return t}function u7(t){return!t||typeof t!="object"?!1:"uri"in t}function RM(t){let e=t.toString();return lT().some(r=>r.uri.toString()===e)}var l7=new Set(["vscode-scm"]);function Wh(t){if(!t)return()=>!0;let e=lT(),n=new Set([...e.map(r=>r.uri.toString()),...AM.window.visibleTextEditors.map(r=>r.document.uri.toString())]);return r=>n.has(r.toString())||l7.has(r.scheme)}function Wr(t,e){let n=Ac().issueTracker;if(!t)return[];let r=n.rawIssues(t);return(e!==void 0?r?.filter(s=>s.isIssueType(e)):r)?.map(s=>s.diag)||[]}function IM(t,e=Eu){return t.filter(n=>n.source===e)}function _M(t,e,n){return!t||!n?void 0:dT(t,e,n)?.map(i=>t.getText(i))}function dT(t,e,n){if(!t||!n)return;let r=e&&t.getText(e);return n.map(s=>s.range).map(s=>d7(r,e,s)).filter(Cn)}function d7(t,e,n){if(!e||t===void 0||n.contains(e))return n;let r=e.intersection(n);if(!(!r||r.isEmpty))return CA(t)?e:n}function NM(t,e){let n=tt(),r=Ac().issueTracker,i=ec.default.languages.createDiagnosticCollection(Eu),s,o=!0;function a(){let g=ec.default.workspace.getConfiguration(Yt);o=!g.get(Be.useCustomDecorations),s=g.get(Be.doNotUseCustomDecorationForScheme)}function c(g){let p=g.scheme,l=s?.[p];return l?!!l:o}function u(g){if(!t){i.clear();return}g||(i.clear(),g=r.getUrisWithIssues()),i.forEach(l=>{c(l)||i.delete(l)});let p=Wh(!0);for(let l of g){if(!c(l)){i.set(l,void 0);continue}let d=p(l)&&r.getSpellingIssues(l)||void 0;i.set(l,d?.map(h=>h.diag))}for(let[l]of i)c(l)||p(l)||i.set(l,void 0)}function f(g){u()}return n.push(i,e(g=>{t=g,u()}),ec.default.workspace.onDidChangeConfiguration(a),ec.default.window.onDidChangeVisibleTextEditors(f),ec.default.window.tabGroups.onDidChangeTabs(f),r.onDidChangeDiagnostics(({uris:g})=>u(g))),a(),n}async function fT(t,e,n){let r=ms(t),i=r?.document,s=r?.selection,o=e&&qL(e),a=o||s&&i?.getWordRangeAtPosition(s.active),c=i?Wr(i.uri):void 0,u=dT(i,s,c),f=o||u?.[0]||a,g=f&&c?.filter(m=>!!m.range.intersection(f));if(!i||!s||!f||!g)return qs(Gi.window.showInformationMessage("Nothing to suggest."),"actionSuggestSpellingCorrections");if(zi(Be.suggestionMenuType,i)==="quickFix"&&r)return o&&(r.selection=new Gi.Selection(o.start,o.end)),await Gi.commands.executeCommand("editor.action.quickFix");let l=await pT(i,f,g);if(!l||!l.length)return qs(Gi.window.showInformationMessage(`No Suggestions Found for ${i.getText(f)}`),"actionSuggestSpellingCorrections");let d=l.map(m=>({label:m.title,_action:m})),h=await Gi.window.showQuickPick(d);if(h&&h._action.command){let{command:m,arguments:C=[]}=h._action.command;Gi.commands.executeCommand(m,...C)}}function pT(t,e,n){return rt("client").requestSpellingSuggestionsCodeActions(t,e,n)}var Pi=require("vscode");var OM=new Intl.Collator().compare;function MM(t,e){return async function(n,r){let i=await f7(t,n,r);if(!i)return;let s=Pi.window.activeTextEditor;await e(i.text,i.uri),await(s?.document&&Pi.window.showTextDocument(s.document))}}async function f7(t,e,n){if(n=n?Xe(n):e instanceof Pi.Uri?e:void 0,typeof e=="string"&&e)return{text:e,uri:n||Pi.window.activeTextEditor?.document.uri};let r=ms(n),i=r?.document,s=r?.selection,o=s&&i?.getWordRangeAtPosition(s.active),a=i?Wr(i.uri):void 0,c=Ui(_M(i,s,a)||[]);if(c.length){let p=s?.anchor.isEqual(s.active)&&c.length===1?c:await LM(c.sort(OM),{title:t,placeHolder:"Choose words"});return p?{text:p.join(" "),uri:i?.uri}:void 0}if(!o||!s||!i||!i.getText(o)){let p=await Pi.window.showInputBox({title:t,prompt:t});return p?{text:p,uri:i?.uri}:void 0}let u=s.contains(o)?i.getText(s):i.getText(o),f=Ui(u),g=f.length>1?await LM(f.sort(OM),{title:t,placeHolder:"Choose words"}):[await Pi.window.showInputBox({title:t,prompt:t,value:f[0]})];if(g)return{text:g.join(" "),uri:i.uri}}async function LM(t,e){if(t.length<=1){let i=await Pi.window.showInputBox({...e,value:t[0]});return i?[i]:void 0}let n=t.map(i=>({label:i,picked:!0}));return(await Pi.window.showQuickPick(n,{...e,canPickMany:!0}))?.map(i=>i.label)}var BM=require("node:util");var Kh=require("vscode");function UM(t){return gs("words",hT(t))}function qM(t){return gs("words",gT(t))}function hT(t=[]){return e=>{let n=uv(e||[]);return n.addWords(t),n.sort(),n.toString().split(`
`).slice(0,-1)}}function gT(t){return e=>{let n=uv(e||[]);return n.removeWords(t),n.sort(),n.toString().split(`
`).slice(0,-1)}}var js=require("vscode");async function jM(t,e){let n=new js.WorkspaceEdit,r=new js.Range(t.positionAt(0),t.positionAt(t.getText().length)),i=js.TextEdit.replace(r,e);n.set(t.uri,[i]);let s=await js.workspace.applyEdit(n);return s&&await t.save(),s}var p7=/(\.((gz|jsonc?|yaml|yml|c?js)$|trie\b)|^$|[/\\]$)/i,mT=class{constructor(e,n){this.uri=e;this.name=n??Pr(e)}name;addWords(e){return g7(e,this)}removeWords(e){return WM(gT(e),this)}},yT=class{constructor(e){this.rep=e;this.name=e.name}name;addWords(e){return this.rep.update(UM(e))}removeWords(e){return this.rep.update(qM(e))}};function $h(t,e){let{uri:n,name:r}=h7(t)?t:{uri:t,name:e};return new mT(n,r)}function h7(t){let e=t;return typeof e.name=="string"&&typeof e.uri=="object"}function yl(t){return new yT(t)}async function g7(t,e){return WM(hT(t),e)}async function WM(t,e){if(p7.test(e.uri.path))return Promise.reject(new Error(`Failed to add words to dictionary "${e.name}", unsupported format: "${qE(e.uri)}".`));try{await m7(e.uri);let n=await Kh.workspace.openTextDocument(e.uri),r=n.getText(),s=t(r.split(/\r?\n/g)).join(`
`).trim()+`
`;await jM(n,s)||await Kh.window.showInformationMessage(`Unable to add words to dictionary "${e.name}"`)}catch(n){let r=xE(n)?n.message:(0,BM.format)(n);return Promise.reject(new Error(`Failed to add words to dictionary "${e.name}", ${r}`))}}async function m7(t){await Ht.fileExists(t)||(await Ht.createDirectory(pi.dirname(t)),await Ht.writeFile(t,""))}var $M=Ue(require("node:assert"),1),Vh=require("vscode");var y7=Yt;function*VM(t,e){typeof e!="object"&&(yield[t,e]);for(let[n,r]of Object.entries(e))yield*VM(`${t}.${n}`,r)}var KM=new Map,HM=Object.freeze({usesConfigFile:!1,usesCustomDictionary:!1,hasIssues:!1,showCreateConfig:!1,showCreateDictionary:!1}),zM=Object.freeze({addWordToFolderDictionary:!1,addWordToWorkspaceDictionary:!1,addWordToUserDictionary:!1,addWordToFolderSettings:!1,addWordToWorkspaceSettings:!1,addWordToUserSettings:!1,addWordToDictionary:!1,addWordToCSpellConfig:!1,addIssuesToDictionary:!1,showSuggestions:!1,createCustomDictionary:!1,createCSpellConfig:!1,addIgnoreWord:!1}),C7={output:!1};async function GM(t){return _o(t,y7)}async function _o(t,e="cSpell.context"){(0,$M.default)(e.startsWith(Yt));let r=[...VM(e,t)].filter(([s,o])=>o!==KM.get(s)),i=r.map(([s,o])=>Vh.commands.executeCommand("setContext",s,o));r.forEach(([s,o])=>KM.set(s,o)),await Promise.all(i)}var CT=new WeakMap,v7=1e3;async function tc(t,e){let n={documentConfigContext:{...HM},editorMenuContext:{...zM}};if(!e){await GM(n);return}if(C7[e.uri.scheme]===!1)return;let r=e,i=CT.get(r);if(i)return i.stale=!i.pending,i.value;let s={value:S7(t,r),pending:!0,stale:!1};s.value.finally(()=>{s.pending=!1,setTimeout(o,v7)});function o(){CT.delete(r),s.stale&&tc(t,r)}return CT.set(r,s),s.value}async function S7(t,e){let n={documentConfigContext:{...HM},editorMenuContext:{...zM}},r=t.getConfigurationForDocument(e,{showCommandsInEditorContextMenu:!0,showSuggestionsLinkInEditorContextMenu:!0}),i=Wr(e.uri),s=await r,{agg:o,matrix:a,configFoundInWorkspace:c}=b7(s.configTargets),u=(o.dictionary||0)-(a.dictionary.user||0),f=!!o.cspell,g=u>0,p=i.length>0,l=i.length>1,d=!c||!o.cspell,h=!g,m=!!a.vscode.workspace,C=!!a.vscode.folder;n.documentConfigContext={usesConfigFile:f,usesCustomDictionary:g,hasIssues:p,showCreateConfig:d,showCreateDictionary:h};let D=!!s.settings?.showCommandsInEditorContextMenu;n.editorMenuContext.addWordToFolderDictionary=D&&p&&!!a.dictionary.folder,n.editorMenuContext.addWordToWorkspaceDictionary=D&&p&&!!a.dictionary.workspace,n.editorMenuContext.addWordToUserDictionary=D&&p&&!!a.dictionary.user,n.editorMenuContext.addWordToFolderSettings=D&&p&&C,n.editorMenuContext.addWordToWorkspaceSettings=D&&p&&m,n.editorMenuContext.addWordToUserSettings=D&&p&&!a.dictionary.user,n.editorMenuContext.addWordToDictionary=D&&p&&!!a.dictionary.unknown,n.editorMenuContext.addWordToCSpellConfig=D&&p&&f&&!g,n.editorMenuContext.addIssuesToDictionary=D&&p&&l,n.editorMenuContext.createCustomDictionary=D&&h,n.editorMenuContext.createCSpellConfig=D&&d,n.editorMenuContext.addIgnoreWord=D&&p,n.editorMenuContext.hasIssues=p,n.editorMenuContext.hasMultipleIssues=l,n.editorMenuContext.showSuggestions=(D||s.settings?.showSuggestionsLinkInEditorContextMenu||!1)&&p,await GM(n)}function b7(t){let e={},n={vscode:{},cspell:{},dictionary:{}},r=!1;for(let i of t)e[i.kind]=(e[i.kind]||0)+1,e[i.scope]=(e[i.scope]||0)+1,n[i.kind][i.scope]=(n[i.kind][i.scope]||0)+1,r=r||i.kind==="cspell"&&!!Vh.workspace.getWorkspaceFolder(Xe(i.configUri));return{agg:e,matrix:n,configFoundInWorkspace:r}}var zh=require("vscode");var JM=Ue(require("node:assert"),1);var Ri=require("vscode"),Hh=class t{constructor(e,n){this.uri=e;this.#e=n?.data,this.#n=n?.signature,(0,JM.default)(!n||n.id==="memento","Invalid memento data"),this.#t=Ys(),this.#r=D7(e,this.#i.bind(this))}#e;#t;#n;#r;keys(){return this.#e?Object.keys(this.#e):[]}get(e,n){return(this.#e?this.#e[e]:void 0)??n}async update(e,n){let r=[];if(typeof e=="string"){let i=e;this.#e=this.#e??{},n===void 0?delete this.#e[i]:this.#e[i]=n,r.push(i)}else{let i=e;r.push(...Object.keys(i)),this.#e={...this.#e,...i}}this.#n=`s${performance.now()}/${performance.now()}`,await t.#l(this.uri,{id:"memento",v:"v1",ts:Date.now(),signature:this.#n,data:this.#e}),this.#t.fire(r)}onDidChange(e){return this.#t.event(e)}dispose=()=>{this.#r.dispose()};#i(e){this.#s().catch(()=>{})}async#s(){let e=await t.#d(this.uri);if(!e){this.#e=void 0;return}e.signature!==this.#n&&(this.#e=e.data,this.#n=e.signature,this.#t.fire(void 0))}static async#l(e,n){let r=JSON.stringify(n,null,2);await Ri.workspace.fs.createDirectory(Ri.Uri.joinPath(e,"..")),await Ri.workspace.fs.writeFile(e,Buffer.from(r))}static async#d(e){try{let n=await Ri.workspace.fs.readFile(e),i=new TextDecoder().decode(n);return JSON.parse(i)}catch{return}}static async createMemento(e){let n=await t.#d(e);return new t(e,n)}};function D7(t,e){let n=Ri.Uri.joinPath(t,".."),r=t.path.split("/").slice(-1).join(""),i=Ri.workspace.createFileSystemWatcher(new Ri.RelativePattern(n,r));return i.onDidChange(e),i.onDidCreate(e),i.onDidDelete(e),i}function XM(t,e){return[Date.now(),0,"replace",1,t,e]}function YM(){return[Date.now(),0,"activate",1]}var vT=class{constructor(e){this.uriStorageDir=e;this.#t=Hh.createMemento(zh.Uri.joinPath(e,"eventLog.json")),this.#t.then(n=>this.#e=n)}#e;#t;#n=[];#r=void 0;#i=void 0;log(e){this.#n.push(e),this.queueFlush()}logActivate(){this.log(YM())}logReplace(e,n){this.log(XM(e,n))}get eventLog(){return this.#e?this.#e.get("log",[]):[]}queueFlush(){this.#i||(this.#i=setTimeout(()=>{this.#i=void 0,ln(this.flush(),"EventLogger.flush")},10))}flush(){let e=async()=>{if(!this.#n.length)return;let r=this.#e??await this.#t,i=r.get("machineId",zh.env.machineId),s=Date.now(),o=[...r.get("log",[]),...this.#n];this.#n=[],await r.update({machineId:i,ts:s,log:o})},n=this.#r?this.#r.then(e):e();return this.#r=n,n.finally(()=>{this.#r===n&&(this.#r=void 0)}),n}dispose(){this.#e?this.#e.dispose():this.#t.then(e=>e.dispose())}};function ST(t){return new vT(t)}var nc=require("vscode");var QM=require("vscode");async function Gh(t){return QM.env.openExternal(t.toString())}async function bT(){let t=nc.Uri.joinPath(Rm().extensionUri,"resources/pages/About the Spell Checker.md");return nc.commands.executeCommand("markdown.showPreview",null,[t],{lock:!0})}function DT(){return xT("resources/pages/Spell Checker Support Request.md")}function wT(){return xT("resources/pages/Spell Checker Report Issue.md")}function Cl(){return Gh("https://streetsidesoftware.com/sponsor/")}function TT(){return xT("resources/pages/Spell Checker Release Notes.md")}async function xT(t){return typeof t=="string"&&(t=nc.Uri.joinPath(Rm().extensionUri,t)),nc.commands.executeCommand("markdown.showPreview",null,[t],{lock:!0})}var Kr=require("vscode");var w7=`# Feedback

Thank you for providing feedback on the Spell Checker. Your feedback is important to us.

## How can the Spell Checker be improved?

<!-- Please provide details on how the Spell Checker can be improved. -->

## What issues are you experiencing?

<!-- Please provide details on the issues you are experiencing. -->

`;async function ET(){await Gh(T7())}function T7(){return x7({title:"Feedback",body:w7,labels:["feedback"]})}function x7(t){let e=new URL("https://github.com/streetsidesoftware/vscode-spell-checker/issues/new"),n=e.searchParams;return t?.title&&n.set("title",t.title),t?.body&&n.set("body",t.body),t?.labels&&n.set("labels",t.labels.join(",")),e}async function kT(){let t=["\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F\u2B50\uFE0F","\u2B50\uFE0F"],e=await Kr.window.showInformationMessage("How would you rate the Spell Checker?",...t);if(!e)return;let r=4-t.indexOf(e);if(r===1)return await Kr.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now")==="Open Issue"?ET():void 0;if(r===2){await Kr.window.showInformationMessage("Thank you for your feedback.","Close");return}switch(await Kr.window.showInformationMessage("Does the Spell Checker help you avoid spelling mistakes and get things done?","Yes","No")){case"Yes":{switch(await Kr.window.showInformationMessage("Thank you for your feedback. The Spell Checker needs your support to continue to improve. Would you consider sponsoring the Spell Checker?","Open Sponsor Page","Ask me Later","No")){case"Open Sponsor Page":await Cl();return;case"Ask me Later":await Kr.window.showInformationMessage("Thank you. We will ask again in about a month.","Close");return;case"No":{if(await Kr.window.showInformationMessage("Are you already a sponsor?","Yes","No")==="Yes"){await Kr.window.showInformationMessage("Thank you for your support!","Close");return}await Kr.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now");return}}return}case"No":return await Kr.window.showInformationMessage("Thank you for your feedback. Would you provide more detail on how the Spell Checker can be improved by opening an issue on GitHub?","Open Issue","Not Now")==="Open Issue"?ET():void 0}await Kr.window.showInformationMessage("Thank you for your feedback.","Close")}var NT=require("vscode");var No=require("vscode");async function FT(t){try{return await No.commands.executeCommand("vscode.executeDocumentSymbolProvider",t)||void 0}catch{return}}async function PT(t){try{return await No.commands.executeCommand("vscode.executeWorkspaceSymbolProvider",`query=${t}`)||void 0}catch{return}}async function RT(t,e){try{return await No.commands.executeCommand("vscode.executeReferenceProvider",t,e)||void 0}catch{return}}async function AT(t,e){try{return await No.commands.executeCommand("vscode.executeDefinitionProvider",t,e)||void 0}catch{return}}async function IT(t,e){try{return await No.commands.executeCommand("vscode.executeTypeDefinitionProvider",t,e)||void 0}catch{return}}async function _T(t,e){try{return await No.commands.executeCommand("vscode.executeImplementationProvider",t,e)||void 0}catch{return}}async function OT(){let t=NT.window.activeTextEditor?.document,e=t?.uri,n=NT.window.activeTextEditor?.selection.active,r=await FT(e);if(console.log("docSym %o",r),t&&n){let i=t.getWordRangeAtPosition(n),s=t.getText(i),o=s&&await PT(s);console.log("workspaceSym %s %o",s,o)}if(e&&n){let i={fetchReferences:RT,fetchDefinitions:AT,fetchTypeDefinitions:IT,fetchImplementation:_T};await Promise.all(Object.entries(i).map(async([s,o])=>{let a=await o(e,n);console.log(`${s} %o`,a)}))}}var E7="timeline_start",ZM=process.hrtime(),LT=class{timeLine=[];timeLineEvents=new Map;startEvent;constructor(){this.startEvent=this.createEvent(E7),this.addEvent(this.startEvent)}mark(e){let n=this.createEvent(e);this.addEvent(n)}measure(e,n,r){let i=this.timeLineEvents.get(n)||this.startEvent,s=this.timeLineEvents.get(r)||this.startEvent,o=k7(i.startTime,s.startTime),a={name:e,startTime:process.hrtime(ZM),duration:o};this.addEvent(a)}getLastEvent(){return this.timeLine[this.timeLine.length-1]}getLastEventName(){return this.getLastEvent().name||""}addEvent(e){this.timeLine.push(e),this.timeLineEvents.set(e.name,e)}getEntries(){return this.timeLine}getLatestEntryByName(e){return this.timeLineEvents.get(e)}getEntriesByName(e){return this.timeLine.filter(n=>n.name===e)}createEvent(e){return{name:e,startTime:process.hrtime(ZM),duration:0}}};function k7(t,e){return Jh(e)-Jh(t)}function Jh(t){return(t[0]+t[1]*1e-9)*1e3}var Gt=new LT;var Xh=Ue(require("vscode"),1);function Yh(t,e){let n=t.document,r=n.getText().indexOf(e);if(r<0)return!1;let i=n.positionAt(r),s=new Xh.Range(i.line,i.character,i.line,i.character+e.length);return s&&t.revealRange(s,Xh.TextEditorRevealType.InCenterIfOutsideViewport),!0}var F7={"cSpell.addWordsToConfigFileFromServer":(t,e,n)=>eU(t,hl(Xe(n.uri),n.name)),"cSpell.addWordsToDictionaryFileFromServer":(t,e,n)=>$7(t,$h(Xe(n.uri),n.name)),"cSpell.addWordsToVSCodeSettingsFromServer":(t,e,n)=>{let r=cd(n),i=Rh(r,Xe(e),!1);return eU(t,i)}},Vn=MM,Oo=(t,e=!1)=>Nh(t,void 0,void 0,e),P7=Vn("Add Words to Folder Dictionary",fk),R7=Vn("Add Words to Workspace Dictionaries",hd),A7=Vn("Add Words to User Dictionary",gd),I7=Vn("Add Words to Folder Settings",mi(Ni,sk)),_7=Vn("Add Words to Workspace Settings",mi(Ni,ik)),N7=Vn("Add Words to User Settings",mi(Ni,rk)),O7=Vn("Remove Words from Folder Dictionary",G7),L7=Vn("Remove Words from Workspace Dictionaries",J7),M7=Vn("Remove Words from Global Dictionary",X7),U7=Vn("Ignore Words",mi(Zh,void 0)),q7=Vn("Ignore Words in Folder Settings",mi(Zh,on.ConfigurationTarget.WorkspaceFolder)),j7=Vn("Ignore Words in Workspace Settings",mi(Zh,on.ConfigurationTarget.Workspace)),B7=Vn("Ignore Words in User Settings",mi(Zh,on.ConfigurationTarget.Global)),W7=Vn("Add Words to cSpell Configuration",mi(Ni,nk)),K7=Vn("Add Words to Dictionary",mi(Ni,ud)),rc={"cSpell.addWordToDictionary":K7,"cSpell.addWordToFolderDictionary":P7,"cSpell.addWordToWorkspaceDictionary":R7,"cSpell.addWordToUserDictionary":A7,"cSpell.addWordToFolderSettings":I7,"cSpell.addWordToWorkspaceSettings":_7,"cSpell.addWordToUserSettings":N7,"cSpell.removeWordFromFolderDictionary":O7,"cSpell.removeWordFromWorkspaceDictionary":L7,"cSpell.removeWordFromUserDictionary":M7,"cSpell.addIgnoreWord":U7,"cSpell.addIgnoreWordsToFolder":q7,"cSpell.addIgnoreWordsToWorkspace":j7,"cSpell.addIgnoreWordsToUser":B7,"cSpell.suggestSpellingCorrections":fT,"cSpell.goToNextSpellingIssue":()=>Qh("next",!1),"cSpell.goToPreviousSpellingIssue":()=>Qh("previous",!1),"cSpell.goToNextSpellingIssueAndSuggest":()=>Qh("next",!0),"cSpell.goToPreviousSpellingIssueAndSuggest":()=>Qh("previous",!0),"cSpell.enableForGlobal":async()=>Io(await Oo(on.ConfigurationTarget.Global),!0),"cSpell.disableForGlobal":async()=>Io(await Oo(on.ConfigurationTarget.Global),!1),"cSpell.toggleEnableForGlobal":async()=>Qa(await Oo(on.ConfigurationTarget.Global,!0)),"cSpell.enableForWorkspace":async()=>Io(await Oo(on.ConfigurationTarget.Workspace),!0),"cSpell.disableForWorkspace":async()=>Io(await Oo(on.ConfigurationTarget.Workspace),!1),"cSpell.toggleEnableForWorkspace":async()=>Qa(await Oo(on.ConfigurationTarget.Workspace)),"cSpell.toggleEnableSpellChecker":async()=>Qa(await Oo(on.ConfigurationTarget.Global)),"cSpell.enableCurrentFileType":vl,"cSpell.disableCurrentFileType":Sl,"cSpell.editText":xM,"cSpell.logPerfTimeline":eJ,"cSpell.openSettings":async()=>ig(),"cSpell.addWordToCSpellConfig":W7,"cSpell.addIssuesToDictionary":H7,"cSpell.createCustomDictionary":Z7,"cSpell.createCSpellConfig":tJ,"cSpell.openFileAtLine":iJ,"cSpell.selectRange":cJ,"cSpell.fixSpellingIssue":EM,"cSpell.autoFixSpellingIssues":Bh,"cSpell.issueViewer.item.openSuggestionsForIssue":$r,"cSpell.issueViewer.item.autoFixSpellingIssues":$r,"cSpell.issueViewer.item.addWordToDictionary":$r,"cSpell.issuesViewByFile.item.autoFixSpellingIssues":$r,"cSpell.issuesViewByFile.item.addWordToDictionary":$r,"cSpell.insertDisableNextLineDirective":uJ,"cSpell.insertDisableLineDirective":lJ,"cSpell.insertIgnoreWordsDirective":dJ,"cSpell.insertWordsDirective":fJ,"cSpell.toggleTraceMode":$r,"cSpell.toggleVisible":$r,"cSpell.show":$r,"cSpell.hide":$r,"cSpell.createCSpellTerminal":$r,"cspell.showActionsMenu":$r,"cSpell.openIssuesPanel":pJ("cSpellIssuesViewByFile.focus"),"cSpell.openFileInfoView":rU,"cSpell.displayCSpellInfo":rU,"cSpell.hideCSpellInfo":hJ,"cSpell.experimental.executeDocumentSymbolProvider":yJ,"cSpell.restart":gJ,"cSpell.reload":mJ,"cSpell.supportRequest":DT,"cSpell.reportIssue":wT,"cSpell.about":bT,"cSpell.sponsor":Cl,"cSpell.rateTheSpellChecker":kT,"cSpell.releaseNotes":TT,"cSpell.enableLanguage":UT,"cSpell.disableLanguage":qT,"cSpell.enableCurrentLanguage":vl,"cSpell.disableCurrentLanguage":Sl},ur=Object.fromEntries(Object.keys(rc).map(t=>[t,t]));function sU(t){let e=new Set,n=Object.entries({...rc,...t}).filter(([i])=>!e.has(i)).map(([i,s])=>tU(i,s)),r=Object.entries(F7).map(([i,s])=>tU(i,s));return[...n,...r]}function $r(){}function eU(t,e){return it(rt("dictionaryHelper").addWordsToConfigRep(t,e),"addWordsToConfig")}function $7(t,e){return it(rt("dictionaryHelper").addWordToDictionary(t,e),"addWordsToDictionaryTarget")}function V7(){}function tU(t,e){return e===$r?{dispose:V7}:qe.commands.registerCommand(t,jc(e,`Register command: ${t}`))}function H7(){return it(rt("dictionaryHelper").addIssuesToDictionary(),"addAllIssuesFromDocument")}function Zh(t,e,n){return it(z7(t,e,n),eg("addIgnoreWordsToTarget",void 0,n))}async function z7(t,e,n){n=Xe(n);let r=await Ao(n),i=e?r.filter(s=>s.scope===Ar(e)):r;return iT(i,t)}function G7(t,e){return MT(t,on.ConfigurationTarget.WorkspaceFolder,e)}function J7(t,e){return MT(t,on.ConfigurationTarget.Workspace,e)}function X7(t){return MT(t,on.ConfigurationTarget.Global,void 0)}function MT(t,e,n){return it(Y7(t,e,n),eg("removeWordFromTarget",e,n))}function Y7(t,e,n){n=Xe(n);let r=ak(e,n,void 0);return rt("dictionaryHelper").removeWordsFromTargets(t,[r],n)}function UT(t,e){return oU(t,Xe(e),void 0,!0)}function qT(t,e){return oU(t,Xe(e),void 0,!1)}function oU(t,e,n,r){return it(async()=>{let i=await(n?DM(n,e):Ao(e));return Mh({[t]:r},i)},eg(`enableDisableLanguageId enable: ${r}`,n,e))}function Q7(t,e,n,r,i){return it(async()=>{let{targets:s,scopes:o}=await Nh(n||on.ConfigurationTarget.Global,e,r);return Lh(t,i,s,o)},eg(`enableDisableLocale enable: ${i}`,n,e))}function jT(t,e,n){let r=typeof t=="boolean"?t?on.ConfigurationTarget.Global:on.ConfigurationTarget.Workspace:t,i=Xw(r);return Q7(e,i.uri,i.target,i.configScope,n)}function vl(t,e){let n=aU(t,e);return it(async()=>{let{languageId:r,uri:i}=n;if(!(!i||!r))return Us({[r]:!0},i)},"enableCurrentFileType")}function Sl(t,e){let n=aU(t,e);return it(async()=>{let{languageId:r,uri:i}=n;if(!(!i||!r))return Us({[r]:!1},i)},"disableCurrentFileType")}function aU(t,e){t=typeof t=="string"?t:void 0,e=typeof e=="string"||e instanceof qe.Uri?e:void 0;let n=qe.window.activeTextEditor?.document;return e??=n?.uri,t??=n?.languageId,{languageId:t,uri:e}}function eg(t,e,n){let r=e?Ar(e):"";return r?`${t} ${r} ${Xe(n)}`:`${t} ${Xe(n)}`}async function Z7(){let t=await Oh(qe.window.activeTextEditor?.document),e=await fd(t);if(!e)return;let n=gl(e);n&&await rt("dictionaryHelper").createCustomDictionary(n)}function eJ(){Gt.getEntries().forEach(t=>{console.log(t.name,Jh(t.startTime),t.duration)})}async function tJ(){let t=await sT(qe.window.activeTextEditor?.document.uri);if(t){let e=await qe.window.showTextDocument(t);Yh(e,'"cspell":')}}function nJ(t,e){return t.filter(n=>n.range?.start.isAfter(e.end)).concat(t[0])[0]}function rJ(t,e){return[t[t.length-1]].concat(t.filter(n=>n.range?.end.isBefore(e.start))).pop()}async function Qh(t,e){let n=qe.window.activeTextEditor;if(!n)return;let r=n.document,i=n.selection,s=r?Wr(r.uri):void 0,o=s?t==="next"?nJ(s,i):rJ(s,i):void 0,a=o?.range;if(!r||!i||!a||!o)return qs(qe.window.showInformationMessage("No issues found in this document."),"actionJumpToSpellingError");if(n.revealRange(a,qe.TextEditorRevealType.InCenterIfOutsideViewport),n.selection=new qe.Selection(a.start,a.end),e)return fT()}async function iJ(t,e){t=Xe(t);let n=e&&{selection:sJ(e)}||void 0;await qe.window.showTextDocument(t,n)}function sJ(t){if(t===void 0)return;t=typeof t=="string"?Number.parseInt(t):t;let e=new qe.Position(t-1,0);return new qe.Range(e,e)}function tg(t,e,n,r){let i=r.map(aJ);return{title:t,command:"cSpell.editText",arguments:[e.toString(),n,i]}}function BT(t,...e){return typeof t=="string"?`command:${t}?${encodeURIComponent(JSON.stringify(e))}`:`command:${t.command}?${t.arguments?encodeURIComponent(JSON.stringify(t.arguments)):""}`}function nU(t){let{line:e,character:n}=t;return{line:e,character:n}}function oJ(t){return{start:nU(t.start),end:nU(t.end)}}function aJ(t){let{range:e,newText:n}=t;return{range:oJ(e),newText:n}}async function cJ(t,e,n){if(!(!t||!e))try{let r=Ff(t);if(r){let s=r.notebook;if(r.index<0)return;let o=new qe.NotebookRange(r.index,r.index+1);await qe.window.showNotebookDocument(s,{selections:[o]})}let i=await qe.window.showTextDocument(t,{selection:e});i.selection=n?new qe.Selection(e.end,e.start):new qe.Selection(e.start,e.end)}catch(r){xc((0,iU.format)("Error: handleSelectRange",r),t.toString())}}var ng="${BLOCK_COMMENT_START/^(<!--)$/$1-/}",rg="${BLOCK_COMMENT_END/^(-->)$/-$1/}";function uJ(t,e){return it(async()=>{let n=t||qe.window.activeTextEditor;if(!n)return;let{document:r,selection:i}=n,{line:s}=i.active,o=r.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new qe.SnippetString(`${a}${ng} cspell:disable-next-line ${rg}`+c),new qe.Range(o.range.start,o.range.start))},"handleInsertDisableNextLineDirective")}function lJ(t,e){return it(async()=>{let n=t||qe.window.activeTextEditor;if(!n)return;let{document:r,selection:i}=n,{line:s}=i.active,o=r.lineAt(s),a=o.text.endsWith(" ")?"":" ";return await n.insertSnippet(new qe.SnippetString(`${a}${ng} cspell:disable-line ${rg}
`),new qe.Range(o.range.end,o.range.end))},"handleInsertDisableLineDirective")}function dJ(t,e){return it(async()=>{let n=t||qe.window.activeTextEditor;if(!n)return;let{document:r,selection:i}=n,{line:s}=i.active,o=r.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new qe.SnippetString(`${a}${ng} cspell:ignore \${0:$TM_CURRENT_WORD} ${rg}`+c),new qe.Range(o.range.start,o.range.start))},"handleInsertIgnoreWordsDirective")}function fJ(t,e){return it(async()=>{let n=t||qe.window.activeTextEditor;if(!n)return;let{document:r,selection:i}=n,{line:s}=i.active,o=r.lineAt(s),a=o.text.slice(0,o.firstNonWhitespaceCharacterIndex),c=o.text.length>o.firstNonWhitespaceCharacterIndex?`
`:"";return await n.insertSnippet(new qe.SnippetString(`${a}${ng} cspell:words \${0:$TM_CURRENT_WORD} ${rg}`+c),new qe.Range(o.range.start,o.range.start))},"handleInsertWordsDirective")}async function cU(t){let e=t.arguments||[];return qe.commands.executeCommand(t.command,...e)}function pJ(t){return async()=>(t=typeof t=="string"?{command:t}:t,cU(t))}async function rU(){await _o({displayCSpellInfo:!0}),await qe.commands.executeCommand("cSpellInfoView.focus")}async function hJ(){await _o({displayCSpellInfo:!1})}function gJ(){return it(no().restart(),"handle restart server")}function mJ(){return it(no().notifySettingsChanged(),"handle restart server")}function yJ(){return it(OT(),"handleCmdExperimentalExecuteDocumentSymbolProvider")}function bl(t){return{command:"workbench.action.openSettings",arguments:[{query:t?`${fv} ${t}`:fv}]}}function ig(t){return cU(bl(t))}var vJ=!1,ri=vJ?console.log:()=>{};function uU(t){let e=tt();return e.push(An.default.commands.registerCommand("cspell.showActionsMenu",()=>SJ(t))),e}async function SJ(t){let e=An.default.window.activeTextEditor?.document,n=await it(e?no().getConfigurationForDocument(e,{}):Promise.resolve(void 0),"Language Status"),r=[xJ(e?.uri,n?.languageId,n?.languageIdEnabled),EJ(e?.uri,n?.schemeIsAllowed),...kJ(n?.configFiles.map(i=>An.default.Uri.parse(i))),{label:"",kind:An.default.QuickPickItemKind.Separator},TJ(t),Lo({title:"$(file) Show File Info...",command:ur["cSpell.openFileInfoView"]}),Lo({title:"$(console) Open Spell Checker REPL Console.",command:ur["cSpell.createCSpellTerminal"]}),Lo({title:"$(issues) Open Spelling Issues Panel.",command:"cSpell.openIssuesPanel"}),wJ(),Lo({title:"$(keyboard) Edit Keyboard Shortcuts...",command:"workbench.action.openGlobalKeybindings",arguments:["Spell:"]}),Lo({title:"$(gear) Edit Settings...",...bl()})].filter(Cn);return bJ({items:r,title:"Spell Checker Actions Menu"}).catch(()=>{})}async function bJ(t){t={...t};let e=!0;for(;e;)try{e=!1;let n=await DJ(t);if(n instanceof ic){t.selected=n,await n.action();continue}if(typeof n=="function"){await n();continue}return}catch(n){if(n===Bs.back)throw ri("Going back",t.title),Bs.redraw;if(n===Bs.cancel){ri("Cancel",t.title);return}if(n===Bs.redraw){ri("Redraw",t.title),e=!0;continue}throw n}}async function DJ(t){let e=performance.now(),n=tt();try{return await new Promise((r,i)=>{let s=An.default.window.createQuickPick();n.push(s),s.title=t.title,s.items=t.items,t.enableBackButton&&(s.buttons=[An.default.QuickInputButtons.Back]),t.selected&&(s.activeItems=[t.selected]),t.matchOnDescription!==void 0&&(s.matchOnDescription=t.matchOnDescription),t.matchOnDetail!==void 0&&(s.matchOnDetail=t.matchOnDetail),n.push(s.onDidChangeSelection(o=>{ri("onDidChangeSelection",o)}),s.onDidChangeActive(o=>{ri("onDidChangeActive",o)}),s.onDidTriggerButton(o=>{ri("onDidTriggerButton",o),o===An.default.QuickInputButtons.Back&&i(Bs.back)}),s.onDidTriggerItemButton(o=>{ri("onDidTriggerItemButton",o);let a=o.button;a instanceof sg&&a.action&&r(a.action)}),s.onDidAccept(()=>{ri("onDidAccept",s.selectedItems);let o=s.selectedItems[0];r(o)}),s.onDidHide(()=>{ri(`onDidHide: ${t.title} - ${e}`),i(Bs.cancel)})),ri(`Showing menu: ${t.title} - ${e}`),s.show()})}finally{ri(`Disposing of menu: ${t.title} - ${e}`),n.dispose()}}var Bs=class t{static back=new t;static cancel=new t;static redraw=new t},sg=class{constructor(e,n,r){this.iconPath=e;this.tooltip=n;this.action=r}},og=class extends sg{constructor(n,r){super(new An.default.ThemeIcon("gear"),r.tooltip??r.title,lU(r));this.iconPath=n;this.command=r}},ic=class{constructor(e,n,r){this.label=e;this.description=n;this.#e=r||(()=>Promise.resolve(void 0))}#e;kind;detail;picked;iconPath;alwaysShow;buttons;resourceUri;get action(){return this.#e}set action(e){this.#e=e}},Dl=class extends ic{constructor(n,r){super(n.title,r,lU(n));this.command=n;this.description=r}};function Lo(t,e){return new Dl(t,e)}function wJ(){return{label:"",kind:An.default.QuickPickItemKind.Separator}}function TJ(t){let e=t.areIssuesVisible();return Lo(e?{title:"$(eye-closed) Hide Spelling Issues",command:"cSpell.hide"}:{title:"$(eye) Show Spelling Issues",command:"cSpell.show"})}function xJ(t,e,n){if(!e||n===void 0)return;let r="$(code)",i=()=>Us({[e]:!n},t),s=new ic(`${r} ${n?"Disable":"Enable"} File Type:`,e,i);return s.detail=`File Type: "${e}" is currently ${n?"enabled":"disabled"}.`,s.buttons=[new og(new An.default.ThemeIcon("gear"),{title:"Edit Enable File Type in Settings",...bl(Be.enabledFileTypes)})],s}function EJ(t,e){if(!t)return;let n=new ic(`$(code) ${e?"Exclude":"Allow"} Scheme:`,t.scheme);return n.detail=`Scheme: "${t.scheme}" is currently ${e?"allowed":"excluded"}.`,n.action=()=>TM({[t.scheme]:!e},t),n.buttons=[new og(new An.default.ThemeIcon("gear"),{title:"Edit Enable Scheme in Settings",...bl(Be.enabledSchemes)})],n}function kJ(t){return t?.length?t.map(e=>{let n=new Dl({title:"Open Config File:",command:"vscode.open",arguments:[e]},An.default.workspace.asRelativePath(e));return n.iconPath=An.default.ThemeIcon.File,n.detail=An.default.workspace.asRelativePath(e,!0),n.resourceUri=e,n}):[new Dl({title:"$(new-file) Create Config...",command:ur["cSpell.createCSpellConfig"]})]}async function FJ(t){await An.default.commands.executeCommand(t.command,...t.arguments||[])}function lU(t){return()=>FJ(t)}async function ag(t,e){return rt("client").serverApi.checkDocument(t,e)}var Mo=Ue(require("vscode"),1),In=require("vscode");var PJ=/\b(?:spell-?checker|c?spell|LocalWords)::?(.*)/gi,KT=/(?<=\b(?:spell-?checker|c?spell)::?)(?!:)\s*(.*)/i,RJ=[{pfx:"cspell:",min:3},{pfx:"cSpell:",min:2},{pfx:"spell:",min:5},{pfx:"spell-checker:",min:5},{pfx:"spellchecker:",min:5},{pfx:"LocalWords:",min:6}];async function fU(t){t.push(Mo.languages.registerInlineCompletionItemProvider({pattern:"**"},qJ))}var AJ=[{label:"words",insertText:"words",description:"Words to be allowed in the document",sortText:"1"},{label:"ignore words",insertText:"ignore",description:"Words to be ignored in the document",sortText:"2"},{label:"ignoreRegExp",insertText:"ignoreRegExp",snippetText:"ignoreRegExp /${1:expression}/g",description:"Ignore text matching the regular expression.",kind:Mo.CompletionItemKind.Snippet},{label:"disable-next-line",insertText:"disable-next-line",description:"Do not spell check the next line",sortText:"3"},{label:"disable-line",insertText:"disable-line",description:"Do not spell check the current line"},{label:"disable spell checker",insertText:"disable",description:"Disable spell checking from this point further."},{label:"enable spell checker",insertText:"enable",description:"Enable spell checking from this point further."},{label:"dictionaries",insertText:"dictionaries",commitCharacters:[" "],description:"Add dictionaries to be used in this document."},{label:"locale",insertText:"locale",snippetText:"locale ${1:en}",description:"Set the language locale to be used in this document. (i.e. fr,en)",kind:Mo.CompletionItemKind.Snippet},{label:"disable compound words",insertText:"disableCompoundWords",description:"Turn OFF Allow Compound Words."},{label:"enable compound words",insertText:"enableCompoundWords",description:"Turn ON Allow Compound Words."}];function IJ(t){let e="showAutocompleteDirectiveSuggestions";try{return zi(e,t)??!0}catch{return!1}}var _J={dictionaryDefinitions:!0,dictionaries:!0},WT=class{cacheConfig;cacheDocDictionaries=ym();constructor(){this.cacheConfig=new fl(e=>rt("client").getConfigurationForDocument({uri:e},_J))}provideInlineCompletionItems(e,n,r,i){if(!IJ(e.uri)||!this.getConfigForDocument(e))return;let a=e.lineAt(n.line).text,c=a.slice(0,n.character),u=c.match(PJ);if(!u)return NJ(c,n);let f={items:[]},g=new RegExp(KT),p=u.index||0;g.lastIndex=p;let l=g.exec(c);if(!l){let T="LocalWords:";return u[0].startsWith(T)?dU(e,n,a,p+T.length):void 0}let d=l[1],h=(l.index||0)+l[0].length-d.length;if(d.startsWith("dictionaries")||d.startsWith("dictionary"))return LJ(e,n,a,h,T=>this.getListOfDictionaries(T));if(d.startsWith("words")||d.startsWith("ignore"))return dU(e,n,a,MJ(a,h));let m=d.split(/\s+/);if(m.length>1)return;let C=new Mo.Range(n.line,h,n.line,n.character),D=AJ.filter(T=>T.insertText.startsWith(m[0])).map(T=>OJ(T,C));return f.items.push(...D),f}getConfigForDocument(e){return this.cacheConfig.get(e.uri)}getListOfDictionaries(e){let n=this.getConfigForDocument(e),r=e.uri.toString(),i=this.cacheDocDictionaries.get(r,()=>({available:void 0,enabled:void 0}));if(!n||!(n.docSettings||n.settings))return i;let o=jJ(n);return this.cacheDocDictionaries.set(r,o),o}};function NJ(t,e){let n={items:[]},i=t.lastIndexOf(" ")+1,s=t.slice(i),o=s.length,a=RJ.filter(f=>f.pfx.startsWith(s)&&o>=f.min).map(f=>f.pfx);if(!a.length)return;let c=new In.Range(e.line,i,e.line,e.character),u=a.map(f=>new In.InlineCompletionItem(f,c));return n.items.push(...u),n}function OJ(t,e){if(t.snippetText){let r=new In.SnippetString(t.snippetText),i=new In.InlineCompletionItem(r,e);i.filterText=t.insertText}return new In.InlineCompletionItem(t.insertText,e)}function LJ(t,e,n,r,i){let s=new RegExp(KT,"s");s.lastIndex=r;let o=s.exec(n);if(!o)return;let a=o[1],c=(o.index||0)+o[0].length-a.length,u=e.character,f=pU(n,c);if(f<u)return;let g=i(t);if(!g.available)return;let p=/\s|$/ms;p.lastIndex=u;let l=p.exec(n)?"":" ",d=n.lastIndexOf(" ",u-1)+1,h=d<=c?" ":"",m=/[\s,]+/g,C=n.slice(c,d).split(m),D=n.slice(u,f).split(m),T=new Set([...g.enabled||[],...C,...D]),k=g.available.filter(B=>!T.has(B));if(!k.length)return;let I=new In.Range(e.line,d,e.line,u);return new In.InlineCompletionList(k.map(B=>new In.InlineCompletionItem(h+B+l,I)))}function dU(t,e,n,r){let i=e.character;if(pU(n,r)<i)return;let o=BJ(t);if(!o.length)return;let a=/\s|$/ms;a.lastIndex=i;let c=a.exec(n)?"":" ",u=n.lastIndexOf(" ",i-1)+1,f=u<=r?" ":"",g=n.slice(f?i:u,i),p=UJ(t,e,o,g),l=new In.Range(e.line,u,e.line,i);return new In.InlineCompletionList(p.map(d=>new In.InlineCompletionItem(f+d+c,l)))}function MJ(t,e){let n=new RegExp(KT,"s");n.lastIndex=e;let r=n.exec(t);if(!r)return 0;let i=r[1];return(r.index||0)+r[0].length-i.length}function UJ(t,e,n,r){let s=e.line,o=new In.Range(Math.max(s-3,0),0,s+3,0),a=n.filter(u=>o.contains(u.range)).filter(u=>t.getText(u.range).startsWith(r));if(a.length)return a.sort((f,g)=>Math.abs(f.range.start.line-s)-Math.abs(g.range.start.line-s)),[...new Set(a.map(f=>t.getText(f.range)))];let c=[...new Set(n.map(u=>t.getText(u.range)))];return c.sort(),c}function pU(t,e){let n=/[^a-z0-9_\s,\p{L}-]/giu;n.lastIndex=e;let r=n.exec(t);return r?r.index:t.length}var qJ=new WT;function jJ(t){try{let e=(t.docSettings?.dictionaryDefinitions||[]).filter(r=>!!r).map(r=>r.name).filter(r=>!!r),n=t.docSettings?.dictionaries||[];return{available:e,enabled:n}}catch{return{available:void 0,enabled:void 0}}}function BJ(t){return Wr(t.uri).filter(e=>!e.data?.issueType)}var Uo=require("vscode");var cg=class{constructor(e){this.issueTracker=e}static providedCodeActionKinds=[Uo.CodeActionKind.QuickFix];async provideCodeActions(e,n,r){if(IM(r.diagnostics).length)return[];let s=this.issueTracker.getSpellingIssues(e.uri)?.filter(a=>a.range.contains(n));if(s?.length!==1)return[];let o=s.map(a=>this.diagToAction(e,a));return(await Promise.all(o)).flatMap(a=>a)}async diagToAction(e,n){let r=n.providedSuggestions();return r?.length?r.map(i=>WJ(e,n.range,i)):await pT(e,n.range,[n.diag])}};function WJ(t,e,n){let r=`Replace with: ${n.word}`,i=new Uo.CodeAction(r,Uo.CodeActionKind.QuickFix);return i.isPreferred=n.isPreferred,i.command=tg(r,t.uri,t.version,[{range:e,newText:n.word}]),i}function hU(t){return Uo.languages.registerCodeActionsProvider("*",new cg(t),{providedCodeActionKinds:cg.providedCodeActionKinds})}function ug(...t){function e(n){for(let r of t)n=r(n);return n}return e}function lg(t){function e(n){function r(){let i=n[Symbol.iterator]();function s(){let{done:o,value:a}=i.next();return o?{done:o,value:void 0}:{value:t(a)}}return{next:s}}return{[Symbol.iterator]:r}}return e}function dg(t,...e){return ug(...e)(t)}var sc=Ue(require("vscode"),1);var gU=["package.json",".cspell.json","cspell.json",".cSpell.json","cSpell.json",".cspell.jsonc","cspell.jsonc",".vscode/cspell.json",".vscode/cSpell.json",".vscode/.cspell.json",".cspell.config.json",".cspell.config.jsonc",".cspell.config.yaml",".cspell.config.yml","cspell.config.json","cspell.config.jsonc","cspell.config.yaml","cspell.config.yml","cspell.config.mjs","cspell.config.cjs","cspell.config.js","cspell.config.toml",".cspell.config.mjs",".cspell.config.cjs",".cspell.config.js",".cspell.config.toml",".cspell.yaml",".cspell.yml","cspell.yaml","cspell.yml",".config/.cspell.json",".config/cspell.json",".config/.cSpell.json",".config/cSpell.json",".config/.cspell.jsonc",".config/cspell.jsonc",".config/cspell.config.json",".config/cspell.config.jsonc",".config/cspell.config.yaml",".config/cspell.config.yml",".config/cspell.config.mjs",".config/cspell.config.cjs",".config/cspell.config.js",".config/cspell.config.toml",".config/.cspell.config.json",".config/.cspell.config.jsonc",".config/.cspell.config.yaml",".config/.cspell.config.yml",".config/.cspell.config.mjs",".config/.cspell.config.cjs",".config/.cspell.config.js",".config/.cspell.config.toml",".config/cspell.yaml",".config/cspell.yml"];function mU(){return new $T}var $J=new Set(["cspell.yml","cspell.yaml",".cspell.yml",".cspell.yaml"]),$T=class{#e=tt(void 0,"ConfigWatcher");#t;#n=new sc.EventEmitter;#r=zJ();constructor(){this.#e.push(this.#n)}dispose(){this.#e.dispose(),this.#t=void 0}get on(){return this.onDidChangeConfig}get onDidChangeConfig(){return this.#i(),this.#n.event}#i(){if(this.#t)return this.#t;let e=sc.workspace.createFileSystemWatcher(`**/{${this.#r.join(",")}}`);return this.#e.push(e,e.onDidChange(this.#s),e.onDidCreate(this.#s),e.onDidDelete(this.#s)),this.#t=e,e}#s=e=>{this.#n.fire(e)};async scanWorkspaceForConfigFiles(e){let n=await sc.workspace.findFiles(`**/{${this.#r.join(",")}}`,"**/node_modules/**",void 0,e),r=n.filter(o=>o.path.endsWith("/package.json")),i=n.filter(o=>!o.path.endsWith("/package.json")),s=dg(r,HJ(3),lg(o=>({uri:o,hasConfig:VJ(o)})));for(let{uri:o,hasConfig:a}of s)await a&&i.push(o);return i}};async function VJ(t){if(!t.path.endsWith("/package.json"))return!0;try{let n=new TextDecoder().decode(await sc.workspace.fs.readFile(t));return"cspell"in JSON.parse(n)}catch{return!1}}function HJ(t){function*e(n){let r=[];for(let i of n)if(r.push(i),r.length>=t-1){let s=r[0];r.shift(),yield s}yield*r}return e}function zJ(){let t=new Set;for(let e of gU){let n=e.split("/");if(n.length===1){$J.has(e)||t.add(e);continue}let r=n[n.length-1];t.has(r)||t.add(e)}return[...t]}var ze=Ue(require("vscode"),1);var yU="Word",CU=1e3,GJ=!1,fg=GJ?console.log:()=>{},wl=class t{constructor(e,n){this.context=e;this.issueTracker=n;this.getConfiguration();let r=this.createDecorators();this._visible=e.globalState.get(t.globalStateKey,!0),this.decorationTypeForIssues=r?.decoratorIssues,this.decorationTypeForFlagged=r?.decoratorFlagged,this.decorationTypeForSuggestions=r?.decoratorSuggestions,this.decorationTypeForDebug=r?.decoratorDebug,this.disposables.push(()=>this.clearDecoration(),ze.workspace.onDidChangeConfiguration(i=>this.#s(i)),ze.window.onDidChangeActiveColorTheme(()=>this.resetDecorator()),n.onDidChangeDiagnostics(i=>this.handleOnDidChangeDiagnostics(i)),ze.window.onDidChangeActiveTextEditor(i=>this.refreshEditor(i)),ze.window.onDidChangeVisibleTextEditors(i=>this.handleOnDidChangeVisibleTextEditors(i)),ze.window.onDidChangeTextEditorSelection(i=>this.#n(i)),ze.workspace.onDidChangeTextDocument(i=>this.#r(i)),ze.workspace.onDidCloseTextDocument(i=>this.docChanges.delete(i.uri.toString()))),this.setContext(this._visible)}decorationTypeForIssues;decorationTypeForFlagged;decorationTypeForSuggestions;decorationTypeForDebug;disposables=tt();visibleEditors=new Set;_visible=!0;dispose=this.disposables.dispose;docChanges=new Map;refreshTimeout;urisToRefresh=new Set;hideIssuesWhileTyping=yU;revealIssuesAfterDelayMS=CU;emitterVisibility=new ze.default.EventEmitter;overrides={};handleOnDidChangeDiagnostics(e){this.refreshDiagnostics(e.uris)}handleOnDidChangeVisibleTextEditors(e){let n=e.filter(r=>!this.visibleEditors.has(r));this.visibleEditors.clear(),this.visibleEditors=new Set(e),this.refreshDiagnostics([...n].map(r=>r.document.uri))}refreshEditor(e){if(e??=ze.window.activeTextEditor,!!e)return this.refreshDiagnostics([e.document.uri])}refreshDiagnostics(e){e??=ze.window.visibleTextEditors.map(i=>i.document.uri);let n=new Set(e.map(i=>i.toString()));ze.window.visibleTextEditors.filter(i=>n.has(i.document.uri.toString())).forEach(i=>this.refreshDiagnosticsInEditor(i))}refreshDiagnosticsInEditor(e){if(!this.decorationTypeForIssues||!this.decorationTypeForFlagged||!this.decorationTypeForDebug||!this.decorationTypeForSuggestions)return;let n=e.document;if(!this.#i(n.uri)){e.setDecorations(this.decorationTypeForIssues,[]),e.setDecorations(this.decorationTypeForFlagged,[]),e.setDecorations(this.decorationTypeForSuggestions,[]);return}let r=this.revealIssuesAfterDelayMS,i=this.hideIssuesWhileTyping,s=n.validateRange(new ze.Range(n.positionAt(0),n.positionAt(n.getText().length))),o=i==="Word"?C=>SU(C,n.getWordRangeAtPosition(C.start),n.getWordRangeAtPosition(C.end)):i==="Line"?C=>n.lineAt(C.start.line).range:C=>s,a=performance.now(),c=this.docChanges.get(n.uri.toString()),u=c&&r-(a-c.timestamp);fg("refreshDiagnosticsInEditor %o",{t:performance.now().toFixed(2),version:c?.version,delay:r,mode:i,delta:a-(c?.timestamp||a),toDelay:u});let f=(i!=="Off"&&c&&a-c.timestamp<r&&c.ranges||[]).map(o),g=e.selections.map(C=>{let D=f.filter(T=>T.intersection(C));if(D.length)return SU(C,...D)}).filter(Cn),p=!1,l=(this.issueTracker.getSpellingIssues(n.uri)||[]).filter(C=>{let D=C.range,T=g.some(k=>k.intersection(D));return p||=T,!T});p&&this.#t(n.uri);let d=l.filter(C=>!C.isFlagged()&&!C.treatAsSuggestion()).map(C=>HT(C)).filter(Cn);e.setDecorations(this.decorationTypeForIssues,d);let h=l.filter(C=>C.treatAsSuggestion()).map(C=>HT(C)).filter(Cn);e.setDecorations(this.decorationTypeForSuggestions,h);let m=l.filter(C=>C.isFlagged()&&C.isIssueTypeSpelling()).map(C=>HT(C)).filter(Cn);e.setDecorations(this.decorationTypeForFlagged,m)}get visible(){return this.context.globalState.get(t.globalStateKey,this._visible)}set visible(e){this.setContext(e),this._visible!==e&&(this._visible=e,this.resetDecorator())}toggleVisible(){this.visible=!this.visible}onDidChangeVisibility=this.emitterVisibility.event;setContext(e){this.context.globalState.update(t.globalStateKey,e),this.emitterVisibility.fire(e),Promise.resolve(_o({showDecorations:e})).catch(()=>{})}clearDecoration(){this.visibleEditors.clear(),this.decorationTypeForIssues?.dispose(),this.decorationTypeForIssues=void 0,this.decorationTypeForFlagged?.dispose(),this.decorationTypeForFlagged=void 0,this.decorationTypeForSuggestions?.dispose(),this.decorationTypeForSuggestions=void 0,this.decorationTypeForDebug?.dispose(),this.decorationTypeForDebug=void 0}getConfiguration(){let e=ze.workspace.getConfiguration(Yt);this.hideIssuesWhileTyping=e.hideIssuesWhileTyping??yU,this.revealIssuesAfterDelayMS=e.revealIssuesAfterDelayMS??CU,this.overrides=e[Be.doNotUseCustomDecorationForScheme]??this.overrides}resetDecorator(){this.docChanges.clear(),this.getConfiguration();let e=this.createDecorators();this.decorationTypeForIssues=e?.decoratorIssues,this.decorationTypeForFlagged=e?.decoratorFlagged,this.decorationTypeForSuggestions=e?.decoratorSuggestions,this.decorationTypeForDebug=e?.decoratorDebug,this.refreshDiagnostics()}createDecorators(){if(this.clearDecoration(),!(this.visible&&(ze.workspace.getConfiguration(Yt).get("useCustomDecorations")??!0)))return;let n=JJ(ze.window.activeColorTheme.kind),r=ze.workspace.getConfiguration(Yt),i=r.showInRuler??!0,s=i&&(r[n]?.overviewRulerColor||r.overviewRulerColor)||void 0,o=i?ze.default.OverviewRulerLane.Right:void 0,a=ze.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:ze.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:o,overviewRulerColor:s,textDecoration:VT(r,n,"textDecorationColor")}),c=ze.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:ze.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:o,overviewRulerColor:s,textDecoration:VT(r,n,"textDecorationColorFlagged")}),u=ze.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:ze.default.DecorationRangeBehavior.ClosedClosed,overviewRulerLane:o,overviewRulerColor:s,textDecoration:VT(r,n,"textDecorationColorSuggestion")}),f=ze.window.createTextEditorDecorationType({isWholeLine:!1,rangeBehavior:ze.default.DecorationRangeBehavior.ClosedClosed,backgroundColor:"rgba(255, 0, 0, 0.5)"});return{decoratorIssues:a,decoratorFlagged:c,decoratorSuggestions:u,decoratorDebug:f}}#e(){this.refreshTimeout||this.urisToRefresh.size<1||(this.refreshTimeout=setTimeout(()=>{this.refreshTimeout=void 0;let e=[...this.urisToRefresh];this.urisToRefresh.clear();let n=performance.now();e.forEach(i=>{let s=this.docChanges.get(i.toString());!s||n-s.timestamp>=this.revealIssuesAfterDelayMS||this.urisToRefresh.add(i)});let r=e.filter(i=>!this.urisToRefresh.has(i));this.refreshDiagnostics(r),this.#e()},100))}#t(e){this.urisToRefresh.add(e),this.#e()}#n(e){fg("onSelectionChange %o",{t:performance.now().toFixed(2),kind:e.kind,v:e.textEditor.document.version,sel:JSON.stringify(e.selections.map(n=>n.active)),uri:e.textEditor.document.uri.toString()})}#r(e){let{document:n,contentChanges:r}=e,i=n.uri.toString(),s=ms(n.uri);if(!s){this.docChanges.delete(i);return}fg("onDocumentChange %o",{t:performance.now().toFixed(2),v:n.version,sel:JSON.stringify(s.selections.map(a=>a.active)),c:JSON.stringify(r.map(a=>({r:a.range,t:a.text}))),uri:n.uri.toString()});let o=YJ(r);if(!o.length){this.docChanges.delete(i);return}this.docChanges.set(i,{uri:n.uri,version:n.version,ranges:o,timestamp:performance.now()})}#i(e){return!this.overrides[e.scheme]}#s(e){e.affectsConfiguration(Yt)&&this.resetDecorator()}clearActiveChanges(){this.docChanges.clear()}static globalStateKey="showDecorations"};function VT(t,e,n){let r=t[e]?.textDecoration||t.textDecoration||"",i=t[e]?.textDecorationLine||t.textDecorationLine||"underline",s=t[e]?.textDecorationStyle||t.textDecorationStyle||"wavy",o=t[e]?.textDecorationThickness||t.textDecorationThickness||"auto",a=t[e]?.[n]||t[n]||"#fc4";return r||`${i} ${s} ${a} ${o}`}function HT(t){let{range:e}=t,n=t.providedSuggestions(),r=t.isFlagged(),i=t.isKnown(),s=t.treatAsSuggestion(),o=t.word,a=t.document,c=BT("cSpell.suggestSpellingCorrections",a.uri,e,o),u=vU("Suggestions $(chevron-right)",c,"Show suggestions."),f=r?"$(error)":s?"$(info)":i?"$(warning)":"$(issues)",g=new ze.MarkdownString(f+" ",!0);g.appendMarkdown("***").appendText(o).appendMarkdown("***: ");let p=r?"Forbidden word.":i?"Misspelled word.":"Unknown word.";if(t.isIssueTypeSpelling())t.isSuggestion()?(g.appendText("Has Suggestions."),n?.length||g.appendText(" ").appendMarkdown(u)):(g.appendText(p),g.appendText(" ").appendMarkdown(u));else if(t.isIssueTypeDirective())g.appendText("Unknown directive."),g.appendText(" ").appendMarkdown(u);else{fg("Unknown issue type: %o",t);return}if(n?.length)for(let l of n){let{word:d}=l,h=tg("fix",a.uri,a.version,[{range:e,newText:d}]);g.appendMarkdown(`
- `+vU(d,BT(h),`Fix with ${d}`)+`
`)}return g.isTrusted=!0,{range:e,hoverMessage:g}}function vU(t,e,n){let r=n?` "${n}"`:"";return`[${t}](${e}${r})`}function JJ(t){switch(t){case ze.ColorThemeKind.Dark:case ze.ColorThemeKind.HighContrast:return"dark";case ze.ColorThemeKind.HighContrastLight:case ze.ColorThemeKind.Light:return"light"}}function XJ(t){return t.range.with(void 0,t.range.start.with(void 0,t.text.length+t.range.start.character))}function YJ(t){return t.map(XJ)}function SU(t,...e){return e.filter(Cn).reduce((n,r)=>n.union(r),t)}var wr=Ue(require("vscode"),1);var Ws=class extends Qo{_subscriptions=new Set;_eventListeners=new Set;_isRunning=!1;_isNotifyBusy=!1;constructor(){super([()=>this.done(),()=>this._eventListeners.clear()],"AbstractSubscribable")}_hasSubscribers(){return!!this._subscriptions.size}_stop(){this._isRunning=!1,this.sendEvents({name:"onStop"})}_tryToStop(){this._hasSubscribers()||this._stop()}_markAsDone(e){typeof e!="function"&&e.done?.()}_markAllSubscriptionsAsDone(){for(let e of this._subscriptions)this._subscriptions.delete(e),this._markAsDone(e)}_unSub(e){this._subscriptions.delete(e),this._tryToStop()}_start(){this._isRunning||(this.sendEvents({name:"onStart"}),this._isRunning=!0)}_notifySubscriber(e,n){return typeof e=="function"?e(n):e.notify(n)}_notify(e){if(!this._isNotifyBusy)try{this._isNotifyBusy=!0;for(let n of this._subscriptions)this._notifySubscriber(n,e)}finally{this._isNotifyBusy=!1}}subscribe(e){return this._subscriptions.add(e),this._start(),Bn(()=>this._unSub(e),void 0,"subscribe")}notify(e){this.sendEvents({name:"onNotify",value:e}),this._notify(e)}done(){this.sendEvents({name:"onDone"}),this._markAllSubscriptionsAsDone(),this._subscriptions.clear(),this._stop()}sendEvents(e){for(let n of this._eventListeners)n(e)}onEvent(e,n){if(typeof e=="function")return this._eventListeners.add(e),Bn(()=>this._eventListeners.delete(e),void 0,"onEvent");let r=e,i=s=>{s.name===r&&n?.(s)};return this._eventListeners.add(i),Bn(()=>this._eventListeners.delete(i),void 0,`onEvent ${r}`)}};var pg=class extends Ws{notify(e){super.notify(e)}done(){super.done()}};function bU(t,e){return(typeof t=="function"?t:r=>t.subscribe(r))(e)??(()=>{})}var qo=class extends Ws{_source;_dispose;constructor(e){super(),this._source=e}_stop(){super._stop(),un(this._dispose),this._dispose=void 0}_start(){super._start(),this._isRunning&&!this._dispose&&(this._dispose=bU(this._source,{notify:e=>this.notify(e),done:()=>this.done()}))}};function ii(){return new pg}function hg(t){return new qo(t)}function DU(t){return typeof t!="function"?t:{notify:t}}function oc(t){return typeof t=="function"?t:e=>t.notify(e)}function jo(t,e){function n(r){let i=DU(r),s=o=>i.notify(o);return t.subscribe({notify:o=>{e(o,s)},done:()=>i.done?.()})}return hg(n)}var zT=Symbol("not set");function GT(t){let e=zT,n;return r=>{let i=jo(r,(s,o)=>{e=s,clearTimeout(n),n=setTimeout(a,t);function a(){let c=e;e=zT,n=void 0,c!==zT&&o(c)}});return i.onEvent("onStop",()=>clearTimeout(n)),i}}function JT(t){return e=>jo(e,(n,r)=>r(t(n)))}var XT=Symbol("not set");function Tl(t){let e=XT,n;return r=>{let i=jo(r,(s,o)=>{if(e=s,n)return;function a(){let c=e;e=XT,n=void 0,c!==XT&&(n=setTimeout(a,t),o(c))}a()});return i.onEvent("onStop",()=>clearTimeout(n)),i}}function Bo(t,...e){let n=t;for(let r of e)n=r(n);return n}function wU(t){let e=ii(),n=!1,r=e.onEvent(i);function i(o){o.name==="onStart"&&setTimeout(s),(o.name==="onStop"||o.name==="onDone")&&(n=!0)}async function s(){try{for await(let o of t){if(n)break;e.notify(o)}}finally{un(r),e.done()}}return e}function TU(t){let e=ii(),n=!1,r=e.onEvent(i);function i(o){o.name==="onStart"&&setTimeout(s),(o.name==="onStop"||o.name==="onDone")&&(n=!0)}function s(){try{for(let o of t){if(n)break;e.notify(o)}}finally{un(r),e.done()}}return e}function xU(t){return typeof t=="function"?hg(t):t}function xl(t,...e){return Bo(QJ(t),...e)}function QJ(t){return Symbol.iterator in t?TU(t):Symbol.asyncIterator in t?wU(t):xU(t)}var gg=Symbol("has been set"),YT=class extends qo{_value=gg;constructor(e,n=!0){if(super(e),n){let r=this.subscribe({notify:()=>{},done:()=>(un(r),r=void 0)})}}get value(){return this._value===gg?void 0:this._value}notify(e){this._value=e,super.notify(e)}subscribe(e){let n=super.subscribe(e);return this._value!==gg&&oc(e)(this._value),n}hasValue(){return this._value!==gg}};function QT(t,e){return new YT(t,e)}var EU={output:!0},El=class t{constructor(e,n){this.context=e;this.client=n;this._visible=e.globalState.get(t.globalStateKey,!1),this.disposables.push(()=>this.clearDecoration(),wr.default.window.onDidChangeActiveTextEditor(r=>this.refreshEditor(r)),wr.default.workspace.onDidChangeConfiguration(r=>r.affectsConfiguration(Yt)&&this.refreshEditor(void 0)),wr.default.workspace.onDidChangeTextDocument(r=>this.refreshDocument(r.document)),wr.default.languages.registerHoverProvider("*",this.getHoverProvider()),Bo(this.eventEmitter,JT(r=>(r&&this._pendingUpdates.add(r),r)),Tl(100)).subscribe(()=>this.handlePendingUpdates()))}decorationType;disposables=tt();dispose=this.disposables.dispose;eventEmitter=ii();_visible=!1;_pendingUpdates=new Set;get visible(){return this._visible}set visible(e){this.context.globalState.update(t.globalStateKey,e),this._visible!==e&&(this._visible=e,this.resetDecorator())}toggleVisible(){this.visible=!this.visible}refreshEditor(e){e??=wr.default.window.activeTextEditor,e&&this.eventEmitter.notify(e)}refreshDocument(e){if(!this.visible)return;let n=wr.default.window.visibleTextEditors.find(r=>r.document===e);n&&this.refreshEditor(n)}clearDecoration(){this.decorationType?.dispose(),this.decorationType=void 0}resetDecorator(){this.clearDecoration(),this.visible&&(this.createDecorator(),this.refreshEditor())}createDecorator(){this.decorationType?.dispose(),this.decorationType=wr.default.window.createTextEditorDecorationType({opacity:"0.5"})}async getOffsets(e){let n=e?.document;return n?n.uri.scheme in EU?[]:(await this.client.serverApi.getSpellCheckingOffsets({uri:n.uri.toString()})).offsets:[]}handlePendingUpdates(){let e=[...this._pendingUpdates];this._pendingUpdates.clear();for(let n of e)this.updateDecorations(n)}async updateDecorations(e){if(!this.decorationType||!e)return;let n=new wr.default.MarkdownString("Excluded from spell checking");try{let r=e.document,i=[],s=await this.getOffsets(e);if(s.length<2)return;let o=0;for(let c=0;c<s.length-1;c+=2){let u=s[c];if(u<=o){o=s[c+1];continue}let f=new wr.default.Range(r.positionAt(o),r.positionAt(u));i.push({range:f,hoverMessage:n}),o=s[c+1]}let a=r.getText().length;if(o<a){let c=new wr.default.Range(r.positionAt(o),r.positionAt(a));i.push({range:c})}e.setDecorations(this.decorationType,i)}catch(r){e.setDecorations(this.decorationType,[]),qc(r,"Failed to update decorations")}}getHoverProvider(){return{provideHover:async(e,n)=>{if(!this.visible||e.uri.scheme in EU)return;let r=e.getWordRangeAtPosition(n);if(!r)return;let i=e.getText(r),s=await this.client.serverApi.traceWord({uri:e.uri.toString(),word:i}),o=new wr.default.MarkdownString;if(o.appendMarkdown(`### Trace:
`),o.isTrusted=!0,o.baseUri=e.uri,o.supportThemeIcons=!0,s.errors&&o.appendMarkdown("**Errors:** ").appendText(s.errors+`
`),s.traces)for(let c of s.traces){let u=c.traces.filter(g=>g.found),f=c.word;o.appendMarkdown(`**\`${f.replace(/`/g,"'")}\`:** ${c.found?"Found":"Not Found"}
`);for(let g of u)eX(g.dictSource||"")&&!g.dictSource.includes("node_modules")?o.appendMarkdown("- $(book) [").appendText(g.dictName).appendMarkdown("](").appendText(g.dictSource).appendMarkdown(")"):o.appendMarkdown("- $(book) _").appendText(g.dictName).appendMarkdown("_"),g.forbidden&&o.appendMarkdown(" _(Forbidden)_"),g.foundWord&&g.foundWord!==f&&o.appendMarkdown(" **").appendText(g.foundWord.trim()).appendMarkdown("**"),o.appendMarkdown(`
`);o.appendMarkdown(`
`)}return o.appendMarkdown(`
[Disable Trace Mode](command:cSpell.toggleTraceMode)`),new wr.default.Hover(o,r)}}}static globalStateKey="showTrace"},ZJ=/^([a-z-]{2,}):\/\//i;function eX(t){return ZJ.test(t)}var RU=require("node:util"),At=Ue(require("vscode"),1);var kl=Ue(vh(),1);var ZT=Ue(vh(),1);function kU(t){async function e(r,i){let s=new ZT.RequestType(r);return await t.sendRequest(s,i)}return{matchPatternsInDocument:r=>e("matchPatternsInDocument",r)}}var tX=["--nolazy","--inspect=60148"],nX=!1,mg=class t{client;serverApi;static create(e){return new t(e)}constructor(e){let n=e.asAbsolutePath("packages/_serverPatternMatcher/dist/main.cjs"),r={documentSelector:[{scheme:"file"},{scheme:"vscode-vfs"},{scheme:"untitled"}],diagnosticCollectionName:"cspell-pattern-matcher",initializationFailedHandler:c=>(console.error("Server initialization failed. %o",c),!1)},i=[],s={execArgv:i},o={execArgv:[...i,...tX]},a={run:{module:n,transport:kl.TransportKind.ipc,options:s},debug:{module:n,transport:kl.TransportKind.ipc,options:o}};this.client=new kl.LanguageClient("cspell-pattern-matcher",a,r),this.client.registerProposedFeatures(),this.serverApi=kU(this.client),ln(this.initWhenReady(),"Init Pattern Matcher Server")}async matchPatternsInDocument(e,n,r){return this.serverApi.matchPatternsInDocument({uri:e.uri.toString(),patterns:n,settings:r})}dispose(){ex("Dispose: Pattern Matcher Client"),this.client.stop()}onReady(){return this.client.start()}async initWhenReady(){ex("waiting initWhenReady"),await this.onReady(),ex("done initWhenReady")}},ex=(...t)=>{nX&&console.log(...t)};var si=Ue(require("vscode"),1),yg=class{_onDidChangeTreeData=new si.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;outline;refresh(e){this.outline=e?rX(e):void 0,this._onDidChangeTreeData.fire(void 0)}getChildren(e){return e?Promise.resolve(e.children):Promise.resolve(this.outline?.children)}getTreeItem(e){return e.treeItem}getParent(e){return e.parent}};function rX(t){let e={treeItem:new si.TreeItem("root",si.TreeItemCollapsibleState.Expanded)};return e.children=[...t.entries()].map(n=>iX(e,...n)),e}function iX(t,e,n){return{parent:t,treeItem:new si.TreeItem(e,si.TreeItemCollapsibleState.Expanded),children:n.map(FU)}}function FU(t){let n={treeItem:new tx(t)};return n.children=oX(n),n}function sX(t){return t.length<=50?t:t.substr(0,49)+"\u2026"}function oX(t){let e=t.treeItem.pattern;if(e.defs.length<2)return;let n=e.name;return e.defs.map((r,i)=>({name:`${n}.${i}`,defs:[r]})).map(FU)}var tx=class extends si.TreeItem{constructor(n){super(sX(n.name),n.defs.length>1?si.TreeItemCollapsibleState.Expanded:si.TreeItemCollapsibleState.None);this.pattern=n;this.pattern=n;let{timeMs:r,errorMsg:i,toolTip:s,count:o}=aX(n),a=i?" "+i:"",c=[`${r}ms`,`(${o})`,a].filter(u=>!!u);this.description=c.join(" "),this.tooltip=s,this.command={command:"cSpellRegExpTester.selectRegExp",arguments:[n.defs[0]?.regexp],title:"Select RegExp"},this.contextValue="regexp"}};function aX(t){let e=t.defs.map(o=>o.elapsedTime).reduce((o,a)=>o+a,0).toFixed(2),n=t.defs.map(o=>o.errorMessage).filter(o=>!!o).join(", "),r=t.defs.map(o=>o.regexp.toString()),i=r.length>1?"Multi Pattern":r.join(""),s=t.defs.map(o=>o.matches.length).reduce((o,a)=>o+a,0);return{timeMs:e,errorMsg:n,toolTip:i,count:s}}var cX=5;function AU(t,e){let n=new Set,r=new yg,i;n.add(At.window.registerTreeDataProvider("cSpellRegExpView",r));let s,o=At.window.createTextEditorDecorationType({overviewRulerColor:"green",overviewRulerLane:At.OverviewRulerLane.Center,light:{backgroundColor:"#C0C0FFCC"},dark:{backgroundColor:"#347890CC"}}),a=PU(),c=a?At.window.activeTextEditor:void 0,u,f=[],g=jc(p,"updateDecorations",Uc);async function p(){if(!a||!c){d();return}let ne=c.document,V=ne.version,N=await e.getConfigurationForDocument(ne,{includeRegExpList:!0,ignoreRegExpList:!0,patterns:!0}),$=uX(N.docSettings,f),te=$.map(ae=>ae.pattern),K=u?0:-1,G=await j(),Q={patterns:N.docSettings?.patterns||N.settings?.patterns||[]};await G.matchPatternsInDocument(ne,te,Q).then(ae=>{if(!At.window.activeTextEditor||ne.version!==V||At.window.activeTextEditor?.document!=ne||ae.message)return;let se=ae&&new Map;ae?.patternMatches.forEach(($e,ke)=>{let ht=$[ke].category,Tt=se?.get(ht)||[];Tt.push($e),se?.set(ht,Tt)}),r.refresh(se);let ie=At.window.activeTextEditor,ve=ae.patternMatches.filter(($e,ke)=>ke===K).map(l).reduce(($e,ke)=>$e.concat(ke),[]).map($e=>{let{range:ke,message:ht}=$e,Tt=ie.document.positionAt(ke[0]),zn=ie.document.positionAt(ke[1]);return{range:new At.Range(Tt,zn),hoverMessage:ht}});ie.setDecorations(o,ve)})}function l(ne){let{name:V,defs:N}=ne;return N.map($=>$.matches.map(te=>({range:te,elapsedTime:$.elapsedTime})).map(({range:te,elapsedTime:K})=>({range:te,message:h(V,K)}))).reduce(($,te)=>$.concat(te),[])}function d(){c?.setDecorations(o,[])}function h(ne,V){return new At.MarkdownString().appendText(ne+" "+V.toFixed(2)+"ms")}function m(){s&&(clearTimeout(s),s=void 0),s=setTimeout(g,100)}c&&m(),At.window.onDidChangeActiveTextEditor(ne=>{a&&(c=ne,ne&&m())},null,t.subscriptions),At.workspace.onDidChangeTextDocument(ne=>{a&&c&&ne.document===c.document&&m()},null,t.subscriptions);function C(){}function D(ne){function V($){try{Uh($,"g")}catch(te){return Mc(te)?te.message:(0,RU.format)(te)}}u=ne||u;let N=At.window.showInputBox({prompt:"Enter a Regular Expression",placeHolder:"Example: /\bw+/g",value:u?.toString(),validateInput:V}).then($=>{u=$||void 0,k(u),m()});return ln(N,"userTestRegExp")}function T(ne){return typeof ne=="string"&&!!ne}function k(ne){f=[...new Set([ne].concat(f))].filter(T),f.length=Math.min(f.length,cX)}function I(ne){u===ne?u=void 0:u=ne,k(u),m()}function B(ne){if(ne?.treeItem?.pattern){m();let{defs:V,name:N}=ne.treeItem.pattern;D(V[0]?.regexp||N)}}function W(){let ne=a;a=PU(),ne!=a&&(a?(c=At.window.activeTextEditor,m()):d())}function j(){i||(i=mg.create(t));let ne=i;return ne.onReady().then(()=>ne)}function re(){for(let ne of n)ne.dispose();n.clear()}t.subscriptions.push({dispose:re},At.commands.registerCommand("cSpellRegExpTester.testRegExp",jc(D,"testRegExp",qc)),At.commands.registerCommand("cSpellRegExpTester.selectRegExp",I),At.commands.registerCommand("cSpellRegExpTester.editRegExp",B),At.workspace.onDidChangeConfiguration(W))}function uX(t,e){let n=[];return e.forEach(r=>n.push({category:"User Patterns",pattern:r})),t?.includeRegExpList?.forEach(r=>n.push({category:"Include Regexp List",pattern:r.toString()})),t?.ignoreRegExpList?.forEach(r=>n.push({category:"Exclude Regexp List",pattern:r.toString()})),t?.patterns?.forEach(r=>n.push({category:"Patterns",pattern:lX(r)})),n}function lX(t){let{name:e,pattern:n}=t;function r(s){return s.toString()}function i(s){return Array.isArray(s)?s.map(r):r(s)}return{name:e,pattern:i(n)}}function PU(){return!!At.workspace.getConfiguration(Yt)?.get("experimental.enableRegexpView")}var IU=require("vscode");var Cg=class{constructor(e){this.client=e;this.disposables.push(e.onDiagnostics(n=>this.handleDiagsFromServer(n))),this.disposables.push(IU.workspace.onDidCloseTextDocument(n=>this.handleDocClose(n)))}disposables=tt();issues=new Map;subscribable=ii();cachedSuggestions=new Map;getSpellingIssues(e){return this.getIssues(e,n=>n.isIssueTypeSpelling())}getDirectiveIssues(e){return this.getIssues(e,n=>n.isIssueTypeDirective())}getIssues(e,n){let r=this.rawIssues(e);if(r)return n?new vg(r.filter(n)):new vg(r)}getSpellingIssueByFile(){return[...this.issues.values()].map(e=>({...e,issues:e.issues.filter(n=>n.isIssueTypeSpelling())}))}getIssuesByIssueType(e,n){return this.getIssues(n,r=>r.isIssueType(e))}getIssueCount(e,n=r=>r.isIssueTypeSpelling()){return e?this.issues.get(e.toString())?.issues.filter(n).length||0:[...this.issues.values()].reduce((r,i)=>r+i.issues.filter(n).length,0)}getUrisWithIssues(){return[...this.issues.values()].filter(e=>e.issues.length).map(e=>e.uri)}onDidChangeDiagnostics(e){return this.subscribable.subscribe(e)}getSuggestionsForIssue(e){let n=e.document.uri.toString(),r=Xs(this.cachedSuggestions,n,()=>new Map);return Xs(r,e.word,()=>this.fetchSuggestionsForIssue(e))}async fetchSuggestionsForIssue(e){return(await this.client.requestSpellingSuggestions(e.word,e.document)).suggestions}dispose=this.disposables.dispose;handleDiagsFromServer(e){let n=this.mapToFileIssues(e);if(!n)return;let r=n.uri.toString();this.cachedSuggestions.delete(r),this.issues.set(r,n),this.subscribable.notify({uris:[e.uri]})}handleDocClose(e){let n=e.uri.toString();this.cachedSuggestions.delete(n),this.issues.delete(n)}mapToFileIssues(e){let n=Di(e.uri);if(!n){xc(`Failed to find document for ${e.uri.toString()}`);return}return{uri:n.uri,document:n,issues:e.diagnostics.map(r=>nx.fromDiagnostic(n,r,e.version||n.version))}}rawIssues(e){return e?this.issues.get(e.toString())?.issues:[...this.issues.values()].flatMap(n=>n.issues)}getConfigurationTargets(e){return this.client.getConfigurationTargets({uri:e})}},nx=class t{constructor(e,n,r){this.document=e;this.diag=n;this.version=r;this.document=e}get uri(){return this.document.uri}isFlagged(){return this.diag.data?.isFlagged||!1}isKnown(){return this.diag.data?.isKnown||!1}isSuggestion(){return this.diag.data?.isSuggestion||!1}treatAsSuggestion(){return this.isSuggestion()||!this.applyStrictRules()&&!this.isFlagged()&&!this.isKnown()}applyStrictRules(){return this.diag.data?.strict??!0}hasPreferredSuggestions(){let e=this.providedSuggestions();return e?e.filter(n=>n.isPreferred).length===1:!1}getPreferredSuggestions(){let e=this.providedSuggestions();if(!e)return;let n=e.filter(r=>r.isPreferred);if(n.length===1)return n.map(r=>r.word)}get word(){let e=this.diag.data?.text;return e!==void 0?e:this.document.getText(this.diag.range)}isIssueTypeSpelling(){return!this.diag.data?.issueType}isIssueTypeDirective(){return this.diag.data?.issueType===$E.directive}isIssueType(e){return this.diag.data?.issueType===e}isStale(){return this.version!==this.document.version}get severity(){return this.diag.severity}get range(){return this.diag.range}providedSuggestions(){return this.diag.data?.suggestions}static fromDiagnostic(e,n,r){return new t(e,n,r)}},vg=class{constructor(e){this.issues=e;this.map=e.map.bind(e),this.filter=e.filter.bind(e),this.forEach=e.forEach.bind(e)}map;filter;forEach;get length(){return this.issues.length}getSpellingIssues(){return this.issues.filter(e=>e.isIssueTypeSpelling())}getDirectiveIssues(){return this.issues.filter(e=>e.isIssueTypeDirective())}getStats(){let e={spelling:0,directive:0,flagged:0,suggestions:0,haveSuggestions:0};for(let n of this.issues)n.isIssueTypeSpelling()?(e.spelling++,n.isFlagged()&&e.flagged++,n.isSuggestion()&&e.suggestions++,n.providedSuggestions()?.length&&e.haveSuggestions++):n.isIssueTypeDirective()&&e.directive++;return e}[Symbol.iterator](){return this.issues[Symbol.iterator]()}};var ct=Ue(require("vscode"),1),Pl=require("vscode");var hn=()=>{};var Tr=Ue(require("vscode"),1),oi={issue:new Tr.ThemeIcon("issues",new Tr.ThemeColor("list.warningForeground")),info:new Tr.ThemeIcon("info"),warning:new Tr.ThemeIcon("warning",new Tr.ThemeColor("list.warningForeground")),error:new Tr.ThemeIcon("error",new Tr.ThemeColor("list.errorForeground")),doc:new Tr.ThemeIcon("go-to-file"),applySuggestion:new Tr.ThemeIcon("pencil"),applySuggestionPreferred:new Tr.ThemeIcon("pencil"),gear:new Tr.ThemeIcon("gear")};function _U(t){return rx({isFlagged:()=>t.isFlagged(),isKnown:()=>t.isKnown(),isSuggestion:()=>t.treatAsSuggestion()})}function rx(t){return t.isFlagged()?oi.error:t.isKnown()?oi.warning:t.isSuggestion()?oi.info:oi.issue}function Fl(t){let e=Wh(t);return n=>e(n.uri)}var _n=class{};function Sg(t){return Wo(t).replace(/^`+/g,"").replace(/`+$/g,"")}function Wo(t){let e=[...t.matchAll(/`+/g)].map(r=>r[0].length).reduce((r,i)=>Math.max(r,i),0),n="`".repeat(e+1);return t=t.replace(/\t/g,"\u21E5").replace(/\r?\n/g,"\u23CE").replace(/\r/g,"\u23CE").replace(/\s/g," ").replace("`$","` ").replace("^`"," `"),n+t+n}var fX=!1,Ji=fX?console.log:hn,pX=200;function ax(t,e){t.subscriptions.push(ix.register(e)),t.subscriptions.push(ct.commands.registerCommand(ur["cSpell.issuesViewByFile.item.autoFixSpellingIssues"],gX),ct.commands.registerCommand(ur["cSpell.issuesViewByFile.item.addWordToDictionary"],mX),ct.commands.registerCommand("cSpell.issuesViewByFile.item.addWordToTarget",yX))}var ix=class t{disposeList=tt();treeView;treeDataProvider;uiEventFnEmitter=Ys();constructor(e){let n=new sx({issueTracker:e,setDescription:r=>{this.treeView.description=r},setMessage:r=>{this.treeView.message=r},onDidUpdate:()=>this.onDidUpdate()});this.treeDataProvider=n,this.treeView=ct.window.createTreeView(t.viewID,{treeDataProvider:n,showCollapseAll:!0}),this.disposeList.push(this.treeView,this.uiEventFnEmitter,Dm(this.uiEventFnEmitter,bm(pX))(r=>r()),ct.window.onDidChangeActiveTextEditor(r=>this._emitUIEvent(()=>this.onDidChangeActiveTextEditor(r))),ct.window.onDidChangeActiveNotebookEditor(r=>this._emitUIEvent(()=>this.onDidChangeActiveNotebookEditor(r))),n.onDidChangeTreeData(r=>this.onDidChangeTreeData(r)),this.treeView.onDidChangeSelection(r=>this.onDidChangeSelection(r)),this.treeView.onDidChangeVisibility(r=>(Ji("onDidChangeVisibility",r),this._emitUIEvent(()=>this.onDidChangeActiveTextEditor(ct.window.activeTextEditor))))),this.treeView.title="Spelling Issues",this.treeView.message="No open documents."}_emitUIEvent(e){this.uiEventFnEmitter.fire(e)}onDidChangeActiveTextEditor(e){e&&(Ji("onDidChangeActiveTextEditor",e.document.uri.toString()),ln(this.adjustRevel(e.document,e.visibleRanges),"onDidChangeActiveTextEditor"))}onDidChangeActiveNotebookEditor(e,n){if(!e)return;let r=e.notebook;n??=e.visibleRanges;let i=ct.window.visibleTextEditors,s=wm(i,"document"),o=[];for(let u of n)for(let f=u.start;f<u.end;f++){let g=r.cellAt(f);if(!s.get(g.document))continue;let l=void 0;l&&o.push(l)}if(!o.length)return;let a=o.reduce((u,f)=>(u.top??=f.top,u.bottom=f.bottom??u.bottom,u.closest??=f.closest,u),{...o[0]}),c=o.map(u=>u.middle).filter(Cn);a.middle=c[Math.floor(c.length/2)]}onDidUpdate(){Ji("IssueExplorerByFile.onDidUpdate",ct.window.activeTextEditor?.document.uri.toString()),this.onDidChangeActiveTextEditor(ct.window.activeTextEditor)}onDidChangeTreeData(e){Ji("onDidChangeTreeData");let n=this.treeDataProvider.getIssueCount();this.treeView.badge=n?{tooltip:`Issues found: ${n}`,value:n}:void 0}onDidChangeSelection(e){Ji("onDidChangeSelection",e.selection.length);let n=e.selection[0];n instanceof ac&&Ji("IssueExplorerByFile.onDidChangeSelection",n.issue.diag.message)}async adjustRevel(e,n){if(!this.treeView.visible)return;let r=this.treeDataProvider.findMatchingChild(e.uri);if(!r)return;let i=r.findMatchingIssues(n);return i?this.revealItems(i,!1):this.revealItems([r],!0)}async revealItems(e,n){if(Ji("revealItems",e.length,this.treeView.visible),!this.treeView.visible||!e.length)return;let r=e[e.length-1],i=e[0];await this.treeView.reveal(r,{select:!1,focus:!1,expand:n}),await this.treeView.reveal(i,{select:!1,focus:!1,expand:n})}dispose=this.disposeList.dispose;static viewID="cSpellIssuesViewByFile";static register(e){return new t(e)}},sx=class{constructor(e){this.options=e;this.issueTracker=void 0,this.disposeList.push(this.emitOnDidChange,ct.window.onDidChangeVisibleTextEditors(()=>this.updateChild()),ct.window.tabGroups.onDidChangeTabs(()=>this.updateChild())),e.issueTracker.then(n=>{this.issueTracker=n,this.disposeList.push(this.issueTracker.onDidChangeDiagnostics(r=>this.handleOnDidChangeDiagnostics(r))),this.updateChild()})}emitOnDidChange=new ct.EventEmitter;disposeList=tt();issueTracker;children;getTreeItem(e){return e.getTreeItem()}getChildren(e){if(!this.issueTracker)return;if(e)return e.getChildren();if(this.children)return this.children;let n={onlyVisible:!0,issueTracker:this.issueTracker,invalidate:r=>this.updateChild(r),requestSuggestions:r=>this.issueTracker?.getSuggestionsForIssue(r)||Promise.resolve([])};return this.children=hX(n),this.updateMessage(this.children.length?void 0:"No issues found."),setTimeout(()=>this.options.onDidUpdate(),10),this.children}getParent(e){if(e instanceof _n)return e.getParent()}onDidChangeTreeData=this.emitOnDidChange.event;handleOnDidChangeDiagnostics(e){Ji("IssuesTreeDataProvider.handleOnDidChangeDiagnostics",e.uris.map(n=>n.toString(!0))),this.updateChild()}updateChild(e=void 0){e||(this.children=void 0),this.emitOnDidChange.fire(e)}updateMessage(e,n){this.options.setDescription(n),this.options.setMessage(e)}getIssueCount(){if(!this.issueTracker)return 0;let e=Fl(!0);return this.issueTracker.getIssueCount(void 0,n=>n.isIssueTypeSpelling()&&e(n))}findMatchingChild(e){return this.children?.find(n=>n.document.uri.toString()===e.toString())}dispose=this.disposeList.dispose},bg=class extends _n{constructor(n,r,i){super();this.context=n;this.document=r;this.issues=i}children;targets;getTreeItem(){let n=ct.workspace.asRelativePath(this.document.uri,!0),r=new Pl.TreeItem(n);r.resourceUri=this.document.uri,r.iconPath=ct.ThemeIcon.File,r.description=`${this.issues.length}`;let i=this.issues.some(a=>a.hasPreferredSuggestions());r.contextValue=i?"issue.FileWithIssuesTreeItem.hasPreferred":"issue.FileWithIssuesTreeItem";let o=[ct.window.activeTextEditor?.document.uri,ct.window.activeNotebookEditor?.notebook.uri,...ct.window.activeNotebookEditor?.notebook.getCells().map(a=>a.document.uri)||[]].includes(this.document.uri);return r.collapsibleState=this.issues.length?o?ct.TreeItemCollapsibleState.Expanded:ct.TreeItemCollapsibleState.Collapsed:void 0,r}getChildren(){return this.children?this.children:(this.children=this.issues.map(n=>new ac(this.context,this,n,this.getTargets)).sort(ac.compare),this.children)}getParent(){}findMatchingIssues(n){if(!n)return this.children;let r=this.children?.filter(i=>i.findMatchingIssues(n));return r?.length?r:void 0}getTargets=()=>this.targets?this.targets:(this.targets=this.context.issueTracker.getConfigurationTargets(this.document.uri).then(n=>({targets:n.configTargets})),this.targets);toString(){return`FileWithIssuesTreeItem: ${this.document.uri.toString()}`}},ac=class extends _n{constructor(n,r,i,s){super();this.context=n;this.file=r;this.issue=i;this.getTargets=s;this.cell=Fu(i.document),this.document=this.cell?.document??i.document,this.cellIndex=this.cell?this.cell.index:-1,this.range=i.range}children;pChildren;cell;document;cellIndex;range;getTreeItem(){let n=this.issue,r=new Pl.TreeItem(n.diag.message),i=n.range;r.id=[n.uri.toString(),i.start.line,i.start.character,i.end.line,i.end.character].join(":");let s=`${this.cellIndex>=0?`Cell ${this.cellIndex+1}, `:""}Ln ${this.range.start.line+1}, Col ${this.range.start.character+1}`,o=this.issue.getPreferredSuggestions(),a=o?` (fix with: ${o.join(", ")})`:"";r.description=s+a;let c=!!this.issue.diag.data?.isFlagged;return r.contextValue="issue.FileIssueTreeItem"+(c?".flagged":""),r.collapsibleState=!this.children||this.children.length?ct.TreeItemCollapsibleState.Collapsed:ct.TreeItemCollapsibleState.None,r.iconPath=_U(this.issue),r.tooltip=this.tooltip(),r.command=this.getCommand(),r}getCommand(){return{title:"Goto Issue",command:"vscode.open",arguments:[this.issue.document.uri,{selection:this.range,preserveFocus:!0}]}}getChildren(){if(this.children)return this.children;this.pChildren??=this.#e()}async#e(){if(this.children)return this.children;let n=await this.context.requestSuggestions(this.issue),r=await this.getTargets(this.issue.uri),i=this.children=[...n.map(s=>new ox(this,this.issue,s)),...r.targets.map(s=>new Dg(this,this.issue,s))];return this.pChildren=void 0,this.context.invalidate(this),i}getParent(){return this.file}findMatchingIssues(n){if(!n)return[this];for(let r of n)if(r.contains(this.range))return[this]}tooltip(){}toString(){return`FileIssueTreeItem: ${this.issue.diag.message}`}static compare(n,r){let i=n.cellIndex-r.cellIndex;if(i)return i;let s=n.range.start.line-r.range.start.line;return s||n.range.start.character-r.range.start.character}},ox=class extends _n{constructor(n,r,i){super();this.parent=n;this.issue=r;this.suggestion=i}getTreeItem(){let n=this.issue,{word:r,isPreferred:i}=this.suggestion,s=new Pl.TreeItem(r);s.id=NU(n.uri,n.range,r),s.iconPath=i?oi.applySuggestionPreferred:oi.applySuggestion,s.description=i&&"(preferred)";let o=Wo(r),c="Replace Issue with: "+Sg(r);return s.command={title:c,command:ur["cSpell.fixSpellingIssue"],arguments:[this.issue.uri,this.issue.word,r,[this.issue.range]]},s.tooltip=new ct.MarkdownString().appendMarkdown(`Fix Issue with: ${o}`),s.accessibilityInformation={label:c},s.contextValue=i?"issue.suggestion-preferred":"issue.suggestion",s}getChildren(){}getParent(){return this.parent}isPreferred(){return this.suggestion.isPreferred||!1}toString(){return`IssueSuggestionTreeItem: ${this.issue.word} -> ${this.suggestion.word}`}},Dg=class extends _n{constructor(n,r,i){super();this.parent=n;this.issue=r;this.target=i}getTreeItem(){let n=this.issue,r=new Pl.TreeItem("Add to "+this.target.name);r.id=NU(n.uri,n.range,this.target.name),r.iconPath=oi.gear,r.description="";let i=Wo(n.word),s=this.target.kind==="dictionary"?"dictionary":"configuration",o=`Add ${i} to ${this.target.name} ${s}.`;return r.tooltip=new ct.MarkdownString().appendMarkdown(o),r.accessibilityInformation={label:o},r.command={title:o,command:"cSpell.issuesViewByFile.item.addWordToTarget",arguments:[this]},r}getChildren(){}getParent(){return this.parent}isPreferred(){return!1}applyFix(){return it(rt("dictionaryHelper").addWordsToTargetServerConfigTarget(this.issue.word,this.target,this.issue.document.uri),"addWordsToConfig")}toString(){return`IssueAddToTargetTreeItem: ${this.issue.word} to ${this.target.name}`}};function hX(t){let e=Fl(!0),n=t.issueTracker.getSpellingIssueByFile().filter(e).map(a=>({...a,doc:Di(a.uri)})),r=o(n),i=new Intl.Collator().compare;return[...r].filter(([a,c])=>c.length).map(([a,c])=>new bg(t,a,c)).sort((a,c)=>i(a.document.uri.toString(!0),c.document.uri.toString(!0)));function o(a){let c=new Map;for(let f of a)u(f);return c;function u(f){if(!f.doc)return;let g=f.doc,p=Pf(g),l=c.get(p)||[];l.push(...f.issues),c.set(p,l)}}}function gX(t){if(t instanceof bg)return Bh(t.document.uri)}function mX(t){if(!(t instanceof ac))return;let e=t.document;return rc["cSpell.addWordToDictionary"](t.issue.word,e.uri)}function yX(t){if(t instanceof Dg)return Ji("handleAddWordToTarget %o",{word:t.issue.word,target:t.target}),t.applyFix()}function NU(t,e,...n){return[t.toString(),e.start.line,e.start.character,e.end.line,e.end.character,...n].join(":")}var tn=Ue(require("vscode"),1),cc=require("vscode");function px(t,e){t.subscriptions.push(cx.register(e)),t.subscriptions.push(tn.commands.registerCommand(ur["cSpell.issueViewer.item.openSuggestionsForIssue"],bX),tn.commands.registerCommand(ur["cSpell.issueViewer.item.autoFixSpellingIssues"],DX),tn.commands.registerCommand(ur["cSpell.issueViewer.item.addWordToDictionary"],wX))}var CX=100,cx=class t{disposeList=tt();treeView;uiEventFnEmitter=ii();treeDataProvider;constructor(e){this.treeDataProvider=new ux({issueTracker:void 0,setDescription:n=>{this.treeView.description=n},setMessage:n=>{this.treeView.message=n}}),e.then(n=>this.treeDataProvider.setIssuesTracker(n)),this.treeView=tn.window.createTreeView(t.viewID,{treeDataProvider:this.treeDataProvider,showCollapseAll:!0}),this.disposeList.push(this.treeView,xl(this.uiEventFnEmitter,GT(CX)).subscribe(n=>n()),this.listenEvent(tn.window.onDidChangeTextEditorSelection,n=>this.handleOnDidChangeTextEditorSelection(n)),this.listenEvent(tn.window.onDidChangeActiveTextEditor,n=>this.handleTextEditorChange(n)),this.listenEvent(this.treeDataProvider.onDidChangeTreeData.bind(this.treeDataProvider),()=>this.handleTextEditorChange(tn.window.activeTextEditor))),this.treeView.title="Words with Issues",this.treeView.message="No open documents."}dispose=this.disposeList.dispose;handleOnDidChangeTextEditorSelection(e){this.handleTextEditorChange(e.textEditor)}handleTextEditorChange(e){if(!this.treeView.visible||!e)return;let n=this.treeDataProvider.findRelatedIssue(e);n&&this.treeView.reveal(n,{select:!0,focus:!1})}listenEvent(e,n){return e(r=>this.uiEventFnEmitter.notify(()=>n(r)))}static viewID="cSpellIssuesViewByIssue";static register(e){return new t(e)}},ux=class{constructor(e){this.options=e;this.issueTracker=void 0,this.disposeList.push(this.emitOnDidChange,tn.window.onDidChangeVisibleTextEditors(()=>this.refresh()),tn.window.tabGroups.onDidChangeTabs(()=>this.refresh())),this.options.issueTracker&&this.setIssuesTracker(this.options.issueTracker)}emitOnDidChange=ii();disposeList=tt();suggestions=new Map;issueTracker;children;setIssuesTracker(e){this.issueTracker=e,this.disposeList.push(this.issueTracker.onDidChangeDiagnostics(n=>this.handleOnDidChangeDiagnostics(n))),this.refresh()}getTreeItem(e){return e.getTreeItem()}getChildren(e){if(!this.issueTracker)return;if(e)return e.getChildren();let n={onlyVisible:!0,issueTracker:this.issueTracker,invalidate:i=>this.emitOnDidChange.notify(i),requestSuggestions:i=>(ln(this.fetchSuggestions(i),"IssuesTreeDataProvider requestSuggestions"),this.suggestions.get(i.word))},r=vX(n);return this.children=r,this.updateMessage(r.length?void 0:"No issues found."),r}getParent(e){if(e instanceof _n)return e.getParent()}onDidChangeTreeData(e,n,r){this.children=void 0;let i=n?e.bind(n):e,s=this.emitOnDidChange.subscribe(o=>i(o));return r&&r.push(s),s}findRelatedIssue(e){return this.children?this.children.find(r=>r.intersectsActiveSelection(e)):void 0}handleOnDidChangeDiagnostics(e){this.refresh()}refresh(e){this.emitOnDidChange.notify(e)}async fetchSuggestions(e){if(!this.issueTracker)return;let{word:n}=e,r=await this.issueTracker.getSuggestionsForIssue(e);this.suggestions.set(n,r),e.onUpdate(r)}updateMessage(e){this.options.setMessage(e)}dispose=this.disposeList.dispose},Rl=class extends _n{constructor(n,r,i=[]){super();this.context=n;this.word=r;i.forEach(s=>this.addIssue(s))}suggestions;suggestionsByDocument=new Map;conicalDocuments=new Set;issues=[];addIssue(n){let r=n.document,i=this.context.requestSuggestions({word:this.word,document:r,onUpdate:s=>this.onUpdate(r,s)});return this.suggestionsByDocument.set(r,i||[]),this.conicalDocuments.add(Pf(r)),this.issues.push(n)}getTreeItem(){let n=new cc.TreeItem(this.word),r=this.hasPreferred(),i=this.issues.some(c=>c.isFlagged()),s=this.issues.some(c=>c.isKnown());n.iconPath=rx({isFlagged:()=>i,isKnown:()=>s,isSuggestion:()=>this.issues.some(c=>c.treatAsSuggestion())}),n.description=`${OU(this.issues.length,"issue","issues")} in ${OU(this.conicalDocuments.size,"file","files")}${r?"*":""}`;let o=`Number of occurrences: ${this.issues.length}, files: ${this.conicalDocuments.size}`+(r?" (auto fix)":""),a=Wo(this.word);return n.tooltip=new tn.MarkdownString().appendMarkdown((i?"Flagged":s?"Misspelled":"Unknown")+" word: "+a).appendText(`

`).appendText(o),n.collapsibleState=tn.TreeItemCollapsibleState.Collapsed,n.contextValue=r?"issue.hasPreferred":"issue",n}getParent(){}getChildren(){let{context:n,word:r,issues:i,suggestions:s}=this;return[new lx(n,this,r,i),new dx(this,r,i,s)]}getRange(){}hasPreferred(){return this.suggestions?.filter(r=>r.isPreferred)?.length===1}getPreferred(){let n=this.suggestions?.filter(i=>i.isPreferred);if(n?.length!==1)return;let{word:r}=n[0];return{text:this.word,newText:r,ranges:this.issues.map(i=>i.range)}}intersectsActiveSelection(n){let{document:r,selection:i}=n,{issues:s}=this;return!!s.filter(a=>a.document===r).find(a=>a.range.intersection(i))}async addToDictionary(){let n=this.issues[0]?.document;return rc["cSpell.addWordToDictionary"](this.word,n?.uri)}onUpdate(n,r){this.suggestionsByDocument.set(n,r),this.suggestions=TX(this.suggestionsByDocument),this.context.invalidate(this)}toString(){return`WordIssueTreeItem ${this.word}`}},lx=class extends _n{constructor(n,r,i,s){super();this.context=n;this.parent=r;this.word=i;this.issues=s}getTreeItem(){let n=new cc.TreeItem("Locations:");return n.collapsibleState=tn.TreeItemCollapsibleState.Collapsed,n}getChildren(){return this.issues.map(n=>new wg(this,n)).sort(wg.compare)}getParent(){return this.parent}toString(){return`IssueLocationsTreeItem ${this.word}`}},dx=class extends _n{constructor(n,r,i,s){super();this.parent=n;this.word=r;this.issues=i;this.suggestions=s}suggestions;getTreeItem(){return new cc.TreeItem("Fixes:",tn.TreeItemCollapsibleState.Expanded)}getChildren(){return this.suggestions?.map(n=>new fx(this,this.word,n))}getParent(){return this.parent}toString(){return`IssueFixesTreeItem ${this.word}`}},wg=class extends _n{constructor(n,r){super();this.parent=n;this.issue=r;this.cell=Fu(this.doc)}cell;get doc(){return this.issue.document}getTreeItem(){let n=this.issue.range,i=`${this.cell?`Cell ${this.cell.index+1} `:" "}Ln ${n.start.line+1} Col ${n.start.character+1}`,s=new cc.TreeItem("");return s.resourceUri=this.doc.uri,s.label=void 0,s.iconPath=tn.ThemeIcon.File,s.description=i,s.command={title:"Goto Issue",command:"vscode.open",arguments:[this.issue.document.uri,{selection:this.issue.range}]},s.contextValue="issue.location",s}getChildren(){}getParent(){return this.parent}getRange(){return this.issue.range}toString(){return`IssueLocationTreeItem ${this.issue.word}`}static compare(n,r){let i=n.cell?.document.uri||n.doc.uri,s=r.cell?.document.uri||r.doc.uri,o=i.toString().localeCompare(s.toString());if(o!==0)return o;if(n.cell?.index!==r.cell?.index)return(n.cell?.index||0)-(r.cell?.index||0);let a=n.issue.range,c=r.issue.range;return a.start.line-c.start.line||a.start.character-c.start.character}},fx=class extends _n{constructor(n,r,i){super();this.parent=n;this.word=r;this.suggestion=i}getTreeItem(){let{word:n,isPreferred:r}=this.suggestion,i=new cc.TreeItem(n);i.iconPath=r?oi.applySuggestionPreferred:oi.applySuggestion,i.description=r&&"(preferred)";let s=Wo(n),a="Find and Replace Issue with: "+Sg(n);return i.command={title:a,command:"workbench.action.findInFiles",arguments:[{query:this.word,replace:n,preserveCase:!0,triggerSearch:!0,isRegex:!1,isCaseSensitive:!1,onlyOpenEditors:!0}]},i.tooltip=new tn.MarkdownString().appendMarkdown(`Fix Issue with: ${s}`),i.accessibilityInformation={label:a},i.contextValue=r?"issue.suggestion-preferred":"issue.suggestion",i}getChildren(){}getParent(){return this.parent}isPreferred(){return this.suggestion.isPreferred||!1}toString(){return`IssueSuggestionTreeItem ${this.word}`}};function vX(t){let e=Fl(t.onlyVisible),n=(t.issueTracker.getSpellingIssues()||[]).filter(e),r=new Map,i=SX(r,c=>new Rl(t,c));n.forEach(a);let s=new Intl.Collator().compare;return[...r.values()].sort((c,u)=>s(c.word,u.word));function a(c){i(c.word).addIssue(c)}}function SX(t,e){return n=>{let r=t.get(n);if(r!==void 0)return r;let i=e(n);return t.set(n,i),i}}function bX(t){t instanceof _n}function DX(t){t instanceof Rl}function wX(t){if(t instanceof Rl)return t.addToDictionary()}function OU(t,e,n){return`${t} ${t===1?e:n}`}function TX(t){let e=new Map;for(let s of t.values())for(let o of s){let a=e.get(o.word)||o.isPreferred;e.set(o.word,a)}let n=[...e.entries()].map(([s,o])=>({word:s,isPreferred:o})),r=n.filter(s=>s.isPreferred),i=n.filter(s=>!s.isPreferred);return[...r,...i]}var MU=require("os"),Vr=Ue(require("vscode"),1),Ai=require("vscode");function hx(t){return t.map(xX)}function xX(t){let e=gl(t);if(e)return yl(e);if(t.kind!=="dictionary")throw new Error(`Unknown config target ${t.kind}`);return $h(t.dictionaryUri,t.name)}var LU="custom-dictionary",EX=`# Custom Dictionary Words
`,Tg=class{constructor(e){this.client=e}async addWordsToTargets(e,n,r){let i=await this.resolveTargets(n,r);if(i)return this.addWordToDictionaries(e,i)}addWordsToConfigRep(e,n){let r=yl(n);return this.addWordToDictionary(e,r)}addWordToDictionaries(e,n){return Promise.all(n.map(i=>this.addWordToDictionary(e,i))).then(()=>{})}async addWordToDictionary(e,n){e=Ui(e);try{await n.addWords(e)}catch(r){throw new yx(`Unable to add "${e}"`,n,e,r)}}async removeWordsFromTargets(e,n,r){e=Ui(e);let i=await this.resolveTargets(n,r);if(i)return this.removeWordFromDictionaries(e,i)}removeWordsFromConfigRep(e,n){let r=yl(n);return this.removeWordFromDictionary(e,r)}removeWordFromDictionaries(e,n){return Promise.all(n.map(i=>this.removeWordFromDictionary(e,i))).then(()=>{})}async removeWordFromDictionary(e,n){e=Ui(e);try{await n.removeWords(e)}catch(r){throw new xg(`Unable to remove "${e}" from "${n.name}"`,n,r)}}async addIssuesToDictionary(e){if(e=e||Vr.window.activeTextEditor?.document,!e)return;let n=kX(e)?e:await Vr.workspace.openTextDocument(e),r=Wr(n.uri);if(!r.length)return;let i=new Set(r.map(s=>n.getText(s.range)));return this.addWordsToTargets([...i],ud,n.uri)}async createCustomDictionary(e,n){let r=await FX(e);if(!r)throw new Error("Unable to determine location to create dictionary.");if(await this.addCustomDictionaryToConfig(e,r.relPath,n||r.name,r.scope),Ro.isCSpellConfigRepository(e)){let i=await Vr.window.showTextDocument(e.configFileUri,{viewColumn:Vr.ViewColumn.Active});Yh(i,"dictionaryDefinitions")}await Vr.window.showTextDocument(r.uri,{viewColumn:Vr.ViewColumn.Beside})}addCustomDictionaryToConfig(e,n,r,i){let s={name:r,path:n,addWords:!0,scope:i??e.defaultDictionaryScope};return NX(e,s)}async getDocConfig(e){if(e){let n=await Vr.workspace.openTextDocument(e);return this.client.getConfigurationForDocument(n,{})}return this.client.getConfigurationForDocument(void 0,{})}async resolveTargets(e,n){if(typeof e!="function")return hx(e);let i=(await this.getDocConfig(n)).configTargets.map(_h),s=await e(i);return s&&hx(s)}addWordsToTargetServerConfigTarget(e,n,r){return r=r||n.docUri&&Ai.Uri.parse(n.docUri)||void 0,this.addWordsToTargets(e,[jX(n,r)],r)}};function kX(t){return"uri"in t}async function FX(t){let e=PX(t);if(e)return await _X(e.uri),e}function PX(t){return Ro.isCSpellConfigRepository(t)?RX(t):Ja.isVSCodeRepository(t)?AX(t):void 0}function RX(t){let e=t.defaultDictionaryScope,n=mx(e),r=pi.dirname(t.configFileUri),i=`${Ef}/${n}.txt`,s=Ai.Uri.joinPath(r,i),o="./"+i;return{uri:s,relPath:o,name:n,scope:e}}function AX(t){let e=Ar(t.target);if(t.target===Vr.ConfigurationTarget.Global){let c=mx(e),u=`${Ef}/${c}.txt`,f=Ai.Uri.file((0,MU.homedir)()),g=Ai.Uri.joinPath(f,u),p="~/"+u;return{uri:g,relPath:p,name:c,scope:e}}let n=t.getWorkspaceFolder();if(!n)return;let r=e==="folder"?"-"+IX(n.name):"",i=mx(Ar(t.target))+r,s=`${Ef}/${i}.txt`,o=Ai.Uri.joinPath(n.uri,s),a=`\${workspaceFolder:${n.name}}/${s}`;return{uri:o,relPath:a,name:i,scope:e}}function mx(t){return t?`${LU}-${t}`:LU}function IX(t){return t.toLowerCase().replace(/[^\w]/g,"-")}async function _X(t,e=!1){e=e||!await Ht.fileExists(t),e&&(await Ht.createDirectory(pi.dirname(t)),await Ht.writeFile(t,EX,"utf8"))}async function NX(t,e){let n=Ro.isCSpellConfigRepository(t)?OX(e):Ja.isVSCodeRepository(t)?LX(e):void 0;if(!n)throw Error(`Unsupported config ${t.kind}`);return t.update(n)}function OX(t){let e=t.name;return dv([Be.dictionaries,Be.dictionaryDefinitions],n=>{let{dictionaries:r=[],dictionaryDefinitions:i=[]}=n,s=new Map(i.map(a=>[a.name,a])),o=new Set(r);return s.set(e,t),o.add(e),{dictionaries:[...o],dictionaryDefinitions:[...s.values()]}})}function LX(t){let e=t.name;return dv([Be.customDictionaries,Be.customFolderDictionaries,Be.customWorkspaceDictionaries,Be.customUserDictionaries],n=>{let{customDictionaries:r,...i}=MX(n);return r[e]=t,{...i,customDictionaries:r}})}function MX(t){let{customDictionaries:e={},customFolderDictionaries:n=[],customWorkspaceDictionaries:r=[],customUserDictionaries:i=[]}=t;return{customDictionaries:{...[i.map(gx("user")),r.map(gx("workspace")),n.map(gx("folder"))].reduce(UX,e),...e},customFolderDictionaries:void 0,customWorkspaceDictionaries:void 0,customUserDictionaries:void 0}}function gx(t){return e=>typeof e=="string"?e:{...e,scope:e.scope||t}}function UX(t,e){return e.reduce(qX,t)}function qX(t,e){let n={...t};return typeof e=="string"?n[e]=!0:n[e.name]=e,n}function jX(t,e){switch(t.kind){case"cspell":return{kind:t.kind,name:t.name,scope:"unknown",configUri:Ai.Uri.parse(t.configUri)};case"vscode":return{kind:t.kind,name:t.name,scope:t.scope,docUri:t.docUri&&Ai.Uri.parse(t.docUri)||e||void 0,configScope:e};case"dictionary":return{kind:t.kind,name:t.name,scope:"unknown",docUri:t.docUri&&Ai.Uri.parse(t.docUri)||e||void 0,dictionaryUri:Ai.Uri.parse(t.dictionaryUri)}}}var xg=class extends Error{constructor(n,r,i){super(n);this.dictTarget=r;this.cause=i}},yx=class extends xg{constructor(n,r,i,s){super(n,r,s);this.words=i;this.cause=s}};function UU(){pr.setConnection({console,onExit:()=>{}}),zE("dictionaryHelper",()=>new Tg(rt("client")))}var Ux=Ue(require("node:assert"),1),Wq=Ue(require("node:readline/promises"),1),qx=require("node:util"),Kq=Ue(BU(),1),Nt=Ue(require("vscode"),1);var ai={};mm(ai,{beep:()=>SY,clearScreen:()=>mY,clearTerminal:()=>yY,cursorBackward:()=>tY,cursorDown:()=>ZX,cursorForward:()=>eY,cursorGetPosition:()=>iY,cursorHide:()=>aY,cursorLeft:()=>$U,cursorMove:()=>QX,cursorNextLine:()=>sY,cursorPrevLine:()=>oY,cursorRestorePosition:()=>rY,cursorSavePosition:()=>nY,cursorShow:()=>cY,cursorTo:()=>YX,cursorUp:()=>KU,enterAlternativeScreen:()=>CY,eraseDown:()=>fY,eraseEndLine:()=>lY,eraseLine:()=>VU,eraseLines:()=>uY,eraseScreen:()=>vx,eraseStartLine:()=>dY,eraseUp:()=>pY,exitAlternativeScreen:()=>vY,iTerm:()=>wY,image:()=>DY,link:()=>bY,scrollDown:()=>gY,scrollUp:()=>hY});var kg=Ue(require("node:process"),1);var Eg=globalThis.window?.document!==void 0,ype=globalThis.process?.versions?.node!==void 0,Cpe=globalThis.process?.versions?.bun!==void 0,vpe=globalThis.Deno?.version?.deno!==void 0,Spe=globalThis.process?.versions?.electron!==void 0,bpe=globalThis.navigator?.userAgent?.includes("jsdom")===!0,Dpe=typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,wpe=typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,Tpe=typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,xpe=typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope,Al=globalThis.navigator?.userAgentData?.platform,Epe=Al==="macOS"||globalThis.navigator?.platform==="MacIntel"||globalThis.navigator?.userAgent?.includes(" Mac ")===!0||globalThis.process?.platform==="darwin",kpe=Al==="Windows"||globalThis.navigator?.platform==="Win32"||globalThis.process?.platform==="win32",Fpe=Al==="Linux"||globalThis.navigator?.platform?.startsWith("Linux")===!0||globalThis.navigator?.userAgent?.includes(" Linux ")===!0||globalThis.process?.platform==="linux",Ppe=Al==="iOS"||globalThis.navigator?.platform==="MacIntel"&&globalThis.navigator?.maxTouchPoints>1||/iPad|iPhone|iPod/.test(globalThis.navigator?.platform),Rpe=Al==="Android"||globalThis.navigator?.platform==="Android"||globalThis.navigator?.userAgent?.includes(" Android ")===!0||globalThis.process?.platform==="android";var ut="\x1B[",_l="\x1B]",uc="\x07",Il=";",WU=!Eg&&kg.default.env.TERM_PROGRAM==="Apple_Terminal",JX=!Eg&&kg.default.platform==="win32",XX=Eg?()=>{throw new Error("`process.cwd()` only works in Node.js, not the browser.")}:kg.default.cwd,YX=(t,e)=>{if(typeof t!="number")throw new TypeError("The `x` argument is required");return typeof e!="number"?ut+(t+1)+"G":ut+(e+1)+Il+(t+1)+"H"},QX=(t,e)=>{if(typeof t!="number")throw new TypeError("The `x` argument is required");let n="";return t<0?n+=ut+-t+"D":t>0&&(n+=ut+t+"C"),e<0?n+=ut+-e+"A":e>0&&(n+=ut+e+"B"),n},KU=(t=1)=>ut+t+"A",ZX=(t=1)=>ut+t+"B",eY=(t=1)=>ut+t+"C",tY=(t=1)=>ut+t+"D",$U=ut+"G",nY=WU?"\x1B7":ut+"s",rY=WU?"\x1B8":ut+"u",iY=ut+"6n",sY=ut+"E",oY=ut+"F",aY=ut+"?25l",cY=ut+"?25h",uY=t=>{let e="";for(let n=0;n<t;n++)e+=VU+(n<t-1?KU():"");return t&&(e+=$U),e},lY=ut+"K",dY=ut+"1K",VU=ut+"2K",fY=ut+"J",pY=ut+"1J",vx=ut+"2J",hY=ut+"S",gY=ut+"T",mY="\x1Bc",yY=JX?`${vx}${ut}0f`:`${vx}${ut}3J${ut}H`,CY=ut+"?1049h",vY=ut+"?1049l",SY=uc,bY=(t,e)=>[_l,"8",Il,Il,e,uc,t,_l,"8",Il,Il,uc].join(""),DY=(t,e={})=>{let n=`${_l}1337;File=inline=1`;return e.width&&(n+=`;width=${e.width}`),e.height&&(n+=`;height=${e.height}`),e.preserveAspectRatio===!1&&(n+=";preserveAspectRatio=0"),n+":"+Buffer.from(t).toString("base64")+uc},wY={setCwd:(t=XX())=>`${_l}50;CurrentDir=${t}${uc}`,annotation(t,e={}){let n=`${_l}1337;`,r=e.x!==void 0,i=e.y!==void 0;if((r||i)&&!(r&&i&&e.length!==void 0))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return t=t.replaceAll("|",""),n+=e.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",e.length>0?n+=(r?[t,e.length,e.x,e.y]:[e.length,t]).join("|"):n+=t,n+uc}};var HU=(t=0)=>e=>`\x1B[${e+t}m`,zU=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,GU=(t=0)=>(e,n,r)=>`\x1B[${38+t};2;${e};${n};${r}m`,It={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},JU=Object.keys(It.modifier),TY=Object.keys(It.color),xY=Object.keys(It.bgColor),XU=[...TY,...xY];function EY(){let t=new Map;for(let[e,n]of Object.entries(It)){for(let[r,i]of Object.entries(n))It[r]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},n[r]=It[r],t.set(i[0],i[1]);Object.defineProperty(It,e,{value:n,enumerable:!1})}return Object.defineProperty(It,"codes",{value:t,enumerable:!1}),It.color.close="\x1B[39m",It.bgColor.close="\x1B[49m",It.color.ansi=HU(),It.color.ansi256=zU(),It.color.ansi16m=GU(),It.bgColor.ansi=HU(10),It.bgColor.ansi256=zU(10),It.bgColor.ansi16m=GU(10),Object.defineProperties(It,{rgbToAnsi256:{value:(e,n,r)=>e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:e=>{let n=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!n)return[0,0,0];let[r]=n;r.length===3&&(r=[...r].map(s=>s+s).join(""));let i=Number.parseInt(r,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:e=>It.rgbToAnsi256(...It.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return 90+(e-8);let n,r,i;if(e>=232)n=((e-232)*10+8)/255,r=n,i=n;else{e-=16;let a=e%36;n=Math.floor(e/36)/5,r=Math.floor(a/6)/5,i=a%6/5}let s=Math.max(n,r,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(r)<<1|Math.round(n));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(e,n,r)=>It.ansi256ToAnsi(It.rgbToAnsi256(e,n,r)),enumerable:!1},hexToAnsi:{value:e=>It.ansi256ToAnsi(It.hexToAnsi256(e)),enumerable:!1}}),It}var kY=EY(),ci=kY;var FY=[...XU,...JU].map(t=>[t,e=>ci[t].open+e+ci[t].close]),_t=Object.fromEntries(FY);function lc(t){return ci.green.open+t+ci.green.close}function Fg(t){return ci.red.open+t+ci.red.close}function Nl(t){return ci.yellow.open+t+ci.yellow.close}function Sx(t){return t.replace(/\n/g,`\r
`).replace(/\r+\r/g,"\r")}function YU(t){return ci.dim.open+t+ci.dim.close}function QU(t,...e){return n=>e.reduce((r,i)=>i(r),t(n))}function ZU(){return ai.clearScreen}function Pg(t){return t>0?ai.eraseEndLine:t<0?ai.eraseStartLine:ai.eraseLine}function eq(){return ai.eraseDown}function tq(t,e){return ai.cursorMove(t,e)}function nq(t,e){return ai.cursorTo(t,e)}function bx(){return ai.eraseLine+"\r"}var iq=require("node:util"),Rg=Ue(require("assert"),1);function Ol(t,e){let n=[],r=PY(t.replace(/\t/g,"    ")).flatMap(a=>a.split(/ /)),i=0,s="",o="";for(let a of r){if(a===`
`||a==="\r"){n.push(s),s="",o="",i=0;continue}s&&i+o.length+a.length>e&&(n.push(s),s="",o="",i=0),s+=o+a,i+=o.length+a.length,o=" "}return n.push(s),n.map(a=>a.trimEnd())}function PY(t){return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.split(`
`).flatMap(n=>[n,`
`]).slice(0,-1)}var RY=80,Hn=class{constructor(e,n,r,i,s){this.name=e;this.description=n;for(let[a,c]of Object.entries(r))this.#e.push(new wx(a,c));for(let[a,c]of Object.entries(i))this.#t.push(new Ig(a,c));this.#t.find(a=>a.name=="help")||this.#t.push(new Ig("help",{type:"boolean",description:"Show help",short:"h"})),this.#n=s}#e=[];#t=[];#n;handler(e){return this.#n=e,this}handles(e){return e[0]==this.name}parse(e){let n=_Y(this);(0,Rg.default)(e[0]==this.name,`Command name mismatch: ${e[0]} != ${this.name}`);let r=n(e.slice(1)),i=[],s={_:i},o=s,a={},c=a,u=this.arguments,f=0;for(let g of r)switch(g.kind){case"option":{let p=!1,l=this.#t.find(m=>m.name==g.name);if(l||g.name.startsWith("no-")&&(l=this.#t.find(m=>m.name==g.name.slice(3)),p=!0),!l)throw new Error(`Unknown option: ${g.name}`);let d=l.name,h=NY(g.value,l.baseType);p&&typeof h=="boolean"&&(h=!h),c[d]=l.multiple?rq(a[d],h):h}break;case"positional":{if(i.push(g.value),f>=u.length)throw new Error(`Unexpected argument: ${g.value}`);let p=u[f],l=g.value;o[p.name]=p.multiple?rq(s[p.name],l):l,f+=p.multiple?0:1}break;case"option-terminator":break}return{args:s,options:a,argv:e}}async exec(e){(0,Rg.default)(this.#n,"handler not set"),(0,Rg.default)(e[0]==this.name);let n=this.parse(e);await this.#n(n)}getArgString(){return this.#e.join(" ")}get options(){return this.#t}get arguments(){return this.#e}},Ag=class{constructor(e,n="",r=""){this.name=e;this.description=n;this.usage=r}#e=new Map;displayWidth=RY;addCommand(...e){for(let n of e)this.#e.set(n.name,n);return this}addCommands(e){return this.addCommand(...e)}getHelp(e,n){let r=e?this.#e.get(e):void 0;if(e&&!r)throw new Error(`Unknown command: ${e}`);return n=n||this.displayWidth,r?this.#n(r,n):this.#t(n)}getApplicationHeader(e=this.displayWidth){return this.#r(e)}#t(e){let n=[];n.push(this.#r(e));let r=[...this.#e.values()].sort((o,a)=>o.name.localeCompare(a.name)),i="  ",s=r.map(o=>AY(o)).map(o=>[i+o.cmd+" "+o.args,o.description.trim()]);return n.push("Commands:"),n.push(Dx(s,e,"  ")),n.join(`
`)}#n(e,n){let r=[],i=e.options.length?" [options]":"";r.push(`Usage: ${e.name}${i} ${e.getArgString()}`),r.push("",...Ol(e.description,n));let s="  ",o=e.arguments.map(c=>[s+c,c.description.trim()]);o.length&&(r.push(""),r.push("Arguments:"),r.push(Dx(o,n,"  ")));let a=e.options.map(c=>[s+c,c.description.trim()]);return a.length&&(r.push(""),r.push("Options:"),r.push(Dx(a,n,"  "))),r.join(`
`)}#r(e){let n=[];return n.push(this.name,""),this.description&&n.push(...Ol(this.description,e),""),this.usage&&n.push("Usage:",...Ol(this.usage,e),""),n.join(`
`)}getCommand(e){return this.#e.get(e)}parseArgs(e){let n=e[0],r=this.getCommand(n);if(!r)throw new Error(`Unknown command: ${n}`);return r.parse(e)}async exec(e,n){let r=e[0],i=this.getCommand(r);if(!i)throw new Error(`Unknown command: ${r}`);if(i.parse(e).options.help){n(this.#n(i,this.displayWidth));return}await i.exec(e)}getCommandNames(){return[...this.#e.keys()]}};function AY(t){let e=t.getArgString();return{cmd:t.name,args:e,description:t.description}}var wx=class{constructor(e,n){this.name=e;this.description=n.description,this.type=n.type,this.required=n.required||!1,this.multiple=this.type.endsWith("[]")}multiple;description;type;required;toString(){let e=this.multiple?"...":"",n=`${this.name}${e}`;return this.required?`<${n}>`:`[${n}]`}},Ig=class{constructor(e,n){this.name=e;if(this.description=n.description,this.type=n.type,this.short=n.short||"",this.param=n.param||this.name,this.required=n.required??!0,this.baseType=IY(this.type),this.multiple=this.type.endsWith("[]"),this.variadic=n.variadic||!1,this.variadic&&!this.multiple)throw new Error("variadic option must be multiple")}multiple;description;type;short;param;required;baseType;variadic;toString(){let e=this.short?`-${this.short}, `:"",n=this.param||this.name,r=this.variadic?"...":"",i=["boolean","boolean[]"].includes(this.type)?"":`${n}${r}`,s=i&&(this.required?` <${i}>`:` [${i}]`);return`${e}--${this.name}${s}`}};function Ks(t,e,n,r){return{[t]:{type:e,description:n,required:r}}}function Ko(t,e,n,r){return{[t]:{type:e,description:n,short:r||void 0}}}function Dx(t,e,n="  "){let r=[],i=Math.max(...t.map(([s])=>s.length),0);for(let[s,o]of t){let a=Ol(o,e-i-n.length);r.push(`${s.padEnd(i)}${n}${a[0]||""}`);for(let c of a.slice(1))r.push(" ".repeat(i)+n+c)}return r.join(`
`)}function IY(t){return t.replace("[]","")}function rq(...t){return t.flatMap(e=>e).filter(e=>e!==void 0)}function _Y(t){let e={};for(let n of t.options)e[n.name]={type:n.baseType!=="boolean"?"string":"boolean",multiple:n.multiple},n.short&&(e[n.name].short=n.short);return n=>(0,iq.parseArgs)({args:n,options:e,allowPositionals:!0,tokens:!0,strict:!1}).tokens||[]}function NY(t,e){switch(e){case"boolean":return OY(t??!0);case"number":return LY(t);case"string":return typeof t=="string"?t:`${t}`}}function OY(t){if(t!==void 0){if(typeof t=="boolean")return t;if(typeof t=="number")return!!t;if(typeof t=="string"){let e=t.toLowerCase().trim();if(["true","t","yes","y","1","ok"].includes(e))return!0;if(["false","f","no","n","0",""].includes(e))return!1}throw new Error(`Invalid boolean value: ${t}`)}}function LY(t){let e=Number(t);if(!Number.isNaN(e))return e;throw new Error(`Invalid number value: ${t}`)}var sq=Ue(require("vscode"),1),MY=/^.*:/;function Tx(t){let e=sq.workspace.asRelativePath(t,!1);return MY.test(e)?e:e.split("\\").join("/")}function oq(t,e){let n=typeof t=="string"?t:t.path;if(n.length>e){let r=n.split("/"),i=0,s=r.length,o="",a="",c="\u2026";n=c;let u=n.length;for(;i<s;){let f=r[i],g=r[s-1];if(o.length+f.length<=a.length+g.length){if(u+f.length+1>e)break;u+=f.length+1,o+=f+"/",i++}else{if(u+g.length+1>e)break;u+=g.length+1,a="/"+g+a,s--}}n=o+c+a,n===c&&(a=r[r.length-1],n=c+a.slice(-e+1))}return n}var UY=60,qY={checked:!1,issues:0},jY={checked:!0,issues:0};async function BY(t){let{uri:e,options:n,index:r,count:i,result:s,startTs:o,endTs:a}=t,{output:c,log:u,width:f}=n,g=WY(r,i);c(`${g}${_t.gray(oq(Tx(e),Math.min(UY,f-10-g.length)))}`);let p=await s,d=((a||performance.now())-o).toFixed(2)+"ms";if(p.skipped)return u(` ${d} Skipped`),qY;let h=[],m=p.issues?.filter(D=>!D.isSuggestion),C=!!(p.errors||m?.length);if(h.push(` ${d}${C?_t.red(" X"):""}`),!C)return c(h.join("")+"\r"+Pg(0)),jY;if(p.errors&&h.push(`${_t.red("Errors: ")} ${p.errors}`),m)for(let D of m)h.push(KY(e,D));return u("%s",h.join(`
`)),{checked:!0,issues:m?.length||0}}function WY(t,e){if(typeof t>"u"||typeof e>"u")return"";let n=e.toString();return`${(t+1).toString().padStart(n.length," ")}/${n} `}function KY(t,e){let{range:n,text:r,suggestions:i,isFlagged:s}=e,o=`:${n.start.line+1}:${n.start.character+1}`,a=s?"Flagged word":"Unknown word",c=Tx(t),u=i?` fix: (${i.map(f=>_t.yellow(f.word)).join(", ")})`:"";return`  ${_t.green(c)}${_t.yellow(o)} - ${a} (${_t.red(r)})${u}`}function aq(t,e,n,r){let{forceCheck:i}=e,s=performance.now(),o=ag({uri:t.toString()},{forceCheck:i}),a={index:n,count:r,uri:t,startTs:s,options:e,result:o};return o.finally(()=>a.endTs=performance.now()),a}var $Y=10;async function cq(t,e){let n=t.length;e.log(`Checking ${n} documents`);let r=[],i=0,s=0,o=0,a=0;try{let c=0;for(;c<$Y&&c<n;c++){let u=t[c];r.push(aq(u,e,c,n))}for(;!e.cancellationToken.isCancellationRequested;)try{let u=r.shift();if(!u)break;let f=await BY(u);if(o+=f.issues,s+=f.issues?1:0,i+=f.checked?1:0,a+=f.checked?0:1,c<n){let g=t[c];r.push(aq(g,e,c,n)),c++}}catch(u){e.error(u);break}Promise.all(r.map(u=>u.result)).catch(u=>e.error(u)),e.log(`Checked ${i}/${n} files${a?`, skipped ${a},`:""} with ${o} issues in ${s} files.`)}catch{return}}var Ll=require("vscode");var pq=require("node:os"),hq=require("node:path/posix"),fc=require("vscode"),Hr=Ue(require("vscode"),1);async function*uq(t,e=10){function*n(){let r=!1,i=[],s=t[Symbol.iterator]();function o(){for(;i.length<e;){let a=s.next();if(r=!!a.done,r||a.done)return;i.push(Promise.resolve(a.value()))}}for(o();!r&&i.length;)yield i[0],i.shift(),o();yield*i}for await(let r of n())yield r}var dq=require("node:os"),dc=require("vscode");function xx(t,e){return new dc.RelativePattern(e||$o(),t)}function Ex(t){if(t)return typeof t=="string"?t:t.length>1?`{${t.join(",")}}`:t[0]}function fq(t,e){if((t==="~"||t.startsWith("~/"))&&(e=dc.Uri.file((0,dq.homedir)()),t=t.slice(2)),!lq(t))return["",dc.Uri.joinPath(e,t)];let n=t.split("/"),r=0;for(;r<n.length&&!lq(n[r]);++r)e=dc.Uri.joinPath(e,n[r]);return[n.slice(r).join("/"),e]}function lq(t){return/[*?{}[\]]/.test(t)}function $o(){return Hr.workspace.workspaceFolders?.[0].uri||HY(VY())||fc.Uri.file(".")}function VY(){return Hr.window.activeTextEditor?.document.uri}function HY(t){return t&&fc.Uri.joinPath(t,"..")}async function*gq(t,e){if(e?.isCancellationRequested)return[];let n=t.map(r=>async()=>[r,await Hr.workspace.fs.stat(r)]);for await(let r of uq(n,10)){if(e?.isCancellationRequested)break;yield r}}async function _g(t,e,n,r,i){let s=xx(t,e),o=await Hr.workspace.findFiles(s,n&&xx(n,e),r,i);return i?.isCancellationRequested&&hn("globSearch cancelled"),o}function kx(t,e){return typeof t=="string"&&t.startsWith("~")&&(e=fc.Uri.file((0,pq.homedir)()),t=t.slice(2)),typeof t=="string"?fc.Uri.joinPath(e||$o(),t):t||$o()}async function mq(t,e){let n=kx(t,e);return await Hr.workspace.fs.readDirectory(n)}async function*Fx(t,e=!1,n){if(!n?.isCancellationRequested)for await(let[r,i]of await Hr.workspace.fs.readDirectory(t)){if(n?.isCancellationRequested)return;let s=e?await Hr.workspace.fs.stat(fc.Uri.joinPath(t,r)):{type:i};yield[r,s]}}function yq(t){if(!t)return;let e=t.toString().replace(/\/$/,""),n=Hr.workspace.workspaceFolders?.find(r=>r.uri.toString()===e);return n?n.name+"/":Hr.workspace.asRelativePath(t,!0)}function Cq(t,e){return(0,hq.relative)(t.path,e.path)}async function vq(t){try{return await Hr.workspace.fs.stat(t)}catch(e){return ea(e)}}var zY=t=>t;async function Sq(t,e){let{log:n,dirSuffix:r="/"}=e;for await(let i of GY(t,e.cwd,e.cancellationToken)){let[s,o]=i;if(o instanceof Error){n(Fg("Error: ")+`${Nl(s)}: No such file or directory`);continue}let c=o.type,u=c&Ll.FileType.Directory?r:"",f=c&Ll.FileType.SymbolicLink?Nl:c&Ll.FileType.Directory?lc:zY;s.startsWith(".")&&(f=QU(f,YU)),n(f(s+u))}}async function*GY(t,e,n){let r=new Intl.Collator(void 0,{numeric:!0,sensitivity:"variant"});if(!t?.length){yield*Fx(e,!1,n);return}for(let i of t){if(n?.isCancellationRequested)return;let[s,o]=fq(i,e);if(!s){let a=await vq(o);if(a instanceof Error){yield[i,a];continue}if(a.type&Ll.FileType.Directory){yield*Fx(o,!1,n);continue}yield[i,a];continue}try{let a=await _g(s,o,void 0,void 0,n);a.sort((c,u)=>r.compare(c.path,u.path));for await(let[c,u]of gq(a,n))yield[Cq(e,c),u]}catch(a){yield[i,ea(a)]}}}async function bq(t,e){let i=(await rt("client").serverApi.spellingSuggestions(t,{uri:e.toString()})).suggestions,s=[];s.push(`Suggestions for "${t}":`),i||s.push(_t.yellow("  No suggestions"));for(let o of i){let a=o.isPreferred||o.word===t?_t.green(o.word):o.word;s.push(`  ${a}${o.isPreferred?_t.yellow("*"):""}`)}return s.join(`
`)}var Rq=Ue(Fq(),1);async function Aq(t,e,n){let{width:r}=n,i=rt("client");e=e.toString(),e.endsWith("/")||(e=e+"/");let s=await i.serverApi.traceWord({word:t,uri:e.toString(),searchAllDictionaries:!0,languageId:n.filetype,allowCompoundWords:n.allowCompoundWords});if(!s)return"No trace results";let o=[];o.push(`Trace: "${s.word}"`),s.errors&&(o.push(_t.red("Errors:")),o.push(`  ${s.errors}`));let a=Rq.default.configure({maxTotalWidth:r}),c=[n.all?void 0:f=>Pq(f)||f.dictEnabled,n.onlyFound?f=>Pq(f):void 0,n.onlyEnabled?f=>f.dictEnabled:void 0].filter(Cn),u=ZY(c);for(let f of s.traces||[]){o.push(`${f.word}: ${f.found?"":_t.yellow("Not found")}`);let p=[...f.traces].filter(u).sort((l,d)=>l.dictName.localeCompare(d.dictName)).map(l=>{let d=_t.yellow(l.dictName);return{Word:eQ(l.word,l.foundWord,l.found),F:l.forbidden?_t.red("!"):l.found?_t.whiteBright("*"):_t.dim("-"),Dictionary:l.dictEnabled?d:_t.dim(d)}});o.push(a(p))}return o.join(`
`)}function ZY(t){return e=>t.every(n=>n(e))}function eQ(t,e,n){e&&(e=e.split("+").map(_t.green).join(_t.gray("+")));let r=e||_t.green(t);return n?r:_t.dim(r)}function Pq(t){return t.found||t.forbidden||t.noSuggest}var Ox=Ue(require("node:stream"),1);var tQ=!1,zr=tQ?console.debug:()=>{};function Iq(t){return new _x(t)}var nQ={ascii:!0,utf8:!0,utf16le:!0,ucs2:!0,base64:!0,base64url:!0,latin1:!0,binary:!0,hex:!0,"utf-8":!0,"ucs-2":!0,"utf-16le":!0},_x=class extends Ox.default.Writable{#e={columns:80,rows:24};constructor(e){super({write:(n,r,i)=>{let s=r in nQ?r:void 0,o=n.toString(s);zr("write: %o",Nq(o)),e.fire(o),setTimeout(i,0)}})}get dimensions(){return this.#e}set dimensions(e){this.#e=e}clearLine(e,n){return zr("clearLine: %o",e),this.write(Pg(e),n)}clearScreenDown(e){return zr("clearScreenDown"),this.write(eq(),e)}cursorTo(e,n,r){return zr("cursorTo: %o, %o",e,n),r=typeof n=="function"?n:r,n=typeof n=="number"?n:void 0,this.write(nq(e,n),r)}moveCursor(e,n,r){return zr("moveCursor: %o, %o",e,n),this.write(tq(e,n),r)}getColorDepth(e){return zr("getColorDepth"),256}hasColors(e,n){return zr("hasColors: %o",e),typeof e!="number"||e<=256}getWindowSize(){return zr("getWindowSize: %o",this.#e),[this.#e.columns,this.#e.rows]}get columns(){return zr("columns: %o",this.#e.columns),this.#e.columns}get rows(){return zr("rows: %o",this.#e.rows),this.#e.rows}get isTTY(){return zr("isTTY"),!0}},Nx=class extends Ox.default.Readable{buffer=[];paused=!0;disposable;constructor(e){super({}),this.disposable=e.event(n=>{this.buffer.push(n),this.pushBuffer()})}_read(){this.paused=!1,this.pushBuffer()}_destroy(){this.disposable.dispose()}pushBuffer(){if(!this.paused)for(let e=this.buffer.shift();e!==void 0&&!this.paused;e=this.buffer.shift())zr("read: %o",Nq(e)),this.push(e)}};function _q(t){return new Nx(t)}var rQ={"\x1B":"\u241B","\n":"\u21B5","\r":"\u21A4","	":"\u21E5"," ":"\u2423"};function Nq(t){return[...t].map(e=>rQ[e]||e).join("")}var Mg=Ue(require("node:assert"),1),Oq={n:`
`,r:"\r",t:"	",f:"\f",'"':'"',"'":"'"};function Mx(t){return qq(Mq(t))}var iQ=[" ","	",`
`,"\r"];function Mq(t){let e=[],n=0,r=0,i;for(;n<t.length;){let f=t[n];switch(f){case`
`:case"\r":case"	":case" ":s(i),i=void 0,s(o(),!0);break;case"\\":if([`
`,"\r"].includes(t[n+1])){s(i),i=void 0,s(o(),!0);continue}i=(i||"")+a();break;case'"':case"'":case"`":s(i),i=void 0,s(u(),!1,f);break;default:i=(i||"")+f,++n;break}}return s(i),e;function s(f,g=!1,p=""){f!==void 0&&(e.push({i:n,value:f,original:t.slice(r,n),quote:p,separator:g}),r=n)}function o(){let f=t[n++];for(;n<t.length&&iQ.includes(t[n]);n++)f+=t[n];return f}function a(){return(0,Mg.default)(t[n]==="\\"),++n,n>=t.length?"\\":t[n++]}function c(){if(n>=t.length)return"\\";let f=t[n++];return f===`
`||f==="\r"?(f==="\r"&&t[n]===`
`&&++n,""):f in Oq?Oq[f]:"\\"+f}function u(){let f=t[n++],g="";for(;n<t.length;){let p=t[n++];if(p==="\\")g+=c();else{if(p===f)return g;g+=p}}return g}}var Uq={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\\":"\\\\"},sQ=[" ","&",";","|","<",">","`",'"',"'","\\"],oQ=Object.fromEntries(sQ.map(t=>[t,"\\"+t])),aQ={...Uq,...oQ};function qq(t){return jq(t).map(n=>n.arg)}function jq(t){let e=[],n;for(let[r,i]of t.entries()){if(i.separator){n!==void 0&&(e.push(n),n=void 0);continue}if(!n){n={arg:i.value,startTokenIndex:r,tokens:[i]};continue}n.arg+=i.value,n.tokens.push(i)}return n!==void 0&&e.push(n),e}function Bq(t){return new Lx(Mq(t))}var Lx=class t{constructor(e=[]){this.tokens=e}get line(){return this.tokens.map(e=>e.original).join("")}get args(){return qq(this.tokens)}setArg(e,n,r){let s=jq(this.tokens)[e];(0,Mg.default)(s,"Invalid index"),r??=s.tokens[0].quote,this.tokens.splice(s.startTokenIndex,s.tokens.length,{value:n,original:Lq(n,r),quote:r,separator:!1})}pushArg(e,n=""){let r={value:e,original:Lq(e,n),quote:n,separator:!1},i=this.tokens[this.tokens.length-1];i&&!i.separator&&this.pushSeparator(),this.tokens.push(r)}hasTrailingSeparator(){return this.tokens[this.tokens.length-1]?.separator||!1}pushSeparator(e=" "){this.tokens.push({value:e,original:e,quote:"",separator:!0})}clone(){return new t([...this.tokens])}};function Lq(t,e=""){return t?e?cQ(t,e):uQ(t):e+e||'""'}function cQ(t,e){(0,Mg.default)(e==='"'||e==="'","Invalid quote");let n="";for(let r of t){let i=Uq[r]||r;i===e?n+="\\"+e:n+=i}return e+n+e}function uQ(t){if(!t)return'""';let e="";for(let n of t)e+=aQ[n]||n;return e}var lQ=80;function jx(){let t=new Ug;Nt.window.createTerminal({name:"Spell Checker REPL",pty:t}).show()}function Bx(){return Nt.window.registerTerminalProfileProvider("cSpell.terminal-profile",{provideTerminalProfile:()=>new Nt.TerminalProfile({name:"Spell Checker REPL",pty:new Ug})})}var Ug=class{#e=new Nt.EventEmitter;#t=new Nt.EventEmitter;#n=new Nt.EventEmitter;onDidWrite=this.#t.event;onDidClose=this.#n.event;handleInput=e=>this.#e.fire(e);#r=Iq(this.#t);#i=_q(this.#e);#s=e=>this.#t.fire(e);#l=new AbortController;#d={signal:this.#l.signal};#o=$o();#a;#c;#f=!1;#u;#p;open(e){hn("Repl.open"),(0,Ux.default)(!this.#c,"Repl already open"),(0,Ux.default)(!this.#f,"Repl already closed"),e&&(this.#u=e,this.#r.dimensions=e),this.#c=Wq.default.createInterface({input:this.#i,output:this.#r,completer:this.completer,terminal:!0});let n=this.#c;n.on("SIGTSTP",()=>{}),n.on("SIGINT",this.#I),n.on("close",()=>(hn("rl close"),this.close())),n.on("line",this.#b),this.#u=e,e&&(this.log("CSpell REPL"),this.log('Type "help" or "?" for help.'),this.#C())}setDimensions(e){this.#u=e,this.#r.dimensions=e,hn("Repl.setDimensions %o",e),this.#v()}dispose=()=>{hn("Repl.dispose"),this.close()};#b=e=>{e=e.trim(),hn("Repl.processLine %o",{line:e,args:Mx(e)});let n=async()=>{if(!e)return;if(e==="?"){this.showHelp();return}let r=Mx(e);return this.#h().exec(r,this.log)};this.#C(n())};#h(){if(this.#p)return this.#p;let e=new Ag("CSpell REPL"),n=new Hn("check","Spell check the files matching the globs.",{...Ks("globs","string[]","File glob patterns.")},{},h=>this.#D(h.args.globs)),r=new Hn("echo","Echo the values.",{...Ks("values","string[]","Echo the values to the console.")},{},h=>this.#w(h.args.values)),i=new Hn("trace","Trace which dictionaries contain the word.",{...Ks("word","string","The word to trace.",!0)},{...Ko("all","boolean","Show all dictionaries.",""),...Ko("only-found","boolean","Show only found dictionaries.","f"),...Ko("only-enabled","boolean","Show only enabled dictionaries.",""),...Ko("filetype","string","The file type to use. Example: `python`","t"),...Ko("allow-compound-words","boolean","Allow compound words.","")},h=>this.#F(h.args,h.options)),s=new Hn("suggestions","Generate suggestions for a word.",{...Ks("word","string","The word to make suggestions.",!0)},{...Ko("max","number","The maximum number of suggestions to generate.","")},h=>this.#A(h.args.word,h.options)),o=new Hn("pwd","Print the current working directory.",{},{},()=>this.#S()),a=new Hn("cd","Change the current working directory.",{...Ks("path","string","The path to change to.")},{},h=>this.#R(h.args.path)),c=new Hn("ls","List the directory contents.",{...Ks("paths","string[]","The paths to list.")},{},h=>this.#P(h.args)),u=new Hn("env","Show environment variables.",{...Ks("filter","string[]","Optional filter.")},{},h=>this.#k(h.args.filter)),f=new Hn("exit","Exit the REPL.",{},{},()=>{this.log("Exiting..."),this.close()}),g=new Hn("help","Show help.",{command:{type:"string",description:"Show Help",required:!1}},{},h=>this.showHelp(h.args.command)),p=new Hn("cls","Clear the screen.",{},{},()=>this.#s(ZU())),l=new Hn("info","Show information about the REPL.",{},{},()=>{this.log("CSpell REPL"),this.log('Type "help" or "?" for help.'),this.log("Working Directory: %s",lc(this.#o.toString(!0))),this.log("Dimensions: %o",this.#u)}),d=[n,r,i,o,a,c,u,f,g,p,l,s];return e.addCommands(d),this.#p=e,e}showHelp(e){this.log(this.#h().getHelp(e))}#C(e){(async()=>{try{if(await e,e)this.#a?.dispose(),this.#a=void 0;else if(this.#a)return}catch(r){r instanceof Error&&this.error(r.message)}if(this.#v(),this.#c?.prompt(),this.#c){let{cursor:r,line:i,terminal:s}=this.#c;hn("cursor pos: %o",{cursorPos:this.#c.getCursorPos(),dim:this.#u,cursor:r,line:i,terminal:s})}})()}#v(){this.#c?.setPrompt(`cspell ${lc(yq(Nt.Uri.joinPath(this.#o,"/"))||"")} > `)}async#D(e){hn("Repl.cmdCheck");let{log:n,error:r}=this,i=this.#s,s=Ex(e);if(s||(s=await this.#c?.question("File glob pattern: ",this.#d)),!s)return;i(bx()+"Gathering Files...");let o=Nt.workspace.getConfiguration("search.exclude"),a=Object.keys(o).filter(f=>o[f]===!0),c=Ex(a),u=await _g(s,this.#o||$o(),c,void 0,this.#y());n(bx()+"Checking..."),await cq(u,{log:n,error:r,output:i,cancellationToken:this.#y(),width:this.width})}async#w(e){hn("Repl.cmdEcho"),this.log((e||[]).join(" "))}getCommandNames(){return this.#h().getCommandNames().sort()}completer=async e=>{let n=this.getCommandNames();if(!e.trim())return[n,""];let r=Bq(e),i=r.args;if(i.length===1&&e===i[0])return[this.#m(e,n).map(f=>f+" "),e];let s=i[0],o=r.hasTrailingSeparator()?0:i.length-1,a=o?i[o]:"";return[(await this.#T(s,a,i)).map(f=>{let g=r.clone();return o?g.setArg(o,f):g.pushArg(f),g.line}).filter(f=>f.startsWith(e)),e]};#T=async(e,n,r)=>{switch(console.error("Repl.cmdCompletion %o",{command:e,current:n}),e){case"check":return this.#x(n);case"cd":return this.#E(n,r);case"ls":return this.#g(n,!1);case"help":return this.#m(n,this.getCommandNames())}return[]};#x=async e=>this.#g(e,!1);#E=async(e,n)=>n.length>2||n.length===2&&n[1]!==e?[]:this.#g(e,!0);#g=async(e,n)=>{try{let r=await this.readDirEntryNames(e,n?Nt.FileType.Directory:void 0);return this.#m(e,r.map(i=>i.startsWith("-")?`./${i}`:i))}catch{return[]}};#m=(e,n)=>{let r=n.filter(s=>s.startsWith(e)),i=fQ(r);return i&&i!==e?[i]:r};#S(){hn("Repl.cmdPwd"),this.log(this.#o?.toString(!1)||"No Working Directory")}#k(e){hn("Repl.cmdEnv"),this.log("Environment:");let n=Object.entries(process.env).filter(([r])=>!e||e.find(i=>r.toLowerCase().includes(i))).sort((r,i)=>r[0].localeCompare(i[0]));for(let[r,i]of n)this.log(`${lc(r)}${Nl("=")}${i}`)}async#F(e,n){hn("Repl.cmdTrace %o",e);let{word:r}=e;if(!r){this.log("No word specified.");return}let i=await Aq(r,this.#o,{...(0,Kq.default)(n),width:this.width});this.log("%s",i)}get width(){return this.#u?.columns||lQ}async#P(e){hn("Repl.cmdLs %o",e),await Sq(e.paths,{log:this.log,cwd:this.#o,cancellationToken:this.#y()})}async readDir(e){return mq(e,this.#o)}async readDirEntryNames(e,n){let r=e.split("/").slice(0,-1).join("/"),i=n?([,c])=>c&n:()=>!0,s=r?[]:[["..",Nt.FileType.Directory]],o=r?r+"/":"";return[...s,...(await this.readDir(r)).map(([c,u])=>[o+c,u])].filter(i).map(([c,u])=>c+(u&Nt.FileType.Directory?"/":""))}async#R(e){if(!e)return this.#S();try{let n=kx(e,this.#o);if((await Nt.workspace.fs.stat(n)).type&Nt.FileType.Directory)this.#o=n;else throw Nt.FileSystemError.FileNotADirectory(n)}catch(n){if(n instanceof Nt.FileSystemError){this.log(`"${e}" is not a valid directory.`);return}this.log("Error: %o",n)}}async#A(e,n){if(!e)return;let r=await bq(e,this.#o);this.log("%s",r)}close=()=>{hn("Repl.close"),!this.#f&&(this.#f=!0,this.#a?.cancel(),this.#l.abort(),this.#c?.close(),this.#i.destroy(),this.#r.destroy(),this.#n.fire(),this.#a?.dispose(),this.#a=void 0)};log=(...e)=>this.#s(Sx((0,qx.formatWithOptions)({colors:!0},...e)+`
`));error=(...e)=>this.#s(Fg("Error: ")+Sx((0,qx.formatWithOptions)({colors:!0},...e)+`
`));#I=()=>this.#a?.cancel();#_(){return this.#N().token}#y(){return this.#a?.token||this.#_()}#N(){this.#a?.dispose();let e=dQ(this.#l);return this.#a=e,e}};function dQ(t){let e=new Nt.CancellationTokenSource;return t.signal.onabort=()=>e.cancel(),e}function fQ(t){if(!t.length)return"";let e=t[0];for(let n of t){let r=0;for(;r<e.length&&r<n.length&&e[r]===n[r];++r);if(e=e.slice(0,r),!e)return e}return e}var Vo=Ue(require("vscode"),1);var pQ=!0,hQ={command:ur["cspell.showActionsMenu"],title:"menu"};function $q(t){let e=tt();if(!pQ)return e;let n=new Map,r,i,s;return e.push(Vo.default.window.onDidChangeActiveTextEditor(u)),e.push(Vo.default.workspace.onDidChangeConfiguration(g=>{g.affectsConfiguration(Yt)&&u()})),e.push(Am().onDidChangeDiagnostics(()=>c())),e.push(t.onDidChangeVisibility(()=>c(!1))),c(),e;function o(g){let p=Xs(n,g,l=>Vo.default.languages.createLanguageStatusItem(l,{language:"*"}));return e.add(p),p}function a(g){let{enabled:p,fileEnabled:l,languageIdEnabled:d,languageId:h=""}=g||{},m=p&&l&&d,C=Vo.default.window.activeTextEditor?.document,T=(C?Am().getSpellingIssues(C.uri):void 0)?.getStats()||{},k=[],I=T.spelling||0,B=T.flagged||0,W=I-B;m===void 0&&k.push("$(repo-sync)"),m===!1&&k.push("$(exclude)"),m&&!t.areIssuesVisible()&&k.push("$(eye-closed)"),m&&!I&&k.push("$(check)"),m&&B&&k.push(`$(error) ${B}`),m&&W&&k.push(`$(warning) ${W}`);let re=`${k.join(" ")} Spell`,ne=[];if(m===!1&&ne.push("- Spell checking is NOT enabled for this file."),d===!1&&ne.push(`- File Type: \`${h}\` is NOT enabled.`),g?.fileIsExcluded){let N=[];g.excludedBy?.forEach($=>N.push(`- Excluded by ${$.name}`)),ne.push(...N)}let V=ne.length?ne.join(`
`):void 0;f(re,V)}function c(g=!0){if(g){let p=Vo.default.window.activeTextEditor?.document;p!==s&&(s=p,i=void 0),it(p?no().isSpellCheckEnabled(p):Promise.resolve(void 0),"Language Status").then(l=>a(i=l))}a(i)}function u(){r&&clearTimeout(r),r=setTimeout(()=>{r=void 0,c()},100)}function f(g,p){let d=o("cspell-issues");Ml(d,"name","Issues"),Ml(d,"severity",Vo.default.LanguageStatusSeverity.Information),Ml(d,"text",g),Ml(d,"detail",p),Ml(d,"command",hQ)}}function Ml(t,e,n){t[e]!==n&&(t[e]=n)}var hm=require("vscode");function Wx(t,e,n){return wh(t,e,n)}var gQ=["todo","hello-world","cspell-info"],Ho=Object.freeze(Object.fromEntries(gQ.map(t=>[t,t])));function Kx(t){let e;return new Promise((n,r)=>{let i=!1;e=t.subscribe(s=>{if(!i){i=!0;try{n(s)}finally{un(e)}}})})}var xr;(function(t){t[t.none=0]="none",t[t.debug=1]="debug",t[t.log=2]="log",t[t.info=4]="info",t[t.warn=8]="warn",t[t.error=16]="error",t[t.everything=31]="everything"})(xr||(xr={}));var Ul;(function(t){t[t.none=0]="none",t[t.debug=1]="debug",t[t.log=2]="log",t[t.info=3]="info",t[t.warn=4]="warn",t[t.error=5]="error"})(Ul||(Ul={}));var $x=class{logger;logLevelMask=0;constructor(e,n){this.logger=e,this.logLevelMask=mQ(n)}log=this.bindLogger("log",xr.log);error=this.bindLogger("error",xr.error);warn=this.bindLogger("warn",xr.warn);info=this.bindLogger("info",xr.info);debug=this.bindLogger("debug",xr.debug);enableLog=this.bindEnable("log");enableError=this.bindEnable("error");enableWarn=this.bindEnable("warn");enableInfo=this.bindEnable("info");enableDebug=this.bindEnable("debug");isMethodEnabled(e){return!!(xr[e]&this.logLevelMask)}setLogger(e){return this.logger=e,this}enableMethod(e,n=!0){let r=xr[e];return n?this.logLevelMask|=r:this.logLevelMask&=~r,this}setLogLevelMask(e){return this.logLevelMask=e,this}bindLogger(e,n){return(...r)=>this.logLevelMask&n&&this.logger[e](...r)||void 0}bindEnable(e){return n=>this.enableMethod(e,n)}};function mQ(t){return t?xr.everything&xr.everything<<t-1:0}function Vq(t=console,e=Ul.log){return new $x(t,e)}var zo=require("vscode");var Xi=Ue(require("vscode"),1),ql=require("vscode");function Hq(t){return e=>e===void 0?t:e}function Vx(t){return e=>e===void 0?void 0:t(e)}function zq(t){if(arguments.length>1){let e=[...arguments].slice(1),n=t;for(let r of e)n=r(n);return n}return t}async function Yq(t,e,n,r){let i=e||TQ(t?.uri),s=Jw(i),o=await n.getConfigurationForDocument(t,{enabledFileTypes:!0,enabledLanguageIds:!0,enableFiletypes:!0,dictionaries:!0,dictionaryDefinitions:!0,languageSettings:!0,language:!0});return{knownLanguageIds:[...n.languageIds].sort(),dictionaries:Zq(o.settings),configs:CQ(s,o,t,r),workspace:_Q(n.allowedSchemas,Xi.workspace),activeFileUri:t?.uri.toString(),activeFolderUri:i?.toString()}}var Gq={defaultValue:"default",globalValue:"user",workspaceValue:"workspace",workspaceFolderValue:"folder"},Qq=["defaultValue","globalValue","workspaceValue","workspaceFolderValue"],yQ=new Map(Qq.map((t,e)=>[t,e]));function CQ(t,e,n,r){return{user:Hx(1,t),workspace:Hx(2,t),folder:Hx(3,t),file:bQ(e,n,r)}}function Jq(t){return yQ.get(t)||0}function vQ(t,e){return Jq(t)>Jq(e)?t:e}function qg(t,e,n){for(let r=t;r>0;--r){let i=Qq[r],s=n[i];if(s&&s[e])return i}return"defaultValue"}function Hx(t,e){let n=qg(t,"language",e),r=qg(t,Be.enabledLanguageIds,e),i=qg(t,Be.enableFiletypes,e),s=qg(t,Be.enabledFileTypes,e),o=OQ(e[r],e[i],e[s]),a=vQ(r,i);return{inherited:{locales:Gq[n],languageIdsEnabled:Gq[a]},locales:zx(e[n]?.language),languageIdsEnabled:o}}function SQ(t){if(t)return t.map(e=>({...e,name:e.name||e.configUri&&Pr(Xe(e.configUri))}))}function bQ(t,e,n){if(!e)return;let{uri:r,fileName:i,languageId:s,isUntitled:o}=e,{enabled:a,enabledVSCode:c,languageIdEnabled:u,docSettings:f,fileEnabled:g,fileIsExcluded:p,fileIsIncluded:l,gitignoreInfo:d,excludedBy:h,uriUsed:m,workspaceFolderUri:C}=t,D=new Set(f&&f.dictionaries||[]),T=Zq(f).filter(j=>D.has(j.name)),k=m?ql.Uri.parse(m):r,I=C&&Xi.workspace.getWorkspaceFolder(ql.Uri.parse(C))||Xi.workspace.getWorkspaceFolder(k);function B(){if(!d)return;let{glob:j,gitIgnoreFile:re,line:ne,matched:V,root:N}=d,$=ql.Uri.parse(re);return{matched:V,glob:j,line:ne,root:N,gitignoreFileUri:re,gitignoreName:Pr($)}}return{enabled:a,enabledVSCode:c,uri:r.toString(),uriActual:k.toString(),fileName:i,name:k.path.split("/").slice(-1)[0],isUntitled:o,locales:zx(f?.language),languageId:s,dictionaries:T,languageIdEnabled:u,fileEnabled:g,configFiles:kQ(t),fileIsExcluded:p,fileIsIncluded:l,fileIsInWorkspace:!!I||!!C||o,excludedBy:SQ(h),gitignoreInfo:B(),blockedReason:t.blockedReason,workspaceFolder:DQ(I)}}function DQ(t){if(t)return{uri:t.uri.toString(),name:t.name,index:t.index}}function wQ(){return Xi.workspace.workspaceFolders?.[0]}function TQ(t){return t&&Xi.workspace.getWorkspaceFolder(t)?.uri||wQ()?.uri}function xQ(t){return Xi.workspace.asRelativePath(t,!0)}function EQ(t){return t.scheme==="file"||Xi.workspace.getWorkspaceFolder(t)?Xi.workspace.asRelativePath(t,!0):t.toString(!0)}function kQ(t){let{configFiles:e,configTargets:n}=t,r=n.filter(FQ).map(({name:s,configUri:o})=>({name:s,uri:o}));return r.length?r:e.map(s=>({name:Pr(Xe(s)),uri:s}))}function FQ(t){return t.kind==="cspell"}var PQ=/\.txt$/,RQ=/(?:@|%40)cspell\//;function Zq(t){if(!t)return[];let e=t.dictionaryDefinitions||[],n=new Map(e.map(AQ).map(i=>[i.name,i]));return(t.languageSettings||[]).forEach(i=>{let s=zx(i.locale||i.local),o=e2(i.languageId);(i.dictionaries||[]).forEach(c=>{let u=n.get(c);u&&(u.locales=Xq(u.locales,s),u.languageIds=Xq(u.languageIds,o))})}),[...n.values()]}function AQ(t){let e=IQ(t),n=e?.toString(),r=n&&(t.addWords||PQ.test(n)&&!RQ.test(n));return{name:t.name,locales:[],languageIds:[],description:t.description,uri:r?n:void 0,uriName:r&&e?EQ(e):void 0}}function IQ(t){if(!(!t.path&&!t.file))return ql.Uri.joinPath(Xe(t.path||""),t.file||"")}function zx(t){return e2(t)}function e2(t){return zq(t,Vx(e=>typeof e=="string"?e:e.join(",")),Vx(e=>e.replace(/\*/g,"").split(/[,;]/).map(n=>n.trim()).filter(n=>!!n)),Hq([]))}function Xq(t,e){return t.concat(e).filter(eo())}function _Q(t,e){function n(c){let{name:u,index:f}=c;return{uri:c.uri.toString(),name:u,index:f}}function r(c){let{fileName:u,languageId:f,isUntitled:g}=c;return{uri:c.uri.toString(),fileName:xQ(u),languageId:f,isUntitled:g}}let{name:i,workspaceFolders:s,textDocuments:o}=e;return{name:i,workspaceFolders:s?s.map(n):void 0,textDocuments:o.filter(c=>t.has(c.uri.scheme)).map(r)}}function NQ(...t){let e={};return t.reduce((n,r)=>od(r,n),e)}function OQ(...t){let e=NQ(...t.filter(Cn));return Object.entries(e).filter(([,n])=>n).map(([n])=>n)}var r2=Ue(n2(),1);function Jx(t){return new Gx(t)}var Gx=class extends Ws{_value;constructor(e){super(),this._value=e}get value(){return this._value}set value(e){this.set(e)}set(e){this._value===e||(0,r2.default)(this._value,e)||(this._value=e,this.notify(e))}subscribe(e){let n=super.subscribe(e);return oc(e)(this._value),n}update(e){return this.set(e(this._value))}};var ui=require("vscode");var i2=[{uuid:1,done:!1,text:"finish Svelte tutorial"},{uuid:2,done:!1,text:"build an app"},{uuid:3,done:!1,text:"world domination"}];function Xx(t){return MQ(t,$s())}var LQ={...console},o2=Vq(LQ,Ul.none);function hc(){return o2}function MQ(t,e){let n,r=new Set,i=tt([()=>un(n)],"bindApiAndStore"),s=i.dispose,a=Wx(t,{serverRequests:{whatTimeIsIt:u,getLogDebug:()=>e.state.logDebug.value,getTodos:()=>s2(e.state.todos),getCurrentDocument:()=>s2(e.state.currentDocument),getDocSettings:Yx,updateEnabledFileTypes:g=>Us(g.enabledFileTypes,g.url),setLogDebug:g=>e.state.logDebug.value=g,setTodos:g=>UQ(g,e.state.todos),watchFields:c,resetTodos:f},serverNotifications:{async showInformationMessage(g){await ui.window.showInformationMessage("Show Message: "+g)},async openTextDocument(g,p){if(!g)return;let l=ui.Uri.parse(g),d=await ui.window.showTextDocument(l);if(p){let{line:h,column:m=1}=p;if(h){let C=new ui.Position(h-1,m-1),D=new ui.Range(C,C);d.revealRange(D),d.selection=new ui.Selection(D.start,D.end)}}}},clientRequests:{},clientNotifications:{onStateChange:!0}},o2);return i.push(es(a)),Zi({...a},s,"bindApiAndStore");function c(g){un(n),g.forEach(p=>r.add(p)),n=a2(r,p=>{a.clientNotification.onStateChange(p)})}function u(){return new Date().toString()}function f(){return Qx(void 0,i2.map(g=>({...g})),e.state.todos)}}function UQ(t,e){return Qx(t.seq,t.value,e)}function s2(t){return qQ(Kx(t))}async function qQ(t){let e=await t;return jQ(e)}function jQ(t){return{seq:$s().seq,value:t}}var BQ=!1;BQ&&hc().setLogLevelMask(xr.everything);var jl;function $s(){if(jl)return jl;let t=xl(WQ),e=Bo(t,Tl(500),QT);function n(){un(t);let s=jl;jl=void 0,s&&Object.values(s.state).forEach(o=>un(o))}let r={logDebug:Jx(hc().isMethodEnabled("debug")),todos:Jx([])};return jl=Zi({seq:1,state:{...r,currentDocument:e}},n,"getWebviewGlobalStore")}function WQ(t){let e=oc(t),n=[],r=id(n);return i(zo.window.activeTextEditor),n.push(u2(zo.window.onDidChangeActiveTextEditor(i,void 0))),n.push(u2(zo.window.onDidChangeTextEditorSelection(s=>s.textEditor===zo.window.activeTextEditor&&i(s.textEditor),void 0))),r;function i(s){if(!s)return;let o=s.document,a={url:o.uri.toString(),version:o.version};e(a)}}async function Yx(t){let e=t&&KQ(t)||void 0,n=Ac();return Yq(e,void 0,n.client,console.log)}function Qx(t,e,n){let r=$s();return t&&t!==r.seq?{seq:r.seq,value:n.value,success:!1}:(r.seq++,n.set(e),{seq:r.seq,value:n.value,success:!0})}function a2(t,e){let n=$s(),i=[...t].map(s=>({field:s,sub:n.state[s]})).map(s=>s.sub.subscribe(()=>e([s.field])));return id(i)}function KQ(t){for(let e of zo.workspace.textDocuments)if(!$Q(e.uri,t))return e}function $Q(t,e){let n=c2(t),r=c2(e);return n===r?0:n<r?-1:1}function c2(t){return decodeURIComponent(decodeURIComponent(t.toString())).normalize("NFC").replace(/^file:\/\/\/[a-z]:/i,n=>n.toLowerCase())}function u2(t){return Bn(()=>t.dispose(),void 0,"disposeClassic")}var zl=require("vscode");var yE=require("vscode");var Tc=Ue(yj(),1),pE=class extends Tc.AbstractMessageReader{webview;logger;constructor(e,n){super(),this.webview=e,this.logger=n}listen(e){return this.logger?.debug("start listening"),this.webview.onDidReceiveMessage(n=>{this.logger?.debug("listen: %o",n),e(n)})}},hE=class extends Tc.AbstractMessageWriter{webview;logger;errorCount;constructor(e,n){super(),this.webview=e,this.logger=n,this.errorCount=0}async write(e){try{await this.webview.postMessage(e),this.errorCount=0}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};function gE(t,e){return(0,Tc.createMessageConnection)(new pE(t,e),new hE(t,e),e)}var Cj="dist/assets/index-e7IpHg87.js",vj=["dist/assets/index-CIJQks68.css"];var mE="dist/assets";function Sj(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var bj=require("vscode");function Dj(t,e,...n){return t.asWebviewUri(bj.Uri.joinPath(e,...n))}var Js=class t{constructor(e,n,r){this.webview=e;this.extensionUri=n;this.viewName=r;e.options=this.calcOptions(),e.html=this._getWebviewContent();let i=gE(e,hc());this._disposables.push(es(Xx(i),"createApi")),i.listen(),this._disposables.push(es(i,"rpc"))}_disposables=tt(void 0,"AppView");dispose=this._disposables.dispose;calcOptions(){let e=this.extensionUri;return{enableScripts:!0,localResourceRoots:[yE.Uri.joinPath(e,"out"),yE.Uri.joinPath(e,"packages/webview-ui/"+mE)]}}webViewUri(e){let{webview:n,extensionUri:r}=this;return Dj(n,r,"packages/webview-ui/",e)}_getWebviewContent(){let{webview:e,viewName:n}=this,r=vj.map(u=>this.webViewUri(u)),i=this.webViewUri(mE+"/css/codicon.css"),s=[...r,i],o=this.webViewUri(Cj),a=Sj();function c(u){return`<link rel="stylesheet" type="text/css" nonce="${a}" href="${u}">`}return`
      <!DOCTYPE html>
      <html lang="en">
        <head>
          <title>Hello World</title>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <meta http-equiv="Content-Security-Policy" content="
            default-src 'none';
            font-src ${e.cspSource};
            style-src 'nonce-${a}';
            style-src-elem 'nonce-${a}';
            script-src 'nonce-${a}';
          ">
          <meta property="csp-nonce" content="${a}" />
          <meta property="view-name" content="${n}" />
          ${s.map(c).join(`
          `)}
          <script nonce="${a}">
            var process = { env: { NODE_ENV: 'production' } };
          </script>
          <script defer nonce="${a}" src="${o}"></script>
        </head>
        <body>
        </body>
      </html>
    `}static bindView(e,n,r){return new t(e,n,r)}};var lm=class{static bindView(e,n){return new Js(e,n,Ho["hello-world"])}};var Gl=class t{static currentPanel;_panel;_disposables=tt(void 0,"HelloWorldPanel");constructor(e,n){this._panel=e,this._disposables.push(this._panel),this._disposables.push(this._panel.onDidDispose(()=>this.dispose())),this._disposables.push(lm.bindView(this._panel.webview,n))}static render(e){if(t.currentPanel){t.currentPanel._panel.reveal(zl.ViewColumn.One);return}let n=zl.window.createWebviewPanel("showHelloWorld","Hello World",zl.ViewColumn.One,{});t.currentPanel=new t(n,e)}dispose(){t.currentPanel===this&&(t.currentPanel=void 0),this._disposables.dispose()}};var dm=class{static bindView(e,n){return new Js(e,n,Ho.todo)}};var fm=class{constructor(e){this.extensionUri=e}viewType="cspell-info.todoView";_view;resolveWebviewView(e,n,r){this._view=e;let i=dm.bindView(e.webview,this.extensionUri);this._view.onDidDispose(()=>i.dispose())}};var pm=class{constructor(e,n,r){this.extensionUri=e;this.viewName=n;this.viewType=r}_view;resolveWebviewView(e,n,r){this._view=e;let i=Js.bindView(e.webview,this.extensionUri,this.viewName);this._view.onDidDispose(()=>i.dispose())}};var wj=["cspell-info.showHelloWorld"],RZ=Object.fromEntries(wj.map(t=>[t,t]));function CE(t){let{subscriptions:e,extensionUri:n}=t,r=[new fm(n),new pm(n,Ho["cspell-info"],"cSpellInfoView")];for(let s of r)e.push(hm.window.registerWebviewViewProvider(s.viewType,s));let i=hm.commands.registerCommand(RZ["cspell-info.showHelloWorld"],()=>{Gl.render(t.extensionUri)});e.push(i,{dispose:()=>Gl.currentPanel?.dispose()}),e.push($s())}Gt.mark("cspell_done_import");var xj=!1,Jl;UU();function AZ(t){try{Gt.mark("cspell_activate_start"),Ic("extensionContext",t);let e=ST(t.globalStorageUri);Ic("eventLogger",e),e.logActivate(),kj();let n=new Jt.EventEmitter,r=new Promise(i=>n.event(i));return Gt.mark("activateIssueViewer"),px(t,r),Gt.mark("activateFileIssuesViewer"),ax(t,r),Gt.mark("start_async_activate"),IZ({context:t,eIssueTracker:n}).catch(i=>{throw Tj(i)})}catch(e){throw Tj(e)}}function Tj(t){return new Error(`Failed to activate: (${Gt.getLastEventName()}) ${t}`,{cause:t})}async function IZ(t){let{context:e,eIssueTracker:n}=t,r=Jt.window.createOutputChannel("Code Spell Checker",{log:!0}),i=_Z(r);Gt.mark("create client");let s=await kh.create(e);if(e.subscriptions.push(s,r,i),Ic("client",s),xj){let $=Jt.Uri.joinPath(e.globalStorageUri,"data.json");console.log('Extension "Code Spell Checker" is now active! %o',{extensionUri:e.extensionUri.toJSON(),globalStorageUri:e.globalStorageUri.toJSON(),dataFileUri:$.toJSON(),dataFileDirUri:Jt.Uri.joinPath($,"..").toJSON(),workspaceState:e.workspaceState.keys(),globalState:e.globalState.keys()})}Gt.mark("ExtensionRegEx.activate"),AU(e,s),Gt.mark("start client"),await s.start(),Gt.mark("start IssueTracker");let o=new Cg(s);Ic("issueTracker",o),n.fire(o),n.dispose();function a($=0){setTimeout(c,$)}function c(){io(s.triggerSettingsRefresh(),"triggerGetSettings").then(()=>{}).catch(()=>{})}function u($){pr.log(`Configuration Change: ${$.toString()}`),Jl=void 0,a()}Gt.mark("createConfigWatcher");let f=mU(),g=new wl(e,o),p=new El(e,s),l={"cSpell.toggleTraceMode":()=>p.toggleVisible(),"cSpell.toggleVisible":()=>g.toggleVisible(),"cSpell.show":()=>g.visible=!0,"cSpell.hide":()=>g.visible=!1,"cSpell.createCSpellTerminal":jx};Gt.mark("register"),e.subscriptions.push(o,f,f.onDidChangeConfig(u),Jt.workspace.onDidSaveTextDocument(h),Jt.workspace.onDidRenameFiles(m),Jt.workspace.onDidDeleteFiles(C),Jt.workspace.onDidCreateFiles(D),Jt.workspace.onDidOpenTextDocument(T),Jt.workspace.onDidChangeConfiguration(k),Jt.window.onDidChangeActiveTextEditor(I),Jt.window.onDidChangeVisibleTextEditors(B),o.onDidChangeDiagnostics(W),g,p,hU(o),NM(g.visible,g.onDidChangeVisibility),Bx(),...sU(l),Jt.workspace.onDidChangeConfiguration(d),$q({areIssuesVisible:()=>g.visible,onDidChangeVisibility:g.onDidChangeVisibility}),uU({areIssuesVisible:()=>g.visible}),s.onBlockFile(NZ)),Gt.mark("registerCspellInlineCompletionProviders"),await fU(e.subscriptions).catch(()=>{});function d($){$.affectsConfiguration(Dr)&&a()}function h($){j([$.uri])}function m($){let te=$.files.map(K=>K.newUri).concat($.files.map(K=>K.oldUri));j(te)}function C($){j($.files)}function D($){j($.files)}function T($){}function k($){$.affectsConfiguration(pM("logLevel"))&&kj()}function I($){ln(tc(s,$?.document),"handleOnDidChangeActiveTextEditor")}function B($){ln(tc(s,Jt.window.activeTextEditor?.document),"handleOnDidChangeVisibleTextEditors")}function W($){let te=Jt.window.activeTextEditor;if(!te)return;new Set($.uris.map(G=>G.toString())).has(te.document.uri.toString())&&setTimeout(()=>{ln(tc(s,te.document),"handleOnDidChangeDiagnostics")},10)}function j($){for(let te of $)if(lv.has(pi.basename(te))){a();break}}function re($){s.registerConfiguration($)}let ne={enableLocale:($,te)=>jT($,te,!0),disableLocale:($,te)=>jT($,te,!1)},V=($,te)=>s.getConfigurationForDocument($,te);Gt.mark("setup Extension API");let N={registerConfig:re,triggerGetSettings:a,enableLanguageId:UT,disableLanguageId:qT,enableCurrentFileType:vl,disableCurrentFileType:Sl,addWordToUserDictionary:gd,addWordToWorkspaceDictionary:hd,enableLocale:ne.enableLocale,disableLocale:ne.disableLocale,updateSettings:()=>!1,cSpellClient:()=>s,getConfigurationForDocument:V,checkDocument:ag,enableLocal:ne.enableLocale,disableLocal:ne.disableLocale,enableCurrentLanguage:vl,disableCurrentLanguage:Sl};return Gt.mark("activateWebview"),CE(e),Gt.mark("cspell_activate_end"),Gt.measure("cspell_activation","cspell_activate_start","cspell_activate_end"),N}function _Z(t){let e=tt(),n=Ej(),r={log:(...i)=>xj||n==="Debug"?t.info(...i):t.debug(...i),error:t.error.bind(t),info:t.info.bind(t),warn:t.warn.bind(t)};return pr.setConnection({console:r,onExit:i=>e.push(i)}),pr.logTime=!1,pr.logSequence=!1,e}Gt.mark("cspell_done_load");function Ej(){return Jl||(Jl=zi("logLevel",void 0)||"Error",Jl)}function kj(t){let e=t??Ej();pr.level=e}async function NZ(t){try{let{uri:e,reason:n}=t;if(!RM(e))return;let r={title:"Open Settings"},i={title:"Manage Notifications"},s=[{title:"Ok"},r,i],o=await Jt.window.showInformationMessage(`File "${Pr(Jt.Uri.parse(e))}" not spell checked:
${n.notificationMessage}
`,...s);o===r&&await ig(n.settingsID),o===i&&await ig("cSpell.enabledNotifications")}catch{}}0&&(module.exports={activate});
/*! Bundled license information:

repeat-string/index.js:
  (*!
   * repeat-string <https://github.com/jonschlinkert/repeat-string>
   *
   * Copyright (c) 2014-2015, Jon Schlinkert.
   * Licensed under the MIT License.
   *)
*/
//# sourceMappingURL=extension.cjs.map
